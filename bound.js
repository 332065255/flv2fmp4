/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 5);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _flvTag = __webpack_require__(3);\n\nvar _flvTag2 = _interopRequireDefault(_flvTag);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FlvParse = function () {\n    function FlvParse() {\n        _classCallCheck(this, FlvParse);\n\n        this.tempUint8 = [];\n        this.arrTag = [];\n        this.index = 0;\n        this.tempArr = [];\n    }\n\n    /**\n     * 接受 外部的flv二进制数据\n     */\n\n\n    _createClass(FlvParse, [{\n        key: \"setFlv\",\n        value: function setFlv(uint8) {\n            this.tempUint8 = uint8;\n            this.parse();\n        }\n\n        /**\n         * 开始解析\n         */\n\n    }, {\n        key: \"parse\",\n        value: function parse() {\n            this.read(9); //略掉9个字节的flv header tag\n            this.read(4); //略掉第一个4字节的 tag size\n            while (this.index < this.tempUint8.length) {\n                var t = new _flvTag2.default();\n                t.tagType = this.read(1)[0]; //取出tag类型\n                t.dataSize = [].concat(this.read(3)); //取出包体大小\n                t.Timestamp = [].concat(this.read(4)); //取出解码时间\n                t.StreamID = [].concat(this.read(3)); //取出stream id\n                t.body = [].concat(this.read(this.getBodySum(t.dataSize))); //取出body\n                this.arrTag.push(t);\n                this.read(4);\n            }\n        }\n    }, {\n        key: \"read\",\n        value: function read(length) {\n            this.tempArr.length = 0;\n            for (var i = 0; i < length; i++) {\n                this.tempArr.push(this.tempUint8[this.index]);\n                this.index += 1;\n            }\n            return this.tempArr;\n        }\n\n        /**\n         * 计算tag包体大小\n         */\n\n    }, {\n        key: \"getBodySum\",\n        value: function getBodySum(arr) {\n            var _str = \"\";\n            _str += arr[0].toString(16).length == 1 ? \"0\" + arr[0].toString(16) : arr[0].toString(16);\n            _str += arr[1].toString(16).length == 1 ? \"0\" + arr[1].toString(16) : arr[1].toString(16);\n            _str += arr[2].toString(16).length == 1 ? \"0\" + arr[2].toString(16) : arr[2].toString(16);\n            return parseInt(_str, 16);\n        }\n    }]);\n\n    return FlvParse;\n}();\n\nexports.default = new FlvParse();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvZmx2UGFyc2UuanM/Y2FlOCJdLCJuYW1lcyI6WyJGbHZQYXJzZSIsInRlbXBVaW50OCIsImFyclRhZyIsImluZGV4IiwidGVtcEFyciIsInVpbnQ4IiwicGFyc2UiLCJyZWFkIiwibGVuZ3RoIiwidCIsInRhZ1R5cGUiLCJkYXRhU2l6ZSIsImNvbmNhdCIsIlRpbWVzdGFtcCIsIlN0cmVhbUlEIiwiYm9keSIsImdldEJvZHlTdW0iLCJwdXNoIiwiaSIsImFyciIsIl9zdHIiLCJ0b1N0cmluZyIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7OztJQUNNQSxRO0FBQ0Ysd0JBQWM7QUFBQTs7QUFDVixhQUFLQyxTQUFMLEdBQWlCLEVBQWpCO0FBQ0EsYUFBS0MsTUFBTCxHQUFjLEVBQWQ7QUFDQSxhQUFLQyxLQUFMLEdBQWEsQ0FBYjtBQUNBLGFBQUtDLE9BQUwsR0FBZSxFQUFmO0FBQ0g7O0FBRUQ7Ozs7Ozs7K0JBR09DLEssRUFBTztBQUNWLGlCQUFLSixTQUFMLEdBQWlCSSxLQUFqQjtBQUNBLGlCQUFLQyxLQUFMO0FBQ0g7O0FBRUQ7Ozs7OztnQ0FHUTtBQUNKLGlCQUFLQyxJQUFMLENBQVUsQ0FBVixFQURJLENBQ1U7QUFDZCxpQkFBS0EsSUFBTCxDQUFVLENBQVYsRUFGSSxDQUVVO0FBQ2QsbUJBQU8sS0FBS0osS0FBTCxHQUFhLEtBQUtGLFNBQUwsQ0FBZU8sTUFBbkMsRUFBMkM7QUFDdkMsb0JBQUlDLElBQUksc0JBQVI7QUFDQUEsa0JBQUVDLE9BQUYsR0FBYSxLQUFLSCxJQUFMLENBQVUsQ0FBVixFQUFhLENBQWIsQ0FBYixDQUZ1QyxDQUVSO0FBQy9CRSxrQkFBRUUsUUFBRixHQUFhLEdBQUdDLE1BQUgsQ0FBVyxLQUFLTCxJQUFMLENBQVUsQ0FBVixDQUFYLENBQWIsQ0FIdUMsQ0FHQztBQUN4Q0Usa0JBQUVJLFNBQUYsR0FBYyxHQUFHRCxNQUFILENBQVUsS0FBS0wsSUFBTCxDQUFVLENBQVYsQ0FBVixDQUFkLENBSnVDLENBSUE7QUFDdkNFLGtCQUFFSyxRQUFGLEdBQWEsR0FBR0YsTUFBSCxDQUFVLEtBQUtMLElBQUwsQ0FBVSxDQUFWLENBQVYsQ0FBYixDQUx1QyxDQUtEO0FBQ3RDRSxrQkFBRU0sSUFBRixHQUFTLEdBQUdILE1BQUgsQ0FBVSxLQUFLTCxJQUFMLENBQVUsS0FBS1MsVUFBTCxDQUFnQlAsRUFBRUUsUUFBbEIsQ0FBVixDQUFWLENBQVQsQ0FOdUMsQ0FNcUI7QUFDNUQscUJBQUtULE1BQUwsQ0FBWWUsSUFBWixDQUFpQlIsQ0FBakI7QUFDQSxxQkFBS0YsSUFBTCxDQUFVLENBQVY7QUFDSDtBQUNKOzs7NkJBQ0lDLE0sRUFBUTtBQUNULGlCQUFLSixPQUFMLENBQWFJLE1BQWIsR0FBc0IsQ0FBdEI7QUFDQSxpQkFBSyxJQUFJVSxJQUFJLENBQWIsRUFBZ0JBLElBQUlWLE1BQXBCLEVBQTRCVSxHQUE1QixFQUFpQztBQUM3QixxQkFBS2QsT0FBTCxDQUFhYSxJQUFiLENBQWtCLEtBQUtoQixTQUFMLENBQWUsS0FBS0UsS0FBcEIsQ0FBbEI7QUFDQSxxQkFBS0EsS0FBTCxJQUFjLENBQWQ7QUFDSDtBQUNELG1CQUFPLEtBQUtDLE9BQVo7QUFDSDs7QUFFRDs7Ozs7O21DQUdXZSxHLEVBQUs7QUFDWixnQkFBSUMsT0FBTyxFQUFYO0FBQ0FBLG9CQUFTRCxJQUFJLENBQUosRUFBT0UsUUFBUCxDQUFnQixFQUFoQixFQUFvQmIsTUFBcEIsSUFBOEIsQ0FBOUIsR0FBa0MsTUFBTVcsSUFBSSxDQUFKLEVBQU9FLFFBQVAsQ0FBZ0IsRUFBaEIsQ0FBeEMsR0FBOERGLElBQUksQ0FBSixFQUFPRSxRQUFQLENBQWdCLEVBQWhCLENBQXZFO0FBQ0FELG9CQUFTRCxJQUFJLENBQUosRUFBT0UsUUFBUCxDQUFnQixFQUFoQixFQUFvQmIsTUFBcEIsSUFBOEIsQ0FBOUIsR0FBa0MsTUFBTVcsSUFBSSxDQUFKLEVBQU9FLFFBQVAsQ0FBZ0IsRUFBaEIsQ0FBeEMsR0FBOERGLElBQUksQ0FBSixFQUFPRSxRQUFQLENBQWdCLEVBQWhCLENBQXZFO0FBQ0FELG9CQUFTRCxJQUFJLENBQUosRUFBT0UsUUFBUCxDQUFnQixFQUFoQixFQUFvQmIsTUFBcEIsSUFBOEIsQ0FBOUIsR0FBa0MsTUFBTVcsSUFBSSxDQUFKLEVBQU9FLFFBQVAsQ0FBZ0IsRUFBaEIsQ0FBeEMsR0FBOERGLElBQUksQ0FBSixFQUFPRSxRQUFQLENBQWdCLEVBQWhCLENBQXZFO0FBQ0EsbUJBQU9DLFNBQVNGLElBQVQsRUFBZSxFQUFmLENBQVA7QUFDSDs7Ozs7O2tCQUVVLElBQUlwQixRQUFKLEUiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0YWcgZnJvbSAnLi9mbHZUYWcuanMnXG5jbGFzcyBGbHZQYXJzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGVtcFVpbnQ4ID0gW107XG4gICAgICAgIHRoaXMuYXJyVGFnID0gW107XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLnRlbXBBcnIgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmjqXlj5cg5aSW6YOo55qEZmx25LqM6L+b5Yi25pWw5o2uXG4gICAgICovXG4gICAgc2V0Rmx2KHVpbnQ4KSB7XG4gICAgICAgIHRoaXMudGVtcFVpbnQ4ID0gdWludDg7XG4gICAgICAgIHRoaXMucGFyc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvIDlp4vop6PmnpBcbiAgICAgKi9cbiAgICBwYXJzZSgpIHtcbiAgICAgICAgdGhpcy5yZWFkKDkpOyAvL+eVpeaOiTnkuKrlrZfoioLnmoRmbHYgaGVhZGVyIHRhZ1xuICAgICAgICB0aGlzLnJlYWQoNCk7IC8v55Wl5o6J56ys5LiA5LiqNOWtl+iKgueahCB0YWcgc2l6ZVxuICAgICAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGVtcFVpbnQ4Lmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHQgPSBuZXcgdGFnKCk7XG4gICAgICAgICAgICB0LnRhZ1R5cGUgPSAodGhpcy5yZWFkKDEpWzBdKTsgLy/lj5blh7p0YWfnsbvlnotcbiAgICAgICAgICAgIHQuZGF0YVNpemUgPSBbXS5jb25jYXQoKHRoaXMucmVhZCgzKSkpOyAvL+WPluWHuuWMheS9k+Wkp+Wwj1xuICAgICAgICAgICAgdC5UaW1lc3RhbXAgPSBbXS5jb25jYXQodGhpcy5yZWFkKDQpKTsgLy/lj5blh7rop6PnoIHml7bpl7RcbiAgICAgICAgICAgIHQuU3RyZWFtSUQgPSBbXS5jb25jYXQodGhpcy5yZWFkKDMpKTsgLy/lj5blh7pzdHJlYW0gaWRcbiAgICAgICAgICAgIHQuYm9keSA9IFtdLmNvbmNhdCh0aGlzLnJlYWQodGhpcy5nZXRCb2R5U3VtKHQuZGF0YVNpemUpKSk7IC8v5Y+W5Ye6Ym9keVxuICAgICAgICAgICAgdGhpcy5hcnJUYWcucHVzaCh0KTtcbiAgICAgICAgICAgIHRoaXMucmVhZCg0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWFkKGxlbmd0aCkge1xuICAgICAgICB0aGlzLnRlbXBBcnIubGVuZ3RoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy50ZW1wQXJyLnB1c2godGhpcy50ZW1wVWludDhbdGhpcy5pbmRleF0pO1xuICAgICAgICAgICAgdGhpcy5pbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBBcnI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6K6h566XdGFn5YyF5L2T5aSn5bCPXG4gICAgICovXG4gICAgZ2V0Qm9keVN1bShhcnIpIHtcbiAgICAgICAgbGV0IF9zdHIgPSBcIlwiO1xuICAgICAgICBfc3RyICs9IChhcnJbMF0udG9TdHJpbmcoMTYpLmxlbmd0aCA9PSAxID8gXCIwXCIgKyBhcnJbMF0udG9TdHJpbmcoMTYpIDogYXJyWzBdLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIF9zdHIgKz0gKGFyclsxXS50b1N0cmluZygxNikubGVuZ3RoID09IDEgPyBcIjBcIiArIGFyclsxXS50b1N0cmluZygxNikgOiBhcnJbMV0udG9TdHJpbmcoMTYpKTtcbiAgICAgICAgX3N0ciArPSAoYXJyWzJdLnRvU3RyaW5nKDE2KS5sZW5ndGggPT0gMSA/IFwiMFwiICsgYXJyWzJdLnRvU3RyaW5nKDE2KSA6IGFyclsyXS50b1N0cmluZygxNikpO1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoX3N0ciwgMTYpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBGbHZQYXJzZSgpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2Zsdi9mbHZQYXJzZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _flvdemux = __webpack_require__(4);\n\nvar _flvdemux2 = _interopRequireDefault(_flvdemux);\n\nvar _mediaInfo = __webpack_require__(6);\n\nvar _mediaInfo2 = _interopRequireDefault(_mediaInfo);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar tagDemux = function () {\n    function tagDemux() {\n        _classCallCheck(this, tagDemux);\n\n        this.TAG = this.constructor.name;\n\n        this._config = {};\n\n        this._onError = null;\n        this._onMediaInfo = null;\n        this._onTrackMetadata = null;\n        this._onDataAvailable = null;\n\n        this._dataOffset = 0;\n        this._firstParse = true;\n        this._dispatch = false;\n\n        this._hasAudio = false;\n        this._hasVideo = false;\n\n        this._audioInitialMetadataDispatched = false;\n        this._videoInitialMetadataDispatched = false;\n\n        this._mediaInfo = new _mediaInfo2.default();\n        this._mediaInfo.hasAudio = this._hasAudio;\n        this._mediaInfo.hasVideo = this._hasVideo;\n        this._metadata = null;\n        this._audioMetadata = null;\n        this._videoMetadata = null;\n\n        this._naluLengthSize = 4;\n        this._timestampBase = 0; // int32, in milliseconds\n        this._timescale = 1000;\n        this._duration = 0; // int32, in milliseconds\n        this._durationOverrided = false;\n        this._referenceFrameRate = {\n            fixed: true,\n            fps: 23.976,\n            fps_num: 23976,\n            fps_den: 1000\n        };\n\n        this._videoTrack = { type: 'video', id: 1, sequenceNumber: 0, samples: [], length: 0 };\n        this._audioTrack = { type: 'audio', id: 2, sequenceNumber: 0, samples: [], length: 0 };\n\n        this._littleEndian = function () {\n            var buf = new ArrayBuffer(2);\n            new DataView(buf).setInt16(0, 256, true); // little-endian write\n            return new Int16Array(buf)[0] === 256; // platform-spec read, if equal then LE\n        }();\n    }\n\n    _createClass(tagDemux, [{\n        key: 'onMediaInfo',\n        value: function onMediaInfo(callback) {\n            this._onMediaInfo = callback;\n        }\n    }, {\n        key: 'parseMetadata',\n        value: function parseMetadata(arr) {\n            var data = _flvdemux2.default.parseMetadata(arr);\n            this._parseScriptData(data);\n            console.log(this._mediaInfo, this._mediaInfo.isComplete());\n        }\n    }, {\n        key: '_parseScriptData',\n        value: function _parseScriptData(obj) {\n            var scriptData = obj;\n\n            if (scriptData.hasOwnProperty('onMetaData')) {\n                if (this._metadata) {\n                    Log.w(this.TAG, 'Found another onMetaData tag!');\n                }\n                this._metadata = scriptData;\n                var onMetaData = this._metadata.onMetaData;\n\n                if (typeof onMetaData.hasAudio === 'boolean') {\n                    // hasAudio\n                    this._hasAudio = onMetaData.hasAudio;\n                    this._mediaInfo.hasAudio = this._hasAudio;\n                }\n                if (typeof onMetaData.hasVideo === 'boolean') {\n                    // hasVideo\n                    this._hasVideo = onMetaData.hasVideo;\n                    this._mediaInfo.hasVideo = this._hasVideo;\n                }\n                if (typeof onMetaData.audiodatarate === 'number') {\n                    // audiodatarate\n                    this._mediaInfo.audioDataRate = onMetaData.audiodatarate;\n                }\n                if (typeof onMetaData.videodatarate === 'number') {\n                    // videodatarate\n                    this._mediaInfo.videoDataRate = onMetaData.videodatarate;\n                }\n                if (typeof onMetaData.width === 'number') {\n                    // width\n                    this._mediaInfo.width = onMetaData.width;\n                }\n                if (typeof onMetaData.height === 'number') {\n                    // height\n                    this._mediaInfo.height = onMetaData.height;\n                }\n                if (typeof onMetaData.duration === 'number') {\n                    // duration\n                    if (!this._durationOverrided) {\n                        var duration = Math.floor(onMetaData.duration * this._timescale);\n                        this._duration = duration;\n                        this._mediaInfo.duration = duration;\n                    }\n                } else {\n                    this._mediaInfo.duration = 0;\n                }\n                if (typeof onMetaData.framerate === 'number') {\n                    // framerate\n                    var fps_num = Math.floor(onMetaData.framerate * 1000);\n                    if (fps_num > 0) {\n                        var fps = fps_num / 1000;\n                        this._referenceFrameRate.fixed = true;\n                        this._referenceFrameRate.fps = fps;\n                        this._referenceFrameRate.fps_num = fps_num;\n                        this._referenceFrameRate.fps_den = 1000;\n                        this._mediaInfo.fps = fps;\n                    }\n                }\n                if (_typeof(onMetaData.keyframes) === 'object') {\n                    // keyframes\n                    this._mediaInfo.hasKeyframesIndex = true;\n                    var keyframes = onMetaData.keyframes;\n                    keyframes.times = onMetaData.times;\n                    keyframes.filepositions = onMetaData.filepositions;\n                    this._mediaInfo.keyframesIndex = this._parseKeyframesIndex(keyframes);\n                    onMetaData.keyframes = null; // keyframes has been extracted, remove it\n                } else {\n                    this._mediaInfo.hasKeyframesIndex = false;\n                }\n                this._dispatch = false;\n                this._mediaInfo.metadata = onMetaData;\n                console.log(this.TAG, 'Parsed onMetaData');\n                // if (this._mediaInfo.isComplete()) {\n                // this._onMediaInfo(this._mediaInfo);\n                // }\n                return this._mediaInfo;\n            }\n        }\n    }, {\n        key: '_parseKeyframesIndex',\n        value: function _parseKeyframesIndex(keyframes) {\n            var times = [];\n            var filepositions = [];\n\n            // ignore first keyframe which is actually AVC Sequence Header (AVCDecoderConfigurationRecord)\n            for (var i = 1; i < keyframes.times.length; i++) {\n                var time = this._timestampBase + Math.floor(keyframes.times[i] * 1000);\n                times.push(time);\n                filepositions.push(keyframes.filepositions[i]);\n            }\n\n            return {\n                times: times,\n                filepositions: filepositions\n            };\n        }\n    }]);\n\n    return tagDemux;\n}();\n\nexports.default = new tagDemux();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvdGFnZGVtdXguanM/MTM1YyJdLCJuYW1lcyI6WyJ0YWdEZW11eCIsIlRBRyIsImNvbnN0cnVjdG9yIiwibmFtZSIsIl9jb25maWciLCJfb25FcnJvciIsIl9vbk1lZGlhSW5mbyIsIl9vblRyYWNrTWV0YWRhdGEiLCJfb25EYXRhQXZhaWxhYmxlIiwiX2RhdGFPZmZzZXQiLCJfZmlyc3RQYXJzZSIsIl9kaXNwYXRjaCIsIl9oYXNBdWRpbyIsIl9oYXNWaWRlbyIsIl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQiLCJfdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkIiwiX21lZGlhSW5mbyIsImhhc0F1ZGlvIiwiaGFzVmlkZW8iLCJfbWV0YWRhdGEiLCJfYXVkaW9NZXRhZGF0YSIsIl92aWRlb01ldGFkYXRhIiwiX25hbHVMZW5ndGhTaXplIiwiX3RpbWVzdGFtcEJhc2UiLCJfdGltZXNjYWxlIiwiX2R1cmF0aW9uIiwiX2R1cmF0aW9uT3ZlcnJpZGVkIiwiX3JlZmVyZW5jZUZyYW1lUmF0ZSIsImZpeGVkIiwiZnBzIiwiZnBzX251bSIsImZwc19kZW4iLCJfdmlkZW9UcmFjayIsInR5cGUiLCJpZCIsInNlcXVlbmNlTnVtYmVyIiwic2FtcGxlcyIsImxlbmd0aCIsIl9hdWRpb1RyYWNrIiwiX2xpdHRsZUVuZGlhbiIsImJ1ZiIsIkFycmF5QnVmZmVyIiwiRGF0YVZpZXciLCJzZXRJbnQxNiIsIkludDE2QXJyYXkiLCJjYWxsYmFjayIsImFyciIsImRhdGEiLCJwYXJzZU1ldGFkYXRhIiwiX3BhcnNlU2NyaXB0RGF0YSIsImNvbnNvbGUiLCJsb2ciLCJpc0NvbXBsZXRlIiwib2JqIiwic2NyaXB0RGF0YSIsImhhc093blByb3BlcnR5IiwiTG9nIiwidyIsIm9uTWV0YURhdGEiLCJhdWRpb2RhdGFyYXRlIiwiYXVkaW9EYXRhUmF0ZSIsInZpZGVvZGF0YXJhdGUiLCJ2aWRlb0RhdGFSYXRlIiwid2lkdGgiLCJoZWlnaHQiLCJkdXJhdGlvbiIsIk1hdGgiLCJmbG9vciIsImZyYW1lcmF0ZSIsImtleWZyYW1lcyIsImhhc0tleWZyYW1lc0luZGV4IiwidGltZXMiLCJmaWxlcG9zaXRpb25zIiwia2V5ZnJhbWVzSW5kZXgiLCJfcGFyc2VLZXlmcmFtZXNJbmRleCIsIm1ldGFkYXRhIiwiaSIsInRpbWUiLCJwdXNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7Ozs7SUFDTUEsUTtBQUNGLHdCQUFjO0FBQUE7O0FBQ1YsYUFBS0MsR0FBTCxHQUFXLEtBQUtDLFdBQUwsQ0FBaUJDLElBQTVCOztBQUVBLGFBQUtDLE9BQUwsR0FBZSxFQUFmOztBQUVBLGFBQUtDLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxhQUFLQyxZQUFMLEdBQW9CLElBQXBCO0FBQ0EsYUFBS0MsZ0JBQUwsR0FBd0IsSUFBeEI7QUFDQSxhQUFLQyxnQkFBTCxHQUF3QixJQUF4Qjs7QUFFQSxhQUFLQyxXQUFMLEdBQW1CLENBQW5CO0FBQ0EsYUFBS0MsV0FBTCxHQUFtQixJQUFuQjtBQUNBLGFBQUtDLFNBQUwsR0FBaUIsS0FBakI7O0FBRUEsYUFBS0MsU0FBTCxHQUFpQixLQUFqQjtBQUNBLGFBQUtDLFNBQUwsR0FBaUIsS0FBakI7O0FBRUEsYUFBS0MsK0JBQUwsR0FBdUMsS0FBdkM7QUFDQSxhQUFLQywrQkFBTCxHQUF1QyxLQUF2Qzs7QUFFQSxhQUFLQyxVQUFMLEdBQWtCLHlCQUFsQjtBQUNBLGFBQUtBLFVBQUwsQ0FBZ0JDLFFBQWhCLEdBQTJCLEtBQUtMLFNBQWhDO0FBQ0EsYUFBS0ksVUFBTCxDQUFnQkUsUUFBaEIsR0FBMkIsS0FBS0wsU0FBaEM7QUFDQSxhQUFLTSxTQUFMLEdBQWlCLElBQWpCO0FBQ0EsYUFBS0MsY0FBTCxHQUFzQixJQUF0QjtBQUNBLGFBQUtDLGNBQUwsR0FBc0IsSUFBdEI7O0FBRUEsYUFBS0MsZUFBTCxHQUF1QixDQUF2QjtBQUNBLGFBQUtDLGNBQUwsR0FBc0IsQ0FBdEIsQ0E1QlUs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ImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZsdkRlbXV4IGZyb20gJy4vZmx2ZGVtdXgnXG5pbXBvcnQgbWVkaWFpbmZvIGZyb20gJy4vbWVkaWEtaW5mbydcbmNsYXNzIHRhZ0RlbXV4IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5UQUcgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0ge307XG5cbiAgICAgICAgdGhpcy5fb25FcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uTWVkaWFJbmZvID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25UcmFja01ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25EYXRhQXZhaWxhYmxlID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9kYXRhT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5fZmlyc3RQYXJzZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5faGFzQXVkaW8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faGFzVmlkZW8gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvID0gbmV3IG1lZGlhaW5mbygpO1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSB0aGlzLl9oYXNBdWRpbztcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gdGhpcy5faGFzVmlkZW87XG4gICAgICAgIHRoaXMuX21ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXVkaW9NZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvTWV0YWRhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX25hbHVMZW5ndGhTaXplID0gNDtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wQmFzZSA9IDA7IC8vIGludDMyLCBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgdGhpcy5fdGltZXNjYWxlID0gMTAwMDtcbiAgICAgICAgdGhpcy5fZHVyYXRpb24gPSAwOyAvLyBpbnQzMiwgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgIHRoaXMuX2R1cmF0aW9uT3ZlcnJpZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZSA9IHtcbiAgICAgICAgICAgIGZpeGVkOiB0cnVlLFxuICAgICAgICAgICAgZnBzOiAyMy45NzYsXG4gICAgICAgICAgICBmcHNfbnVtOiAyMzk3NixcbiAgICAgICAgICAgIGZwc19kZW46IDEwMDBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl92aWRlb1RyYWNrID0geyB0eXBlOiAndmlkZW8nLCBpZDogMSwgc2VxdWVuY2VOdW1iZXI6IDAsIHNhbXBsZXM6IFtdLCBsZW5ndGg6IDAgfTtcbiAgICAgICAgdGhpcy5fYXVkaW9UcmFjayA9IHsgdHlwZTogJ2F1ZGlvJywgaWQ6IDIsIHNlcXVlbmNlTnVtYmVyOiAwLCBzYW1wbGVzOiBbXSwgbGVuZ3RoOiAwIH07XG5cbiAgICAgICAgdGhpcy5fbGl0dGxlRW5kaWFuID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcigyKTtcbiAgICAgICAgICAgIChuZXcgRGF0YVZpZXcoYnVmKSkuc2V0SW50MTYoMCwgMjU2LCB0cnVlKTsgLy8gbGl0dGxlLWVuZGlhbiB3cml0ZVxuICAgICAgICAgICAgcmV0dXJuIChuZXcgSW50MTZBcnJheShidWYpKVswXSA9PT0gMjU2OyAvLyBwbGF0Zm9ybS1zcGVjIHJlYWQsIGlmIGVxdWFsIHRoZW4gTEVcbiAgICAgICAgfSkoKTtcbiAgICB9XG4gICAgb25NZWRpYUluZm8oY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25NZWRpYUluZm8gPSBjYWxsYmFjaztcbiAgICB9XG4gICAgcGFyc2VNZXRhZGF0YShhcnIpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBmbHZEZW11eC5wYXJzZU1ldGFkYXRhKGFycik7XG4gICAgICAgIHRoaXMuX3BhcnNlU2NyaXB0RGF0YShkYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fbWVkaWFJbmZvLCB0aGlzLl9tZWRpYUluZm8uaXNDb21wbGV0ZSgpKTtcbiAgICB9XG4gICAgX3BhcnNlU2NyaXB0RGF0YShvYmopIHtcbiAgICAgICAgbGV0IHNjcmlwdERhdGEgPSBvYmo7XG5cbiAgICAgICAgaWYgKHNjcmlwdERhdGEuaGFzT3duUHJvcGVydHkoJ29uTWV0YURhdGEnKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGb3VuZCBhbm90aGVyIG9uTWV0YURhdGEgdGFnIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWV0YWRhdGEgPSBzY3JpcHREYXRhO1xuICAgICAgICAgICAgbGV0IG9uTWV0YURhdGEgPSB0aGlzLl9tZXRhZGF0YS5vbk1ldGFEYXRhO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuaGFzQXVkaW8gPT09ICdib29sZWFuJykgeyAvLyBoYXNBdWRpb1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc0F1ZGlvID0gb25NZXRhRGF0YS5oYXNBdWRpbztcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSB0aGlzLl9oYXNBdWRpbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5oYXNWaWRlbyA9PT0gJ2Jvb2xlYW4nKSB7IC8vIGhhc1ZpZGVvXG4gICAgICAgICAgICAgICAgdGhpcy5faGFzVmlkZW8gPSBvbk1ldGFEYXRhLmhhc1ZpZGVvO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbyA9IHRoaXMuX2hhc1ZpZGVvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmF1ZGlvZGF0YXJhdGUgPT09ICdudW1iZXInKSB7IC8vIGF1ZGlvZGF0YXJhdGVcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uYXVkaW9EYXRhUmF0ZSA9IG9uTWV0YURhdGEuYXVkaW9kYXRhcmF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS52aWRlb2RhdGFyYXRlID09PSAnbnVtYmVyJykgeyAvLyB2aWRlb2RhdGFyYXRlXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnZpZGVvRGF0YVJhdGUgPSBvbk1ldGFEYXRhLnZpZGVvZGF0YXJhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEud2lkdGggPT09ICdudW1iZXInKSB7IC8vIHdpZHRoXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLndpZHRoID0gb25NZXRhRGF0YS53aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5oZWlnaHQgPT09ICdudW1iZXInKSB7IC8vIGhlaWdodFxuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oZWlnaHQgPSBvbk1ldGFEYXRhLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5kdXJhdGlvbiA9PT0gJ251bWJlcicpIHsgLy8gZHVyYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2R1cmF0aW9uT3ZlcnJpZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IE1hdGguZmxvb3Iob25NZXRhRGF0YS5kdXJhdGlvbiAqIHRoaXMuX3RpbWVzY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5mcmFtZXJhdGUgPT09ICdudW1iZXInKSB7IC8vIGZyYW1lcmF0ZVxuICAgICAgICAgICAgICAgIGxldCBmcHNfbnVtID0gTWF0aC5mbG9vcihvbk1ldGFEYXRhLmZyYW1lcmF0ZSAqIDEwMDApO1xuICAgICAgICAgICAgICAgIGlmIChmcHNfbnVtID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZnBzID0gZnBzX251bSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZS5maXhlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZS5mcHMgPSBmcHM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZS5mcHNfbnVtID0gZnBzX251bTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZwc19kZW4gPSAxMDAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uZnBzID0gZnBzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5rZXlmcmFtZXMgPT09ICdvYmplY3QnKSB7IC8vIGtleWZyYW1lc1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNLZXlmcmFtZXNJbmRleCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IGtleWZyYW1lcyA9IG9uTWV0YURhdGEua2V5ZnJhbWVzO1xuICAgICAgICAgICAgICAgIGtleWZyYW1lcy50aW1lcyA9IG9uTWV0YURhdGEudGltZXM7XG4gICAgICAgICAgICAgICAga2V5ZnJhbWVzLmZpbGVwb3NpdGlvbnMgPSBvbk1ldGFEYXRhLmZpbGVwb3NpdGlvbnM7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmtleWZyYW1lc0luZGV4ID0gdGhpcy5fcGFyc2VLZXlmcmFtZXNJbmRleChrZXlmcmFtZXMpO1xuICAgICAgICAgICAgICAgIG9uTWV0YURhdGEua2V5ZnJhbWVzID0gbnVsbDsgLy8ga2V5ZnJhbWVzIGhhcyBiZWVuIGV4dHJhY3RlZCwgcmVtb3ZlIGl0XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNLZXlmcmFtZXNJbmRleCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5tZXRhZGF0YSA9IG9uTWV0YURhdGE7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLlRBRywgJ1BhcnNlZCBvbk1ldGFEYXRhJyk7XG4gICAgICAgICAgICAvLyBpZiAodGhpcy5fbWVkaWFJbmZvLmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgLy8gdGhpcy5fb25NZWRpYUluZm8odGhpcy5fbWVkaWFJbmZvKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUluZm87XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcGFyc2VLZXlmcmFtZXNJbmRleChrZXlmcmFtZXMpIHtcbiAgICAgICAgbGV0IHRpbWVzID0gW107XG4gICAgICAgIGxldCBmaWxlcG9zaXRpb25zID0gW107XG5cbiAgICAgICAgLy8gaWdub3JlIGZpcnN0IGtleWZyYW1lIHdoaWNoIGlzIGFjdHVhbGx5IEFWQyBTZXF1ZW5jZSBIZWFkZXIgKEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkKVxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGtleWZyYW1lcy50aW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHRpbWUgPSB0aGlzLl90aW1lc3RhbXBCYXNlICsgTWF0aC5mbG9vcihrZXlmcmFtZXMudGltZXNbaV0gKiAxMDAwKTtcbiAgICAgICAgICAgIHRpbWVzLnB1c2godGltZSk7XG4gICAgICAgICAgICBmaWxlcG9zaXRpb25zLnB1c2goa2V5ZnJhbWVzLmZpbGVwb3NpdGlvbnNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpbWVzOiB0aW1lcyxcbiAgICAgICAgICAgIGZpbGVwb3NpdGlvbnM6IGZpbGVwb3NpdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgdGFnRGVtdXgoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9mbHYvdGFnZGVtdXguanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction decodeUTF8(uint8array) {\n    var out = [];\n    var input = uint8array;\n    var i = 0;\n    var length = uint8array.length;\n\n    while (i < length) {\n        if (input[i] < 0x80) {\n            out.push(String.fromCharCode(input[i]));\n            ++i;\n            continue;\n        } else if (input[i] < 0xC0) {\n            // fallthrough\n        } else if (input[i] < 0xE0) {\n            if (checkContinuation(input, i, 1)) {\n                var ucs4 = (input[i] & 0x1F) << 6 | input[i + 1] & 0x3F;\n                if (ucs4 >= 0x80) {\n                    out.push(String.fromCharCode(ucs4 & 0xFFFF));\n                    i += 2;\n                    continue;\n                }\n            }\n        } else if (input[i] < 0xF0) {\n            if (checkContinuation(input, i, 2)) {\n                var _ucs = (input[i] & 0xF) << 12 | (input[i + 1] & 0x3F) << 6 | input[i + 2] & 0x3F;\n                if (_ucs >= 0x800 && (_ucs & 0xF800) !== 0xD800) {\n                    out.push(String.fromCharCode(_ucs & 0xFFFF));\n                    i += 3;\n                    continue;\n                }\n            }\n        } else if (input[i] < 0xF8) {\n            if (checkContinuation(input, i, 3)) {\n                var _ucs2 = (input[i] & 0x7) << 18 | (input[i + 1] & 0x3F) << 12 | (input[i + 2] & 0x3F) << 6 | input[i + 3] & 0x3F;\n                if (_ucs2 > 0x10000 && _ucs2 < 0x110000) {\n                    _ucs2 -= 0x10000;\n                    out.push(String.fromCharCode(_ucs2 >>> 10 | 0xD800));\n                    out.push(String.fromCharCode(_ucs2 & 0x3FF | 0xDC00));\n                    i += 4;\n                    continue;\n                }\n            }\n        }\n        out.push(String.fromCharCode(0xFFFD));\n        ++i;\n    }\n\n    return out.join('');\n}\n\nexports.default = decodeUTF8;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9kZWNvZGVVVEY4LmpzPzQ3ZWQiXSwibmFtZXMiOlsiZGVjb2RlVVRGOCIsInVpbnQ4YXJyYXkiLCJvdXQiLCJpbnB1dCIsImkiLCJsZW5ndGgiLCJwdXNoIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hlY2tDb250aW51YXRpb24iLCJ1Y3M0Iiwiam9pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxTQUFTQSxVQUFULENBQW9CQyxVQUFwQixFQUFnQztBQUM1QixRQUFJQyxNQUFNLEVBQVY7QUFDQSxRQUFJQyxRQUFRRixVQUFaO0FBQ0EsUUFBSUcsSUFBSSxDQUFSO0FBQ0EsUUFBSUMsU0FBU0osV0FBV0ksTUFBeEI7O0FBRUEsV0FBT0QsSUFBSUMsTUFBWCxFQUFtQjtBQUNmLFlBQUlGLE1BQU1DLENBQU4sSUFBVyxJQUFmLEVBQXFCO0FBQ2pCRixnQkFBSUksSUFBSixDQUFTQyxPQUFPQyxZQUFQLENBQW9CTCxNQUFNQyxDQUFOLENBQXBCLENBQVQ7QUFDQSxjQUFFQSxDQUFGO0FBQ0E7QUFDSCxTQUpELE1BSU8sSUFBSUQsTUFBTUMsQ0FBTixJQUFXLElBQWYsRUFBcUI7QUFDeEI7QUFDSCxTQUZNLE1BRUEsSUFBSUQsTUFBTUMsQ0FBTixJQUFXLElBQWYsRUFBcUI7QUFDeEIsZ0JBQUlLLGtCQUFrQk4sS0FBbEIsRUFBeUJDLENBQXpCLEVBQTRCLENBQTVCLENBQUosRUFBb0M7QUFDaEMsb0JBQUlNLE9BQU8sQ0FBQ1AsTUFBTUMsQ0FBTixJQUFXLElBQVosS0FBcUIsQ0FBckIsR0FBMEJELE1BQU1DLElBQUksQ0FBVixJQUFlLElBQXBEO0FBQ0Esb0JBQUlNLFFBQVEsSUFBWixFQUFrQjtBQUNkUix3QkFBSUksSUFBSixDQUFTQyxPQUFPQyxZQUFQLENBQW9CRSxPQUFPLE1BQTNCLENBQVQ7QUFDQU4seUJBQUssQ0FBTDtBQUNBO0FBQ0g7QUFDSjtBQUNKLFNBVE0sTUFTQSxJQUFJRCxNQUFNQyxDQUFOLElBQVcsSUFBZixFQUFxQjtBQUN4QixnQkFBSUssa0JBQWtCTixLQUFsQixFQUF5QkMsQ0FBekIsRUFBNEIsQ0FBNUIsQ0FBSixFQUFvQztBQUNoQyxvQkFBSU0sT0FBTyxDQUFDUCxNQUFNQyxDQUFOLElBQVcsR0FBWixLQUFvQixFQUFwQixHQUF5QixDQUFDRCxNQUFNQyxJQUFJLENBQVYsSUFBZSxJQUFoQixLQUF5QixDQUFsRCxHQUFzREQsTUFBTUMsSUFBSSxDQUFWLElBQWUsSUFBaEY7QUFDQSxvQkFBSU0sUUFBUSxLQUFSLElBQWlCLENBQUNBLE9BQU8sTUFBUixNQUFvQixNQUF6QyxFQUFpRDtBQUM3Q1Isd0JBQUlJLElBQUosQ0FBU0MsT0FBT0MsWUFBUCxDQUFvQkUsT0FBTyxNQUEzQixDQUFUO0FBQ0FOLHlCQUFLLENBQUw7QUFDQTtBQUNIO0FBQ0o7QUFDSixTQVRNLE1BU0EsSUFBSUQsTUFBTUMsQ0FBTixJQUFXLElBQWYsRUFBcUI7QUFDeEIsZ0JBQUlLLGtCQUFrQk4sS0FBbEIsRUFBeUJDLENBQXpCLEVBQTRCLENBQTVCLENBQUosRUFBb0M7QUFDaEMsb0JBQUlNLFFBQU8sQ0FBQ1AsTUFBTUMsQ0FBTixJQUFXLEdBQVosS0FBb0IsRUFBcEIsR0FBeUIsQ0FBQ0QsTUFBTUMsSUFBSSxDQUFWLElBQWUsSUFBaEIsS0FBeUIsRUFBbEQsR0FDUCxDQUFDRCxNQUFNQyxJQUFJLENBQVYsSUFBZSxJQUFoQixLQUF5QixDQURsQixHQUN1QkQsTUFBTUMsSUFBSSxDQUFWLElBQWUsSUFEakQ7QUFFQSxvQkFBSU0sUUFBTyxPQUFQLElBQWtCQSxRQUFPLFFBQTdCLEVBQXVDO0FBQ25DQSw2QkFBUSxPQUFSO0FBQ0FSLHdCQUFJSSxJQUFKLENBQVNDLE9BQU9DLFlBQVAsQ0FBcUJFLFVBQVMsRUFBVixHQUFnQixNQUFwQyxDQUFUO0FBQ0FSLHdCQUFJSSxJQUFKLENBQVNDLE9BQU9DLFlBQVAsQ0FBcUJFLFFBQU8sS0FBUixHQUFpQixNQUFyQyxDQUFUO0FBQ0FOLHlCQUFLLENBQUw7QUFDQTtBQUNIO0FBQ0o7QUFDSjtBQUNERixZQUFJSSxJQUFKLENBQVNDLE9BQU9DLFlBQVAsQ0FBb0IsTUFBcEIsQ0FBVDtBQUNBLFVBQUVKLENBQUY7QUFDSDs7QUFFRCxXQUFPRixJQUFJUyxJQUFKLENBQVMsRUFBVCxDQUFQO0FBQ0g7O2tCQUVjWCxVIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBkZWNvZGVVVEY4KHVpbnQ4YXJyYXkpIHtcbiAgICBsZXQgb3V0ID0gW107XG4gICAgbGV0IGlucHV0ID0gdWludDhhcnJheTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGxlbmd0aCA9IHVpbnQ4YXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgaWYgKGlucHV0W2ldIDwgMHg4MCkge1xuICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShpbnB1dFtpXSkpO1xuICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPCAweEMwKSB7XG4gICAgICAgICAgICAvLyBmYWxsdGhyb3VnaFxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldIDwgMHhFMCkge1xuICAgICAgICAgICAgaWYgKGNoZWNrQ29udGludWF0aW9uKGlucHV0LCBpLCAxKSkge1xuICAgICAgICAgICAgICAgIGxldCB1Y3M0ID0gKGlucHV0W2ldICYgMHgxRikgPDwgNiB8IChpbnB1dFtpICsgMV0gJiAweDNGKTtcbiAgICAgICAgICAgICAgICBpZiAodWNzNCA+PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUodWNzNCAmIDB4RkZGRikpO1xuICAgICAgICAgICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFtpXSA8IDB4RjApIHtcbiAgICAgICAgICAgIGlmIChjaGVja0NvbnRpbnVhdGlvbihpbnB1dCwgaSwgMikpIHtcbiAgICAgICAgICAgICAgICBsZXQgdWNzNCA9IChpbnB1dFtpXSAmIDB4RikgPDwgMTIgfCAoaW5wdXRbaSArIDFdICYgMHgzRikgPDwgNiB8IGlucHV0W2kgKyAyXSAmIDB4M0Y7XG4gICAgICAgICAgICAgICAgaWYgKHVjczQgPj0gMHg4MDAgJiYgKHVjczQgJiAweEY4MDApICE9PSAweEQ4MDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh1Y3M0ICYgMHhGRkZGKSk7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldIDwgMHhGOCkge1xuICAgICAgICAgICAgaWYgKGNoZWNrQ29udGludWF0aW9uKGlucHV0LCBpLCAzKSkge1xuICAgICAgICAgICAgICAgIGxldCB1Y3M0ID0gKGlucHV0W2ldICYgMHg3KSA8PCAxOCB8IChpbnB1dFtpICsgMV0gJiAweDNGKSA8PCAxMiB8XG4gICAgICAgICAgICAgICAgICAgIChpbnB1dFtpICsgMl0gJiAweDNGKSA8PCA2IHwgKGlucHV0W2kgKyAzXSAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmICh1Y3M0ID4gMHgxMDAwMCAmJiB1Y3M0IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdWNzNCAtPSAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKCh1Y3M0ID4+PiAxMCkgfCAweEQ4MDApKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgodWNzNCAmIDB4M0ZGKSB8IDB4REMwMCkpO1xuICAgICAgICAgICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkZGRCkpO1xuICAgICAgICArK2k7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVjb2RlVVRGODtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9kZWNvZGVVVEY4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FlvTag = function FlvTag() {\n    _classCallCheck(this, FlvTag);\n\n    this.tagType = -1;\n    this.dataSize = -1;\n    this.Timestamp = -1;\n    this.StreamID = -1;\n    this.body = -1;\n};\n\nexports.default = FlvTag;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvZmx2VGFnLmpzPzg1OTgiXSwibmFtZXMiOlsiRmx2VGFnIiwidGFnVHlwZSIsImRhdGFTaXplIiwiVGltZXN0YW1wIiwiU3RyZWFtSUQiLCJib2R5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztJQUFxQkEsTSxHQUNqQixrQkFBYztBQUFBOztBQUNWLFNBQUtDLE9BQUwsR0FBZSxDQUFDLENBQWhCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixDQUFDLENBQWpCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixDQUFDLENBQWxCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixDQUFDLENBQWpCO0FBQ0EsU0FBS0MsSUFBTCxHQUFZLENBQUMsQ0FBYjtBQUNILEM7O2tCQVBnQkwsTSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmx2VGFnIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YWdUeXBlID0gLTE7XG4gICAgICAgIHRoaXMuZGF0YVNpemUgPSAtMTtcbiAgICAgICAgdGhpcy5UaW1lc3RhbXAgPSAtMTtcbiAgICAgICAgdGhpcy5TdHJlYW1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJvZHkgPSAtMTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvZmx2L2ZsdlRhZy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _decodeUTF = __webpack_require__(2);\n\nvar _decodeUTF2 = _interopRequireDefault(_decodeUTF);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar le = function () {\n    var buf = new ArrayBuffer(2);\n    new DataView(buf).setInt16(0, 256, true); // little-endian write\n    return new Int16Array(buf)[0] === 256; // platform-spec read, if equal then LE\n}();\n\nvar flvDemux = function () {\n    function flvDemux() {\n        _classCallCheck(this, flvDemux);\n    }\n\n    _createClass(flvDemux, null, [{\n        key: 'parseObject',\n        value: function parseObject(arrayBuffer, dataOffset, dataSize) {\n\n            var name = flvDemux.parseString(arrayBuffer, dataOffset, dataSize);\n            var value = flvDemux.parseScript(arrayBuffer, dataOffset + name.size);\n            var isObjectEnd = value.objectEnd;\n\n            return {\n                data: {\n                    name: name.data,\n                    value: value.data\n                },\n                size: value.size,\n                objectEnd: isObjectEnd\n            };\n        }\n    }, {\n        key: 'parseVariable',\n        value: function parseVariable(arrayBuffer, dataOffset, dataSize) {\n            return flvDemux.parseObject(arrayBuffer, dataOffset, dataSize);\n        }\n    }, {\n        key: 'parseLongString',\n        value: function parseLongString(arrayBuffer, dataOffset, dataSize) {\n            if (dataSize < 4) {\n                throw new IllegalStateException('Data not enough when parse LongString');\n            }\n            var v = new DataView(arrayBuffer, dataOffset);\n            var length = v.getUint32(0, !le);\n\n            var str = void 0;\n            if (length > 0) {\n                str = (0, _decodeUTF2.default)(new Uint8Array(arrayBuffer, dataOffset + 4, length));\n            } else {\n                str = '';\n            }\n\n            return {\n                data: str,\n                size: 4 + length\n            };\n        }\n    }, {\n        key: 'parseDate',\n        value: function parseDate(arrayBuffer, dataOffset, dataSize) {\n            if (dataSize < 10) {\n                throw new IllegalStateException('Data size invalid when parse Date');\n            }\n            var v = new DataView(arrayBuffer, dataOffset);\n            var timestamp = v.getFloat64(0, !le);\n            var localTimeOffset = v.getInt16(8, !le);\n            timestamp += localTimeOffset * 60 * 1000; // get UTC time\n\n            return {\n                data: new Date(timestamp),\n                size: 8 + 2\n            };\n        }\n    }, {\n        key: 'parseString',\n        value: function parseString(arrayBuffer, dataOffset, dataSize) {\n            var v = new DataView(arrayBuffer, dataOffset);\n            var length = v.getUint16(0, !le);\n            var str = void 0;\n            if (length > 0) {\n                str = (0, _decodeUTF2.default)(new Uint8Array(arrayBuffer, dataOffset + 2, length));\n            } else {\n                str = '';\n            }\n            return {\n                data: str,\n                size: 2 + length\n            };\n        }\n\n        /**\n         * 解析metadata\n         */\n\n    }, {\n        key: 'parseMetadata',\n        value: function parseMetadata(arr) {\n            var name = flvDemux.parseScript(arr, 0);\n            var value = flvDemux.parseScript(arr, name.size, arr.length - name.size);\n            // return {}\n            var data = {};\n            data[name.data] = value.data;\n            return data;\n        }\n    }, {\n        key: 'parseScript',\n        value: function parseScript(arr, offset, dataSize) {\n            var dataOffset = offset;\n            var object = {};\n            var uint8 = new Uint8Array(arr);\n            var buffer = uint8.buffer;\n            var dv = new DataView(buffer, 0, dataSize);\n            var value = null;\n\n            var type = dv.getUint8(dataOffset);\n            dataOffset += 1;\n            switch (type) {\n                case 0:\n                    // Number(Double) type\n                    value = dv.getFloat64(dataOffset, !le);\n                    dataOffset += 8;\n                    break;\n                case 1:\n                    {\n                        // Boolean type\n                        var b = dv.getUint8(dataOffset);\n                        value = b ? true : false;\n                        dataOffset += 1;\n                        break;\n                    }\n                case 2:\n                    {\n                        // String type\n                        // dataOffset += 1;\n                        var amfstr = flvDemux.parseString(buffer, dataOffset);\n                        value = amfstr.data;\n                        dataOffset += amfstr.size;\n                        break;\n                    }\n                case 3:\n\n                    {\n                        // Object(s) type\n                        value = {};\n                        var terminal = 0; // workaround for malformed Objects which has missing ScriptDataObjectEnd\n                        if ((dv.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {\n                            terminal = 3;\n                        }\n                        while (offset < dataSize - 4) {\n                            // 4 === type(UI8) + ScriptDataObjectEnd(UI24)\n                            var amfobj = flvDemux.parseObject(buffer, dataOffset, dataSize - offset - terminal);\n\n                            if (amfobj.objectEnd) break;\n                            value[amfobj.data.name] = amfobj.data.value;\n                            dataOffset += amfobj.size;\n                        }\n                        if (offset <= dataSize - 3) {\n                            var marker = v.getUint32(dataOffset - 1, !le) & 0x00FFFFFF;\n                            if (marker === 9) {\n                                dataOffset += 3;\n                            }\n                        }\n                        break;\n                    }\n                case 8:\n                    {\n                        // ECMA array type (Mixed array)\n                        value = {};\n                        // dataOffset += 1;\n                        dataOffset += 4; // ECMAArrayLength(UI32)\n                        var _terminal = 0; // workaround for malformed MixedArrays which has missing ScriptDataObjectEnd\n                        if ((dv.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {\n                            _terminal = 3;\n                        }\n                        while (dataOffset < dataSize - 8) {\n                            // 8 === type(UI8) + ECMAArrayLength(UI32) + ScriptDataVariableEnd(UI24)\n                            var amfvar = flvDemux.parseVariable(buffer, dataOffset);\n\n                            if (amfvar.objectEnd) break;\n                            value[amfvar.data.name] = amfvar.data.value;\n                            dataOffset = amfvar.size;\n                        }\n                        if (dataOffset <= dataSize - 3) {\n                            var _marker = dv.getUint32(dataOffset - 1, !le) & 0x00FFFFFF;\n                            if (_marker === 9) {\n                                dataOffset += 3;\n                            }\n                        }\n                        break;\n                    }\n                case 9:\n                    // ScriptDataObjectEnd\n                    value = undefined;\n                    dataOffset = 1;\n                    objectEnd = true;\n                    break;\n                case 10:\n                    {\n                        // Strict array type\n                        // ScriptDataValue[n]. NOTE: according to video_file_format_spec_v10_1.pdf\n                        value = [];\n                        var strictArrayLength = dv.getUint32(dataOffset, !le);\n                        dataOffset += 4;\n                        for (var i = 0; i < strictArrayLength; i++) {\n                            var val = flvDemux.parseScript(buffer, dataOffset);\n                            value.push(val.data);\n                            dataOffset = val.size;\n                        }\n                        break;\n                    }\n                case 11:\n                    {\n                        // Date type\n                        var date = flvDemux.parseDate(buffer, dataOffset + 1, dataSize - 1);\n                        value = date.data;\n                        dataOffset += date.size;\n                        break;\n                    }\n                case 12:\n                    {\n                        // Long string type\n                        var amfLongStr = flvDemux.parseString(buffer, dataOffset + 1, dataSize - 1);\n                        value = amfLongStr.data;\n                        dataOffset += amfLongStr.size;\n                        break;\n                    }\n                default:\n                    // ignore and skip\n                    dataOffset = dataSize;\n                    console.log('AMF', 'Unsupported AMF value type ' + type);\n            }\n            return {\n                data: value,\n                size: dataOffset\n            };\n        }\n    }]);\n\n    return flvDemux;\n}();\n\nexports.default = flvDemux;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvZmx2ZGVtdXguanM/YjdhYSJdLCJuYW1lcyI6WyJsZSIsImJ1ZiIsIkFycmF5QnVmZmVyIiwiRGF0YVZpZXciLCJzZXRJbnQxNiIsIkludDE2QXJyYXkiLCJmbHZEZW11eCIsImFycmF5QnVmZmVyIiwiZGF0YU9mZnNldCIsImRhdGFTaXplIiwibmFtZSIsInBhcnNlU3RyaW5nIiwidmFsdWUiLCJwYXJzZVNjcmlwdCIsInNpemUiLCJpc09iamVjdEVuZCIsIm9iamVjdEVuZCIsImRhdGEiLCJwYXJzZU9iamVjdCIsIklsbGVnYWxTdGF0ZUV4Y2VwdGlvbiIsInYiLCJsZW5ndGgiLCJnZXRVaW50MzIiLCJzdHIiLCJVaW50OEFycmF5IiwidGltZXN0YW1wIiwiZ2V0RmxvYXQ2NCIsImxvY2FsVGltZU9mZnNldCIsImdldEludDE2IiwiRGF0ZSIsImdldFVpbnQxNiIsImFyciIsIm9mZnNldCIsIm9iamVjdCIsInVpbnQ4IiwiYnVmZmVyIiwiZHYiLCJ0eXBlIiwiZ2V0VWludDgiLCJiIiwiYW1mc3RyIiwidGVybWluYWwiLCJhbWZvYmoiLCJtYXJrZXIiLCJhbWZ2YXIiLCJwYXJzZVZhcmlhYmxlIiwidW5kZWZpbmVkIiwic3RyaWN0QXJyYXlMZW5ndGgiLCJpIiwidmFsIiwicHVzaCIsImRhdGUiLCJwYXJzZURhdGUiLCJhbWZMb25nU3RyIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7QUFFQSxJQUFJQSxLQUFNLFlBQVc7QUFDakIsUUFBSUMsTUFBTSxJQUFJQyxXQUFKLENBQWdCLENBQWhCLENBQVY7QUFDQyxRQUFJQyxRQUFKLENBQWFGLEdBQWIsQ0FBRCxDQUFvQkcsUUFBcEIsQ0FBNkIsQ0FBN0IsRUFBZ0MsR0FBaEMsRUFBcUMsSUFBckMsRUFGaUIsQ0FFMkI7QUFDNUMsV0FBUSxJQUFJQyxVQUFKLENBQWVKLEdBQWYsQ0FBRCxDQUFzQixDQUF0QixNQUE2QixHQUFw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Q0g7QUFDRDtBQUNIO0FBQ0wscUJBQUssRUFBTDtBQUNJO0FBQUU7QUFDRSw0QkFBSXFDLE9BQU83QyxTQUFTOEMsU0FBVCxDQUFtQmpCLE1BQW5CLEVBQTJCM0IsYUFBYSxDQUF4QyxFQUEyQ0MsV0FBVyxDQUF0RCxDQUFYO0FBQ0FHLGdDQUFRdUMsS0FBS2xDLElBQWI7QUFDQVQsc0NBQWMyQyxLQUFLckMsSUFBbkI7QUFDQTtBQUNIO0FBQ0wscUJBQUssRUFBTDtBQUNJO0FBQUU7QUFDRSw0QkFBSXVDLGFBQWEvQyxTQUFTSyxXQUFULENBQXFCd0IsTUFBckIsRUFBNkIzQixhQUFhLENBQTFDLEVBQTZDQyxXQUFXLENBQXhELENBQWpCO0FBQ0FHLGdDQUFReUMsV0FBV3BDLElBQW5CO0FBQ0FULHNDQUFjNkMsV0FBV3ZDLElBQXpCO0FBQ0E7QUFDSDtBQUNMO0FBQ0k7QUFDQU4saUNBQWFDLFFBQWI7QUFDQTZDLDRCQUFRQyxHQUFSLENBQVksS0FBWixFQUFtQixnQ0FBZ0NsQixJQUFuRDtBQXhHUjtBQTBHQSxtQkFBTztBQUNIcEIsc0JBQU1MLEtBREg7QUFFSEUsc0JBQU1OO0FBRkgsYUFBUDtBQUlIOzs7Ozs7a0JBL01nQkYsUSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlY29kZVVURjggZnJvbSAnLi4vZGVjb2RlVVRGOCc7XG5cbmxldCBsZSA9IChmdW5jdGlvbigpIHtcbiAgICBsZXQgYnVmID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgIChuZXcgRGF0YVZpZXcoYnVmKSkuc2V0SW50MTYoMCwgMjU2LCB0cnVlKTsgLy8gbGl0dGxlLWVuZGlhbiB3cml0ZVxuICAgIHJldHVybiAobmV3IEludDE2QXJyYXkoYnVmKSlbMF0gPT09IDI1NjsgLy8gcGxhdGZvcm0tc3BlYyByZWFkLCBpZiBlcXVhbCB0aGVuIExFXG59KSgpO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZmx2RGVtdXgge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB9XG4gICAgc3RhdGljIHBhcnNlT2JqZWN0KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuXG4gICAgICAgIGxldCBuYW1lID0gZmx2RGVtdXgucGFyc2VTdHJpbmcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IHZhbHVlID0gZmx2RGVtdXgucGFyc2VTY3JpcHQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBuYW1lLnNpemUpO1xuICAgICAgICBsZXQgaXNPYmplY3RFbmQgPSB2YWx1ZS5vYmplY3RFbmQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLmRhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLmRhdGFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaXplOiB2YWx1ZS5zaXplLFxuICAgICAgICAgICAgb2JqZWN0RW5kOiBpc09iamVjdEVuZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZVZhcmlhYmxlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICByZXR1cm4gZmx2RGVtdXgucGFyc2VPYmplY3QoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlTG9uZ1N0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgTG9uZ1N0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0KTtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHYuZ2V0VWludDMyKDAsICFsZSk7XG5cbiAgICAgICAgbGV0IHN0cjtcbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN0ciA9IGRlY29kZVVURjgobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyA0LCBsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ciA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHN0cixcbiAgICAgICAgICAgIHNpemU6IDQgKyBsZW5ndGhcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlRGF0ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgMTApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0RhdGEgc2l6ZSBpbnZhbGlkIHdoZW4gcGFyc2UgRGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0KTtcbiAgICAgICAgbGV0IHRpbWVzdGFtcCA9IHYuZ2V0RmxvYXQ2NCgwLCAhbGUpO1xuICAgICAgICBsZXQgbG9jYWxUaW1lT2Zmc2V0ID0gdi5nZXRJbnQxNig4LCAhbGUpO1xuICAgICAgICB0aW1lc3RhbXAgKz0gbG9jYWxUaW1lT2Zmc2V0ICogNjAgKiAxMDAwOyAvLyBnZXQgVVRDIHRpbWVcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogbmV3IERhdGUodGltZXN0YW1wKSxcbiAgICAgICAgICAgIHNpemU6IDggKyAyXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZVN0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgbGV0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQpO1xuICAgICAgICBsZXQgbGVuZ3RoID0gdi5nZXRVaW50MTYoMCwgIWxlKTtcbiAgICAgICAgbGV0IHN0cjtcbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN0ciA9IGRlY29kZVVURjgobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAyLCBsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ciA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBzdHIsXG4gICAgICAgICAgICBzaXplOiAyICsgbGVuZ3RoXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6Kej5p6QbWV0YWRhdGFcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2VNZXRhZGF0YShhcnIpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBmbHZEZW11eC5wYXJzZVNjcmlwdChhcnIsIDApO1xuICAgICAgICBsZXQgdmFsdWUgPSBmbHZEZW11eC5wYXJzZVNjcmlwdChhcnIsIG5hbWUuc2l6ZSwgYXJyLmxlbmd0aCAtIG5hbWUuc2l6ZSk7XG4gICAgICAgIC8vIHJldHVybiB7fVxuICAgICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhW25hbWUuZGF0YV0gPSB2YWx1ZS5kYXRhO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cblxuXG5cbiAgICBzdGF0aWMgcGFyc2VTY3JpcHQoYXJyLCBvZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIGxldCBkYXRhT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgIGxldCB1aW50OCA9IG5ldyBVaW50OEFycmF5KGFycik7XG4gICAgICAgIGxldCBidWZmZXIgPSB1aW50OC5idWZmZXI7XG4gICAgICAgIGxldCBkdiA9IG5ldyBEYXRhVmlldyhidWZmZXIsIDAsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IHZhbHVlID0gbnVsbDtcblxuICAgICAgICBsZXQgdHlwZSA9IChkdi5nZXRVaW50OChkYXRhT2Zmc2V0KSk7XG4gICAgICAgIGRhdGFPZmZzZXQgKz0gMTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDA6IC8vIE51bWJlcihEb3VibGUpIHR5cGVcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGR2LmdldEZsb2F0NjQoZGF0YU9mZnNldCwgIWxlKTtcbiAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ICs9IDg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgeyAvLyBCb29sZWFuIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGIgPSBkdi5nZXRVaW50OChkYXRhT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBiID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB7IC8vIFN0cmluZyB0eXBlXG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGFPZmZzZXQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFtZnN0ciA9IGZsdkRlbXV4LnBhcnNlU3RyaW5nKGJ1ZmZlciwgZGF0YU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYW1mc3RyLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgKz0gYW1mc3RyLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMzpcblxuICAgICAgICAgICAgICAgIHsgLy8gT2JqZWN0KHMpIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1pbmFsID0gMDsgLy8gd29ya2Fyb3VuZCBmb3IgbWFsZm9ybWVkIE9iamVjdHMgd2hpY2ggaGFzIG1pc3NpbmcgU2NyaXB0RGF0YU9iamVjdEVuZFxuICAgICAgICAgICAgICAgICAgICBpZiAoKGR2LmdldFVpbnQzMihkYXRhU2l6ZSAtIDQsICFsZSkgJiAweDAwRkZGRkZGKSA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVybWluYWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChvZmZzZXQgPCBkYXRhU2l6ZSAtIDQpIHsgLy8gNCA9PT0gdHlwZShVSTgpICsgU2NyaXB0RGF0YU9iamVjdEVuZChVSTI0KVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFtZm9iaiA9IGZsdkRlbXV4LnBhcnNlT2JqZWN0KGJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUgLSBvZmZzZXQgLSB0ZXJtaW5hbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbWZvYmoub2JqZWN0RW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbYW1mb2JqLmRhdGEubmFtZV0gPSBhbWZvYmouZGF0YS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgKz0gYW1mb2JqLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA8PSBkYXRhU2l6ZSAtIDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXJrZXIgPSB2LmdldFVpbnQzMihkYXRhT2Zmc2V0IC0gMSwgIWxlKSAmIDB4MDBGRkZGRkY7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICB7IC8vIEVDTUEgYXJyYXkgdHlwZSAoTWl4ZWQgYXJyYXkpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGFPZmZzZXQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCArPSA0OyAvLyBFQ01BQXJyYXlMZW5ndGgoVUkzMilcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlcm1pbmFsID0gMDsgLy8gd29ya2Fyb3VuZCBmb3IgbWFsZm9ybWVkIE1peGVkQXJyYXlzIHdoaWNoIGhhcyBtaXNzaW5nIFNjcmlwdERhdGFPYmplY3RFbmRcbiAgICAgICAgICAgICAgICAgICAgaWYgKChkdi5nZXRVaW50MzIoZGF0YVNpemUgLSA0LCAhbGUpICYgMHgwMEZGRkZGRikgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsID0gMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZGF0YU9mZnNldCA8IGRhdGFTaXplIC0gOCkgeyAvLyA4ID09PSB0eXBlKFVJOCkgKyBFQ01BQXJyYXlMZW5ndGgoVUkzMikgKyBTY3JpcHREYXRhVmFyaWFibGVFbmQoVUkyNClcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbWZ2YXIgPSBmbHZEZW11eC5wYXJzZVZhcmlhYmxlKGJ1ZmZlciwgZGF0YU9mZnNldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbWZ2YXIub2JqZWN0RW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbYW1mdmFyLmRhdGEubmFtZV0gPSBhbWZ2YXIuZGF0YS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgPSBhbWZ2YXIuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YU9mZnNldCA8PSBkYXRhU2l6ZSAtIDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXJrZXIgPSBkdi5nZXRVaW50MzIoZGF0YU9mZnNldCAtIDEsICFsZSkgJiAweDAwRkZGRkZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlciA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgKz0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDk6IC8vIFNjcmlwdERhdGFPYmplY3RFbmRcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ID0gMTtcbiAgICAgICAgICAgICAgICBvYmplY3RFbmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICB7IC8vIFN0cmljdCBhcnJheSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIC8vIFNjcmlwdERhdGFWYWx1ZVtuXS4gTk9URTogYWNjb3JkaW5nIHRvIHZpZGVvX2ZpbGVfZm9ybWF0X3NwZWNfdjEwXzEucGRmXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHJpY3RBcnJheUxlbmd0aCA9IGR2LmdldFVpbnQzMihkYXRhT2Zmc2V0LCAhbGUpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaWN0QXJyYXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbCA9IGZsdkRlbXV4LnBhcnNlU2NyaXB0KGJ1ZmZlciwgZGF0YU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKHZhbC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgPSB2YWwuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIHsgLy8gRGF0ZSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRlID0gZmx2RGVtdXgucGFyc2VEYXRlKGJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGF0ZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ICs9IGRhdGUuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICB7IC8vIExvbmcgc3RyaW5nIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFtZkxvbmdTdHIgPSBmbHZEZW11eC5wYXJzZVN0cmluZyhidWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFtZkxvbmdTdHIuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCArPSBhbWZMb25nU3RyLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGFuZCBza2lwXG4gICAgICAgICAgICAgICAgZGF0YU9mZnNldCA9IGRhdGFTaXplO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBTUYnLCAnVW5zdXBwb3J0ZWQgQU1GIHZhbHVlIHR5cGUgJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB2YWx1ZSxcbiAgICAgICAgICAgIHNpemU6IGRhdGFPZmZzZXQsXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2Zsdi9mbHZkZW11eC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _flvParse = __webpack_require__(0);\n\nvar _flvParse2 = _interopRequireDefault(_flvParse);\n\nvar _tagdemux = __webpack_require__(1);\n\nvar _tagdemux2 = _interopRequireDefault(_tagdemux);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.flvParse = {\n    setFlv: function setFlv(uint8) {\n        _flvParse2.default.setFlv(uint8);\n        _tagdemux2.default.parseMetadata(_flvParse2.default.arrTag[0].body);\n    },\n    nextTag: function nextTag() {}\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHZFbnRlci5qcz9iZGJiIl0sIm5hbWVzIjpbIndpbmRvdyIsImZsdlBhcnNlIiwic2V0Rmx2IiwidWludDgiLCJwYXJzZU1ldGFkYXRhIiwiYXJyVGFnIiwiYm9keSIsIm5leHRUYWciXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBQ0FBLE9BQU9DLFFBQVAsR0FBa0I7QUFDZEMsWUFBUSxnQkFBU0MsS0FBVCxFQUFnQjtBQUNwQiwyQkFBU0QsTUFBVCxDQUFnQkMsS0FBaEI7QUFDQSwyQkFBU0MsYUFBVCxDQUF1QixtQkFBU0MsTUFBVCxDQUFnQixDQUFoQixFQUFtQkMsSUFBMUM7QUFDSCxLQUphO0FBS2RDLGFBQVMsbUJBQVcsQ0FFbkI7QUFQYSxDQUFsQiIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZsdnBhcnNlIGZyb20gJy4vZmx2L2ZsdlBhcnNlJ1xuaW1wb3J0IHRhZ2RlbXV4IGZyb20gJy4vZmx2L3RhZ2RlbXV4J1xud2luZG93LmZsdlBhcnNlID0ge1xuICAgIHNldEZsdjogZnVuY3Rpb24odWludDgpIHtcbiAgICAgICAgZmx2cGFyc2Uuc2V0Rmx2KHVpbnQ4KTtcbiAgICAgICAgdGFnZGVtdXgucGFyc2VNZXRhZGF0YShmbHZwYXJzZS5hcnJUYWdbMF0uYm9keSk7XG4gICAgfSxcbiAgICBuZXh0VGFnOiBmdW5jdGlvbigpIHtcblxuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9mbHZFbnRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar MediaInfo = function () {\n    function MediaInfo() {\n        _classCallCheck(this, MediaInfo);\n\n        this.mimeType = null;\n        this.duration = null;\n\n        this.hasAudio = null;\n        this.hasVideo = null;\n        this.audioCodec = null;\n        this.videoCodec = null;\n        this.audioDataRate = null;\n        this.videoDataRate = null;\n\n        this.audioSampleRate = null;\n        this.audioChannelCount = null;\n\n        this.width = null;\n        this.height = null;\n        this.fps = null;\n        this.profile = null;\n        this.level = null;\n        this.chromaFormat = null;\n        this.sarNum = null;\n        this.sarDen = null;\n\n        this.metadata = null;\n        this.segments = null; // MediaInfo[]\n        this.segmentCount = null;\n        this.hasKeyframesIndex = null;\n        this.keyframesIndex = null;\n    }\n\n    _createClass(MediaInfo, [{\n        key: \"isComplete\",\n        value: function isComplete() {\n            var audioInfoComplete = this.hasAudio === false || this.hasAudio === true && this.audioCodec != null && this.audioSampleRate != null && this.audioChannelCount != null;\n\n            var videoInfoComplete = this.hasVideo === false || this.hasVideo === true && this.videoCodec != null && this.width != null && this.height != null && this.fps != null && this.profile != null && this.level != null && this.chromaFormat != null && this.sarNum != null && this.sarDen != null;\n\n            // keyframesIndex may not be present\n            return this.mimeType != null && this.duration != null && this.metadata != null && this.hasKeyframesIndex != null && audioInfoComplete && videoInfoComplete;\n        }\n    }, {\n        key: \"isSeekable\",\n        value: function isSeekable() {\n            return this.hasKeyframesIndex === true;\n        }\n    }, {\n        key: \"getNearestKeyframe\",\n        value: function getNearestKeyframe(milliseconds) {\n            if (this.keyframesIndex == null) {\n                return null;\n            }\n\n            var table = this.keyframesIndex;\n            var keyframeIdx = this._search(table.times, milliseconds);\n\n            return {\n                index: keyframeIdx,\n                milliseconds: table.times[keyframeIdx],\n                fileposition: table.filepositions[keyframeIdx]\n            };\n        }\n    }, {\n        key: \"_search\",\n        value: function _search(list, value) {\n            var idx = 0;\n\n            var last = list.length - 1;\n            var mid = 0;\n            var lbound = 0;\n            var ubound = last;\n\n            if (value < list[0]) {\n                idx = 0;\n                lbound = ubound + 1; // skip search\n            }\n\n            while (lbound <= ubound) {\n                mid = lbound + Math.floor((ubound - lbound) / 2);\n                if (mid === last || value >= list[mid] && value < list[mid + 1]) {\n                    idx = mid;\n                    break;\n                } else if (list[mid] < value) {\n                    lbound = mid + 1;\n                } else {\n                    ubound = mid - 1;\n                }\n            }\n\n            return idx;\n        }\n    }]);\n\n    return MediaInfo;\n}();\n\nexports.default = MediaInfo;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvbWVkaWEtaW5mby5qcz9lYzg5Il0sIm5hbWVzIjpbIk1lZGlhSW5mbyIsIm1pbWVUeXBlIiwiZHVyYXRpb24iLCJoYXNBdWRpbyIsImhhc1ZpZGVvIiwiYXVkaW9Db2RlYyIsInZpZGVvQ29kZWMiLCJhdWRpb0RhdGFSYXRlIiwidmlkZW9EYXRhUmF0ZSIsImF1ZGlvU2FtcGxlUmF0ZSIsImF1ZGlvQ2hhbm5lbENvdW50Iiwid2lkdGgiLCJoZWlnaHQiLCJmcHMiLCJwcm9maWxlIiwibGV2ZWwiLCJjaHJvbWFGb3JtYXQiLCJzYXJOdW0iLCJzYXJEZW4iLCJtZXRhZGF0YSIsInNlZ21lbnRzIiwic2VnbWVudENvdW50IiwiaGFzS2V5ZnJhbWVzSW5kZXgiLCJrZXlmcmFtZXNJbmRleCIsImF1ZGlvSW5mb0NvbXBsZXRlIiwidmlkZW9JbmZvQ29tcGxldGUiLCJtaWxsaXNlY29uZHMiLCJ0YWJsZSIsImtleWZyYW1lSWR4IiwiX3NlYXJjaCIsInRpbWVzIiwiaW5kZXgiLCJmaWxlcG9zaXRpb24iLCJmaWxlcG9zaXRpb25zIiwibGlzdCIsInZhbHVlIiwiaWR4IiwibGFzdCIsImxlbmd0aCIsIm1pZCIsImxib3VuZCIsInVib3VuZCIsIk1hdGgiLCJmbG9vciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFrQk1BLFM7QUFFRix5QkFBYztBQUFBOztBQUNWLGFBQUtDLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxhQUFLQyxRQUFMLEdBQWdCLElBQWhCOztBQUVBLGFBQUtDLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxhQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsYUFBS0MsVUFBTCxHQUFrQixJQUFsQjtBQUNBLGFBQUtDLFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxhQUFLQyxhQUFMLEdBQXFCLElBQXJCO0FBQ0EsYUFBS0MsYUFBTCxHQUFxQixJQUFyQjs7QUFFQSxhQUFLQyxlQUFMLEdB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QkosUUFBUUQsS0FBS0ssTUFBTSxDQUFYLENBQW5ELEVBQW1FO0FBQy9ESCwwQkFBTUcsR0FBTjtBQUNBO0FBQ0gsaUJBSEQsTUFHTyxJQUFJTCxLQUFLSyxHQUFMLElBQVlKLEtBQWhCLEVBQXVCO0FBQzFCSyw2QkFBU0QsTUFBTSxDQUFmO0FBQ0gsaUJBRk0sTUFFQTtBQUNIRSw2QkFBU0YsTUFBTSxDQUFmO0FBQ0g7QUFDSjs7QUFFRCxtQkFBT0gsR0FBUDtBQUNIOzs7Ozs7a0JBSVVwQyxTIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY2xhc3MgTWVkaWFJbmZvIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1pbWVUeXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5oYXNBdWRpbyA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFzVmlkZW8gPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvQ29kZWMgPSBudWxsO1xuICAgICAgICB0aGlzLnZpZGVvQ29kZWMgPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvRGF0YVJhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnZpZGVvRGF0YVJhdGUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuYXVkaW9TYW1wbGVSYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdWRpb0NoYW5uZWxDb3VudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mcHMgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2ZpbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmxldmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaHJvbWFGb3JtYXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNhck51bSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2FyRGVuID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IG51bGw7ICAvLyBNZWRpYUluZm9bXVxuICAgICAgICB0aGlzLnNlZ21lbnRDb3VudCA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFzS2V5ZnJhbWVzSW5kZXggPSBudWxsO1xuICAgICAgICB0aGlzLmtleWZyYW1lc0luZGV4ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpc0NvbXBsZXRlKCkge1xuICAgICAgICBsZXQgYXVkaW9JbmZvQ29tcGxldGUgPSAodGhpcy5oYXNBdWRpbyA9PT0gZmFsc2UpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmhhc0F1ZGlvID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvQ29kZWMgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb1NhbXBsZVJhdGUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NoYW5uZWxDb3VudCAhPSBudWxsKTtcblxuICAgICAgICBsZXQgdmlkZW9JbmZvQ29tcGxldGUgPSAodGhpcy5oYXNWaWRlbyA9PT0gZmFsc2UpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmhhc1ZpZGVvID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVvQ29kZWMgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aWR0aCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZwcyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2ZpbGUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNocm9tYUZvcm1hdCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNhck51bSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNhckRlbiAhPSBudWxsKTtcblxuICAgICAgICAvLyBrZXlmcmFtZXNJbmRleCBtYXkgbm90IGJlIHByZXNlbnRcbiAgICAgICAgcmV0dXJuIHRoaXMubWltZVR5cGUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgdGhpcy5kdXJhdGlvbiAhPSBudWxsICYmXG4gICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIHRoaXMuaGFzS2V5ZnJhbWVzSW5kZXggIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgYXVkaW9JbmZvQ29tcGxldGUgJiZcbiAgICAgICAgICAgICAgIHZpZGVvSW5mb0NvbXBsZXRlO1xuICAgIH1cblxuICAgIGlzU2Vla2FibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc0tleWZyYW1lc0luZGV4ID09PSB0cnVlO1xuICAgIH1cblxuICAgIGdldE5lYXJlc3RLZXlmcmFtZShtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgaWYgKHRoaXMua2V5ZnJhbWVzSW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGFibGUgPSB0aGlzLmtleWZyYW1lc0luZGV4O1xuICAgICAgICBsZXQga2V5ZnJhbWVJZHggPSB0aGlzLl9zZWFyY2godGFibGUudGltZXMsIG1pbGxpc2Vjb25kcyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluZGV4OiBrZXlmcmFtZUlkeCxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kczogdGFibGUudGltZXNba2V5ZnJhbWVJZHhdLFxuICAgICAgICAgICAgZmlsZXBvc2l0aW9uOiB0YWJsZS5maWxlcG9zaXRpb25zW2tleWZyYW1lSWR4XVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9zZWFyY2gobGlzdCwgdmFsdWUpIHtcbiAgICAgICAgbGV0IGlkeCA9IDA7XG5cbiAgICAgICAgbGV0IGxhc3QgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBtaWQgPSAwO1xuICAgICAgICBsZXQgbGJvdW5kID0gMDtcbiAgICAgICAgbGV0IHVib3VuZCA9IGxhc3Q7XG5cbiAgICAgICAgaWYgKHZhbHVlIDwgbGlzdFswXSkge1xuICAgICAgICAgICAgaWR4ID0gMDtcbiAgICAgICAgICAgIGxib3VuZCA9IHVib3VuZCArIDE7ICAvLyBza2lwIHNlYXJjaFxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGxib3VuZCA8PSB1Ym91bmQpIHtcbiAgICAgICAgICAgIG1pZCA9IGxib3VuZCArIE1hdGguZmxvb3IoKHVib3VuZCAtIGxib3VuZCkgLyAyKTtcbiAgICAgICAgICAgIGlmIChtaWQgPT09IGxhc3QgfHwgKHZhbHVlID49IGxpc3RbbWlkXSAmJiB2YWx1ZSA8IGxpc3RbbWlkICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gbWlkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaXN0W21pZF0gPCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGxib3VuZCA9IG1pZCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVib3VuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWR4O1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBNZWRpYUluZm87XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvZmx2L21lZGlhLWluZm8uanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ })
/******/ ]);