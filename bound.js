/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 15);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* eslint-disable */\n\n\nvar _flvdemux = __webpack_require__(9);\n\nvar _flvdemux2 = _interopRequireDefault(_flvdemux);\n\nvar _mediaInfo = __webpack_require__(10);\n\nvar _mediaInfo2 = _interopRequireDefault(_mediaInfo);\n\nvar _spsParser = __webpack_require__(3);\n\nvar _spsParser2 = _interopRequireDefault(_spsParser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar tagDemux = function () {\n    function tagDemux() {\n        _classCallCheck(this, tagDemux);\n\n        this.TAG = this.constructor.name;\n\n        this._config = {};\n\n        this._onError = null;\n        this._onMediaInfo = null;\n        this._onTrackMetadata = null;\n        this._onDataAvailable = null;\n\n        this._dataOffset = 0;\n        this._firstParse = true;\n        this._dispatch = false;\n\n        this._hasAudio = false;\n        this._hasVideo = false;\n\n        this._audioInitialMetadataDispatched = false;\n        this._videoInitialMetadataDispatched = false;\n\n        this._mediaInfo = new _mediaInfo2.default();\n        this._mediaInfo.hasAudio = this._hasAudio;\n        this._mediaInfo.hasVideo = this._hasVideo;\n        this._metadata = null;\n        this._audioMetadata = null;\n        this._videoMetadata = null;\n\n        this._naluLengthSize = 4;\n        this._timestampBase = 0; // int32, in milliseconds\n        this._timescale = 1000;\n        this._duration = 0; // int32, in milliseconds\n        this._durationOverrided = false;\n        this._referenceFrameRate = {\n            fixed: true,\n            fps: 23.976,\n            fps_num: 23976,\n            fps_den: 1000\n        };\n\n        this._videoTrack = { type: 'video', id: 1, sequenceNumber: 0, addcoefficient: 2, samples: [], length: 0 };\n        this._audioTrack = { type: 'audio', id: 2, sequenceNumber: 1, addcoefficient: 2, samples: [], length: 0 };\n\n        this._littleEndian = function () {\n            var buf = new ArrayBuffer(2);\n            new DataView(buf).setInt16(0, 256, true); // little-endian write\n            return new Int16Array(buf)[0] === 256; // platform-spec read, if equal then LE\n        }();\n    }\n\n    _createClass(tagDemux, [{\n        key: 'onMediaInfo',\n        value: function onMediaInfo(callback) {\n            this._onMediaInfo = callback;\n        }\n    }, {\n        key: 'parseMetadata',\n        value: function parseMetadata(arr) {\n            var data = _flvdemux2.default.parseMetadata(arr);\n            this._parseScriptData(data);\n            console.log(this._mediaInfo, this._mediaInfo.isComplete());\n        }\n    }, {\n        key: '_parseScriptData',\n        value: function _parseScriptData(obj) {\n            var scriptData = obj;\n\n            if (scriptData.hasOwnProperty('onMetaData')) {\n                if (this._metadata) {\n                    console.log(this.TAG, 'Found another onMetaData tag!');\n                }\n                this._metadata = scriptData;\n                var onMetaData = this._metadata.onMetaData;\n\n                if (typeof onMetaData.hasAudio === 'boolean') {\n                    // hasAudio\n                    this._hasAudio = onMetaData.hasAudio;\n                    this._mediaInfo.hasAudio = this._hasAudio;\n                }\n                if (typeof onMetaData.hasVideo === 'boolean') {\n                    // hasVideo\n                    this._hasVideo = onMetaData.hasVideo;\n                    this._mediaInfo.hasVideo = this._hasVideo;\n                }\n                if (typeof onMetaData.audiodatarate === 'number') {\n                    // audiodatarate\n                    this._mediaInfo.audioDataRate = onMetaData.audiodatarate;\n                }\n                if (typeof onMetaData.videodatarate === 'number') {\n                    // videodatarate\n                    this._mediaInfo.videoDataRate = onMetaData.videodatarate;\n                }\n                if (typeof onMetaData.width === 'number') {\n                    // width\n                    this._mediaInfo.width = onMetaData.width;\n                }\n                if (typeof onMetaData.height === 'number') {\n                    // height\n                    this._mediaInfo.height = onMetaData.height;\n                }\n                if (typeof onMetaData.duration === 'number') {\n                    // duration\n                    if (!this._durationOverrided) {\n                        var duration = Math.floor(onMetaData.duration * this._timescale);\n                        this._duration = duration;\n                        this._mediaInfo.duration = duration;\n                    }\n                } else {\n                    this._mediaInfo.duration = 0;\n                }\n                if (typeof onMetaData.framerate === 'number') {\n                    // framerate\n                    var fps_num = Math.floor(onMetaData.framerate * 1000);\n                    if (fps_num > 0) {\n                        var fps = fps_num / 1000;\n                        this._referenceFrameRate.fixed = true;\n                        this._referenceFrameRate.fps = fps;\n                        this._referenceFrameRate.fps_num = fps_num;\n                        this._referenceFrameRate.fps_den = 1000;\n                        this._mediaInfo.fps = fps;\n                    }\n                }\n                if (_typeof(onMetaData.keyframes) === 'object') {\n                    // keyframes\n                    this._mediaInfo.hasKeyframesIndex = true;\n                    var keyframes = onMetaData.keyframes;\n                    keyframes.times = onMetaData.times;\n                    keyframes.filepositions = onMetaData.filepositions;\n                    this._mediaInfo.keyframesIndex = this._parseKeyframesIndex(keyframes);\n                    onMetaData.keyframes = null; // keyframes has been extracted, remove it\n                } else {\n                    this._mediaInfo.hasKeyframesIndex = false;\n                }\n                this._dispatch = false;\n                this._mediaInfo.metadata = onMetaData;\n                console.log(this.TAG, 'Parsed onMetaData');\n                // if (this._mediaInfo.isComplete()) {\n                // this._onMediaInfo(this._mediaInfo);\n                // }\n                return this._mediaInfo;\n            }\n        }\n    }, {\n        key: '_parseKeyframesIndex',\n        value: function _parseKeyframesIndex(keyframes) {\n            var times = [];\n            var filepositions = [];\n\n            // ignore first keyframe which is actually AVC Sequence Header (AVCDecoderConfigurationRecord)\n            for (var i = 1; i < keyframes.times.length; i++) {\n                var time = this._timestampBase + Math.floor(keyframes.times[i] * 1000);\n                times.push(time);\n                filepositions.push(keyframes.filepositions[i]);\n            }\n\n            return {\n                times: times,\n                filepositions: filepositions\n            };\n        }\n\n        /**\n         * 传入tags输出moof和mdat\n         *\n         * @param {any} tags\n         *\n         * @memberof tagDemux\n         */\n\n    }, {\n        key: 'moofTag',\n        value: function moofTag(tags) {\n\n            for (var i = 0; i < tags.length; i++) {\n                this._dispatch = true;\n                this.parseChunks(tags[i]);\n                // console.log(\"tagTimestamp\", tags[i].getTime(), tags[i]);\n            }\n            if (this._isInitialMetadataDispatched()) {\n                if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {\n                    this._onDataAvailable(this._audioTrack, this._videoTrack);\n                }\n            }\n        }\n    }, {\n        key: 'parseChunks',\n        value: function parseChunks(flvtag) {\n\n            switch (flvtag.tagType) {\n                case 8:\n                    // Audio\n                    this._parseAudioData(flvtag.body.buffer, 0, flvtag.body.length, flvtag.getTime());\n                    break;\n                case 9:\n                    // Video\n                    this._parseVideoData(flvtag.body.buffer, 0, flvtag.body.length, flvtag.getTime(), 0);\n                    break;\n                case 18:\n                    // ScriptDataObject\n                    this.parseMetadata(flvtag.body);\n                    break;\n            }\n        }\n    }, {\n        key: '_parseVideoData',\n        value: function _parseVideoData(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition) {\n            if (tagTimestamp == this._timestampBase && this._timestampBase != 0) {\n                console.log(tagTimestamp, this._timestampBase, '夭寿啦这个视频不是从0开始');\n                // this.timestampBase(0);\n            }\n            if (dataSize <= 1) {\n                console.log(this.TAG, 'Flv: Invalid video packet, missing VideoData payload!');\n                return;\n            }\n            // 获取 video tag body 第一字节\n            var spec = new Uint8Array(arrayBuffer, dataOffset, dataSize)[0];\n            // 获取是否是关键帧\n            var frameType = (spec & 240) >>> 4;\n            // 获取编码格式\n            var codecId = spec & 15;\n\n            if (codecId !== 7) {\n                this._onError(DemuxErrors.CODEC_UNSUPPORTED, 'Flv: Unsupported codec in video frame: ' + codecId);\n                return;\n            }\n\n            this._parseAVCVideoPacket(arrayBuffer, dataOffset + 1, dataSize - 1, tagTimestamp, tagPosition, frameType);\n        }\n    }, {\n        key: '_parseAVCVideoPacket',\n        value: function _parseAVCVideoPacket(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition, frameType) {\n\n            if (dataSize < 4) {\n                console.log(this.TAG, 'Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime');\n                return;\n            }\n\n            var le = this._littleEndian;\n            // 获取 video tag body 第2字节到结尾\n            var v = new DataView(arrayBuffer, dataOffset, dataSize);\n\n            // IF CodecID == 7  AVCPacketType\n            // 0 = AVC sequence header\n            // 1 = AVC NALU\n            // 2 = AVC end of sequence (lower level NALU sequence ender is not required or supported)\n            var packetType = v.getUint8(0);\n            // 3字节\n            // IF AVCPacketType == 1\n            //  Composition time offset\n            // ELSE\n            //  0\n            var cts = v.getUint32(0, !le) & 0x00FFFFFF;\n\n            // IF AVCPacketType == 0 AVCDecoderConfigurationRecord（AVC sequence header）\n            // IF AVCPacketType == 1 One or more NALUs (Full frames are required)\n\n            /**\n             *AVCDecoderConfigurationRecord.包含着是H.264解码相关比较重要的sps和pps信息，\n             *再给AVC解码器送数据 流之前一定要把sps和pps信息送出，否则的话解码器不能正常解码。\n             *而且在解码器stop之后再次start之前，如seek、快进快退状态切换等，\n             *都 需要重新送一遍sps和pps的信息.AVCDecoderConfigurationRecord在FLV文件中一般情况也是出现1次，\n             *也就是第一个 video tag.\n             */\n            if (packetType === 0) {\n                // AVCDecoderConfigurationRecord\n                this._parseAVCDecoderConfigurationRecord(arrayBuffer, dataOffset + 4, dataSize - 4);\n            } else if (packetType === 1) {\n                // One or more Nalus\n                this._parseAVCVideoData(arrayBuffer, dataOffset + 4, dataSize - 4, tagTimestamp, tagPosition, frameType, cts);\n            } else if (packetType === 2) {\n                // empty, AVC end of sequence\n            } else {\n                this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid video packet type ' + packetType);\n                return;\n            }\n        }\n\n        /**\n         * AVC 初始化\n         */\n\n    }, {\n        key: '_parseAVCDecoderConfigurationRecord',\n        value: function _parseAVCDecoderConfigurationRecord(arrayBuffer, dataOffset, dataSize) {\n            if (dataSize < 7) {\n                console.log(this.TAG, 'Flv: Invalid AVCDecoderConfigurationRecord, lack of data!');\n                return;\n            }\n\n            var meta = this._videoMetadata;\n            var track = this._videoTrack;\n            var le = this._littleEndian;\n            var v = new DataView(arrayBuffer, dataOffset, dataSize);\n\n            if (!meta) {\n                meta = this._videoMetadata = {};\n                meta.type = 'video';\n                meta.id = track.id;\n                meta.timescale = this._timescale;\n                meta.duration = this._duration;\n            } else {\n                if (typeof meta.avcc !== 'undefined') {\n                    console.log(this.TAG, 'Found another AVCDecoderConfigurationRecord!');\n                }\n            }\n\n            var version = v.getUint8(0); // configurationVersion\n            var avcProfile = v.getUint8(1); // avcProfileIndication\n            var profileCompatibility = v.getUint8(2); // profile_compatibility\n            var avcLevel = v.getUint8(3); // AVCLevelIndication\n\n            if (version !== 1 || avcProfile === 0) {\n                this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord');\n                return;\n            }\n\n            this._naluLengthSize = (v.getUint8(4) & 3) + 1; // lengthSizeMinusOne\n            if (this._naluLengthSize !== 3 && this._naluLengthSize !== 4) {\n                // holy shit!!!\n                this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Strange NaluLengthSizeMinusOne: ' + (this._naluLengthSize - 1));\n                return;\n            }\n\n            var spsCount = v.getUint8(5) & 31; // numOfSequenceParameterSets\n            if (spsCount === 0 || spsCount > 1) {\n                this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid H264 SPS count: ' + spsCount);\n                return;\n            }\n\n            var offset = 6;\n\n            for (var i = 0; i < spsCount; i++) {\n                var len = v.getUint16(offset, !le); // sequenceParameterSetLength\n                offset += 2;\n\n                if (len === 0) {\n                    continue;\n                }\n\n                // Notice: Nalu without startcode header (00 00 00 01)\n                var sps = new Uint8Array(arrayBuffer, dataOffset + offset, len);\n                offset += len;\n\n                var config = _spsParser2.default.parseSPS(sps);\n                meta.codecWidth = config.codec_size.width;\n                meta.codecHeight = config.codec_size.height;\n                meta.presentWidth = config.present_size.width;\n                meta.presentHeight = config.present_size.height;\n\n                meta.profile = config.profile_string;\n                meta.level = config.level_string;\n                meta.bitDepth = config.bit_depth;\n                meta.chromaFormat = config.chroma_format;\n                meta.sarRatio = config.sar_ratio;\n                meta.frameRate = config.frame_rate;\n\n                if (config.frame_rate.fixed === false || config.frame_rate.fps_num === 0 || config.frame_rate.fps_den === 0) {\n                    meta.frameRate = this._referenceFrameRate;\n                }\n\n                var fps_den = meta.frameRate.fps_den;\n                var fps_num = meta.frameRate.fps_num;\n                meta.refSampleDuration = Math.floor(meta.timescale * (fps_den / fps_num));\n\n                var codecArray = sps.subarray(1, 4);\n                var codecString = 'avc1.';\n                for (var j = 0; j < 3; j++) {\n                    var h = codecArray[j].toString(16);\n                    if (h.length < 2) {\n                        h = '0' + h;\n                    }\n                    codecString += h;\n                }\n                meta.codec = codecString;\n\n                var mi = this._mediaInfo;\n                mi.width = meta.codecWidth;\n                mi.height = meta.codecHeight;\n                mi.fps = meta.frameRate.fps;\n                mi.profile = meta.profile;\n                mi.level = meta.level;\n                mi.chromaFormat = config.chroma_format_string;\n                mi.sarNum = meta.sarRatio.width;\n                mi.sarDen = meta.sarRatio.height;\n                mi.videoCodec = codecString;\n\n                if (mi.hasAudio) {\n                    if (mi.audioCodec != null) {\n                        mi.mimeType = 'video/x-flv; codecs=\"' + mi.videoCodec + ',' + mi.audioCodec + '\"';\n                    }\n                } else {\n                    mi.mimeType = 'video/x-flv; codecs=\"' + mi.videoCodec + '\"';\n                }\n                if (mi.isComplete()) {\n                    this._onMediaInfo(mi);\n                }\n            }\n\n            var ppsCount = v.getUint8(offset); // numOfPictureParameterSets\n            if (ppsCount === 0 || ppsCount > 1) {\n                this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid H264 PPS count: ' + ppsCount);\n                return;\n            }\n\n            offset++;\n\n            for (var _i = 0; _i < ppsCount; _i++) {\n                var _len = v.getUint16(offset, !le); // pictureParameterSetLength\n                offset += 2;\n\n                if (_len === 0) {\n                    continue;\n                }\n\n                // pps is useless for extracting video information\n                offset += _len;\n            }\n\n            meta.avcc = new Uint8Array(dataSize);\n            meta.avcc.set(new Uint8Array(arrayBuffer, dataOffset, dataSize), 0);\n            console.log(this.TAG, 'Parsed AVCDecoderConfigurationRecord');\n\n            if (this._isInitialMetadataDispatched()) {\n                // flush parsed frames\n                if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {\n                    this._onDataAvailable(this._audioTrack, this._videoTrack);\n                }\n            } else {\n                this._videoInitialMetadataDispatched = true;\n            }\n            // notify new metadata\n            this._dispatch = false;\n            // if (this._onTrackMetadata) {\n            //     this._onTrackMetadata.call(null, meta);\n            // }\n\n            this._onTrackMetadata('video', meta);\n        }\n    }, {\n        key: 'timestampBase',\n        value: function timestampBase(i) {\n            this._timestampBase = i;\n        }\n\n        /**\n         * 普通的AVC 片段\n         */\n\n    }, {\n        key: '_parseAVCVideoData',\n        value: function _parseAVCVideoData(arrayBuffer, dataOffset, dataSize, tagTimestamp, tagPosition, frameType, cts) {\n\n            var le = this._littleEndian;\n            var v = new DataView(arrayBuffer, dataOffset, dataSize);\n\n            var units = [],\n                length = 0;\n\n            var offset = 0;\n            var lengthSize = this._naluLengthSize;\n            var dts = this._timestampBase + tagTimestamp;\n            var keyframe = frameType === 1; // from FLV Frame Type constants\n\n            while (offset < dataSize) {\n                if (offset + 4 >= dataSize) {\n                    console.log(this.TAG, 'Malformed Nalu near timestamp ' + dts + ', offset = ' + offset + ', dataSize = ' + dataSize);\n                    break; // data not enough for next Nalu\n                }\n                // Nalu with length-header (AVC1)\n                var naluSize = v.getUint32(offset, !le); // Big-Endian read\n                if (lengthSize === 3) {\n                    naluSize >>>= 8;\n                }\n                if (naluSize > dataSize - lengthSize) {\n                    console.log(this.TAG, 'Malformed Nalus near timestamp ' + dts + ', NaluSize > DataSize!');\n                    return;\n                }\n\n                var unitType = v.getUint8(offset + lengthSize) & 0x1F;\n\n                if (unitType === 5) {\n                    // IDR\n                    keyframe = true;\n                }\n\n                var data = new Uint8Array(arrayBuffer, dataOffset + offset, lengthSize + naluSize);\n                var unit = { type: unitType, data: data };\n                units.push(unit);\n                length += data.byteLength;\n\n                offset += lengthSize + naluSize;\n            }\n\n            if (units.length) {\n                var track = this._videoTrack;\n                var avcSample = {\n                    units: units,\n                    length: length,\n                    isKeyframe: keyframe,\n                    dts: dts,\n                    cts: cts,\n                    pts: dts + cts\n                };\n                if (keyframe) {\n                    avcSample.fileposition = tagPosition;\n                }\n                track.samples.push(avcSample);\n                track.length += length;\n            }\n        }\n    }, {\n        key: '_parseAudioData',\n        value: function _parseAudioData(arrayBuffer, dataOffset, dataSize, tagTimestamp) {\n            if (tagTimestamp == this._timestampBase && this._timestampBase != 0) {\n                console.log(tagTimestamp, this._timestampBase, '夭寿啦这个视频不是从0开始');\n                // timestampBase(0);\n            }\n\n            if (dataSize <= 1) {\n                console.log(this.TAG, 'Flv: Invalid audio packet, missing SoundData payload!');\n                return;\n            }\n\n            var meta = this._audioMetadata;\n            var track = this._audioTrack;\n\n            if (!meta || !meta.codec) {\n                // initial metadata\n                meta = this._audioMetadata = {};\n                meta.type = 'audio';\n                meta.id = track.id;\n                meta.timescale = this._timescale;\n                meta.duration = this._duration;\n\n                var le = this._littleEndian;\n                var v = new DataView(arrayBuffer, dataOffset, dataSize);\n\n                var soundSpec = v.getUint8(0);\n\n                var soundFormat = soundSpec >>> 4;\n                if (soundFormat !== 10) {\n                    // AAC\n                    // TODO: support MP3 audio codec\n                    this._onError(DemuxErrors.CODEC_UNSUPPORTED, 'Flv: Unsupported audio codec idx: ' + soundFormat);\n                    return;\n                }\n\n                var soundRate = 0;\n                var soundRateIndex = (soundSpec & 12) >>> 2;\n\n                var soundRateTable = [5500, 11025, 22050, 44100, 48000];\n\n                if (soundRateIndex < soundRateTable.length) {\n                    soundRate = soundRateTable[soundRateIndex];\n                } else {\n                    this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid audio sample rate idx: ' + soundRateIndex);\n                    return;\n                }\n\n                var soundSize = (soundSpec & 2) >>> 1; // unused\n                var soundType = soundSpec & 1;\n\n                meta.audioSampleRate = soundRate;\n                meta.channelCount = soundType === 0 ? 1 : 2;\n                meta.refSampleDuration = Math.floor(1024 / meta.audioSampleRate * meta.timescale);\n                meta.codec = 'mp4a.40.5';\n            }\n\n            var aacData = this._parseAACAudioData(arrayBuffer, dataOffset + 1, dataSize - 1);\n            if (aacData == undefined) {\n                return;\n            }\n\n            if (aacData.packetType === 0) {\n                // AAC sequence header (AudioSpecificConfig)\n                if (meta.config) {\n                    console.log(this.TAG, 'Found another AudioSpecificConfig!');\n                }\n                var misc = aacData.data;\n                meta.audioSampleRate = misc.samplingRate;\n                meta.channelCount = misc.channelCount;\n                meta.codec = misc.codec;\n                meta.config = misc.config;\n                // The decode result of an aac sample is 1024 PCM samples\n                meta.refSampleDuration = Math.floor(1024 / meta.audioSampleRate * meta.timescale);\n                console.log(this.TAG, 'Parsed AudioSpecificConfig');\n\n                if (this._isInitialMetadataDispatched()) {\n                    // Non-initial metadata, force dispatch (or flush) parsed frames to remuxer\n                    if (this._dispatch && (this._audioTrack.length || this._videoTrack.length)) {\n                        this._onDataAvailable(this._audioTrack, this._videoTrack);\n                    }\n                } else {\n                    this._audioInitialMetadataDispatched = true;\n                }\n                // then notify new metadata\n                this._dispatch = false;\n                this._onTrackMetadata('audio', meta);\n\n                var mi = this._mediaInfo;\n                mi.audioCodec = 'mp4a.40.' + misc.originalAudioObjectType;\n                mi.audioSampleRate = meta.audioSampleRate;\n                mi.audioChannelCount = meta.channelCount;\n                if (mi.hasVideo) {\n                    if (mi.videoCodec != null) {\n                        mi.mimeType = 'video/x-flv; codecs=\"' + mi.videoCodec + ',' + mi.audioCodec + '\"';\n                    }\n                } else {\n                    mi.mimeType = 'video/x-flv; codecs=\"' + mi.audioCodec + '\"';\n                }\n                if (mi.isComplete()) {\n                    this._onMediaInfo(mi);\n                }\n                return;\n            } else if (aacData.packetType === 1) {\n                // AAC raw frame data\n                var dts = this._timestampBase + tagTimestamp;\n                var aacSample = { unit: aacData.data, dts: dts, pts: dts };\n                track.samples.push(aacSample);\n                track.length += aacData.data.length;\n            } else {\n                console.log(this.TAG, 'Flv: Unsupported AAC data type ' + aacData.packetType);\n            }\n        }\n    }, {\n        key: '_parseAACAudioData',\n        value: function _parseAACAudioData(arrayBuffer, dataOffset, dataSize) {\n            if (dataSize <= 1) {\n                console.log(this.TAG, 'Flv: Invalid AAC packet, missing AACPacketType or/and Data!');\n                return;\n            }\n\n            var result = {};\n            var array = new Uint8Array(arrayBuffer, dataOffset, dataSize);\n\n            result.packetType = array[0];\n\n            if (array[0] === 0) {\n                result.data = this._parseAACAudioSpecificConfig(arrayBuffer, dataOffset + 1, dataSize - 1);\n            } else {\n                result.data = array.subarray(1);\n            }\n\n            return result;\n        }\n    }, {\n        key: '_parseAACAudioSpecificConfig',\n        value: function _parseAACAudioSpecificConfig(arrayBuffer, dataOffset, dataSize) {\n            var array = new Uint8Array(arrayBuffer, dataOffset, dataSize);\n            var config = null;\n\n            var mpegSamplingRates = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\n            /* Audio Object Type:\n               0: Null\n               1: AAC Main\n               2: AAC LC\n               3: AAC SSR (Scalable Sample Rate)\n               4: AAC LTP (Long Term Prediction)\n               5: HE-AAC / SBR (Spectral Band Replication)\n               6: AAC Scalable\n            */\n\n            var audioObjectType = 0;\n            var originalAudioObjectType = 0;\n            var audioExtensionObjectType = null;\n            var samplingIndex = 0;\n            var extensionSamplingIndex = null;\n            // debugger;\n            // 5 bits\n            audioObjectType = originalAudioObjectType = array[0] >>> 3;\n            // 4 bits\n            samplingIndex = (array[0] & 0x07) << 1 | array[1] >>> 7;\n            if (samplingIndex < 0 || samplingIndex >= mpegSamplingRates.length) {\n                this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: AAC invalid sampling frequency index!');\n                return;\n            }\n\n            var samplingFrequence = mpegSamplingRates[samplingIndex];\n\n            // 4 bits\n            var channelConfig = (array[1] & 0x78) >>> 3;\n            if (channelConfig < 0 || channelConfig >= 8) {\n                this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: AAC invalid channel configuration');\n                return;\n            }\n\n            if (audioObjectType === 5) {\n                // HE-AAC?\n                // 4 bits\n                extensionSamplingIndex = (array[1] & 0x07) << 1 | array[2] >>> 7;\n                // 5 bits\n                audioExtensionObjectType = (array[2] & 0x7C) >>> 2;\n            }\n\n            // workarounds for various browsers\n            var userAgent = self.navigator.userAgent.toLowerCase();\n\n            if (userAgent.indexOf('firefox') !== -1) {\n                // firefox: use SBR (HE-AAC) if freq less than 24kHz\n                if (samplingIndex >= 6) {\n                    audioObjectType = 5;\n                    config = new Array(4);\n                    extensionSamplingIndex = samplingIndex - 3;\n                } else {\n                    // use LC-AAC\n                    audioObjectType = 2;\n                    config = new Array(2);\n                    extensionSamplingIndex = samplingIndex;\n                }\n            } else if (userAgent.indexOf('android') !== -1) {\n                // android: always use LC-AAC\n                audioObjectType = 2;\n                config = new Array(2);\n                extensionSamplingIndex = samplingIndex;\n            } else {\n                // for other browsers, e.g. chrome...\n                // Always use HE-AAC to make it easier to switch aac codec profile\n                audioObjectType = 5;\n                extensionSamplingIndex = samplingIndex;\n                config = new Array(4);\n\n                if (samplingIndex >= 6) {\n                    extensionSamplingIndex = samplingIndex - 3;\n                } else if (channelConfig === 1) {\n                    // Mono channel\n                    audioObjectType = 2;\n                    config = new Array(2);\n                    extensionSamplingIndex = samplingIndex;\n                }\n            }\n\n            config[0] = audioObjectType << 3;\n            config[0] |= (samplingIndex & 0x0F) >>> 1;\n            config[1] = (samplingIndex & 0x0F) << 7;\n            config[1] |= (channelConfig & 0x0F) << 3;\n            if (audioObjectType === 5) {\n                config[1] |= (extensionSamplingIndex & 0x0F) >>> 1;\n                config[2] = (extensionSamplingIndex & 0x01) << 7;\n                // extended audio object type: force to 2 (LC-AAC)\n                config[2] |= 2 << 2;\n                config[3] = 0;\n            }\n\n            return {\n                config: config,\n                samplingRate: samplingFrequence,\n                channelCount: channelConfig,\n                codec: 'mp4a.40.' + audioObjectType,\n                originalAudioObjectType: originalAudioObjectType\n            };\n        }\n    }, {\n        key: '_isInitialMetadataDispatched',\n        value: function _isInitialMetadataDispatched() {\n            if (this._hasAudio && this._hasVideo) {\n                // both audio & video\n                return this._audioInitialMetadataDispatched && this._videoInitialMetadataDispatched;\n            }\n            if (this._hasAudio && !this._hasVideo) {\n                // audio only\n                return this._audioInitialMetadataDispatched;\n            }\n            if (!this._hasAudio && this._hasVideo) {\n                // video only\n                return this._videoInitialMetadataDispatched;\n            }\n        }\n    }]);\n\n    return tagDemux;\n}();\n\nexports.default = new tagDemux();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvdGFnZGVtdXguanM/MTM1YyJdLCJuYW1lcyI6WyJ0YWdEZW11eCIsIlRBRyIsImNvbnN0cnVjdG9yIiwibmFtZSIsIl9jb25maWciLCJfb25FcnJvciIsIl9vbk1lZGlhSW5mbyIsIl9vblRyYWNrTWV0YWRhdGEiLCJfb25EYXRhQXZhaWxhYmxlIiwiX2RhdGFPZmZzZXQiLCJfZmlyc3RQYXJzZSIsIl9kaXNwYXRjaCIsIl9oYXNBdWRpbyIsIl9oYXNWaWRlbyIsIl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQiLCJfdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkIiwiX21lZGlhSW5mbyIsImhhc0F1ZGlvIiwiaGFzVmlkZW8iLCJfbWV0YWRhdGEiLCJfYXVkaW9NZXRhZGF0YSIsIl92aWRlb01ldGFkYXRhIiwiX25hbHVMZW5ndGhTaXplIiwiX3RpbWVzdGFtcEJhc2UiLCJfdGltZXNjYWxlIiwiX2R1cmF0aW9uIiwiX2R1cmF0aW9uT3ZlcnJpZGVkIiwiX3JlZmVyZW5jZUZyYW1lUmF0ZSIsImZpeGVkIiwiZnBzIiwiZnBzX251bSIsImZwc19kZW4iLCJfdmlkZW9UcmFjayIsInR5cGUiLCJpZCIsInNlcXVlbmNlTnVtYmVyIiwiYWRkY29lZmZpY2llbnQiLCJzYW1wbGVzIiwibGVuZ3RoIiwiX2F1ZGlvVHJhY2siLCJfbGl0dGxlRW5kaWFuIiwiYnVmIiwiQXJyYXlCdWZmZXIiLCJEYXRhVmlldyIsInNldEludDE2IiwiSW50MTZBcnJheSIsImNhbGxiYWNrIiwiYXJyIiwiZGF0YSIsInBhcnNlTWV0YWRhdGEiLCJfcGFyc2VTY3JpcHREYXRhIiwiY29uc29sZSIsImxvZyIsImlzQ29tcGxldGUiLCJvYmoiLCJzY3JpcHREYXRhIiwiaGFzT3duUHJvcGVydHkiLCJvbk1ldGFEYXRhIiwiYXVkaW9kYXRhcmF0ZSIsImF1ZGlvRGF0YVJhdGUiLCJ2aWRlb2RhdGFyYXRlIiwidmlkZW9EYXRhUmF0ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZHVyYXRpb24iLCJNYXRoIiwiZmxvb3IiLCJmcmFtZXJhdGUiLCJrZXlmcmFtZXMiLCJoYXNLZXlmcmFtZXNJbmRleCIsInRpbWVzIiwiZmlsZXBvc2l0aW9ucyIsImtleWZyYW1lc0luZGV4IiwiX3BhcnNlS2V5ZnJhbWVzSW5kZXgiLCJtZXRhZGF0YSIsImkiLCJ0aW1lIiwicHVzaCIsInRhZ3MiLCJwYXJzZUNodW5rcyIsIl9pc0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQiLCJmbHZ0YWciLCJ0YWdUeXBlIiwiX3BhcnNlQXVkaW9EYXRhIiwiYm9keSIsImJ1ZmZlciIsImdldFRpbWUiLCJfcGFyc2VWaWRlb0RhdGEiLCJhcnJheUJ1ZmZlciIsImRhdGFPZmZzZXQiLCJkYXRhU2l6ZSIsInRhZ1RpbWVzdGFtcCIsInRhZ1Bvc2l0aW9uIiwic3BlYyIsIlVpbnQ4QXJyYXkiLCJmcmFtZVR5cGUiLCJjb2RlY0lkIiwiRGVtdXhFcnJvcnMiLCJDT0RFQ19VTlNVUFBPUlRFRCIsIl9wYXJzZUFWQ1ZpZGVvUGFja2V0IiwibGUiLCJ2IiwicGFja2V0VHlwZSIsImdldFVpbnQ4IiwiY3RzIiwiZ2V0VWludDMyIiwiX3BhcnNlQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQiLCJfcGFyc2VBVkNWaWRlb0RhdGEiLCJGT1JNQVRfRVJST1IiLCJtZXRhIiwidHJhY2siLCJ0aW1lc2NhbGUiLCJhdmNjIiwidmVyc2lvbiIsImF2Y1Byb2ZpbGUiLCJwcm9maWxlQ29tcGF0aWJpbGl0eSIsImF2Y0xldmVsIiwic3BzQ291bnQiLCJvZmZzZXQiLCJsZW4iLCJnZXRVaW50MTYiLCJzcHMiLCJjb25maWciLCJwYXJzZVNQUyIsImNvZGVjV2lkdGgiLCJjb2RlY19zaXplIiwiY29kZWNIZWlnaHQiLCJwcmVzZW50V2lkdGgiLCJwcmVzZW50X3NpemUiLCJwcmVzZW50SGVpZ2h0IiwicHJvZmlsZSIsInByb2ZpbGVfc3RyaW5nIiwibGV2ZWwiLCJsZXZlbF9zdHJpbmciLCJiaXREZXB0aCIsImJpdF9kZXB0aCIsImNocm9tYUZvcm1hdCIsImNocm9tYV9mb3JtYXQiLCJzYXJSYXRpbyIsInNhcl9yYXRpbyIsImZyYW1lUmF0ZSIsImZyYW1lX3JhdGUiLCJyZWZTYW1wbGVEdXJhdGlvbiIsImNvZGVjQXJyYXkiLCJzdWJhcnJheSIsImNvZGVjU3RyaW5nIiwiaiIsImgiLCJ0b1N0cmluZyIsImNvZGVjIiwibWkiLCJjaHJvbWFfZm9ybWF0X3N0cmluZyIsInNhck51bSIsInNhckRlbiIsInZpZGVvQ29kZWMiLCJhdWRpb0NvZGVjIiwibWltZVR5cGUiLCJwcHNDb3VudCIsInNldCIsInVuaXRzIiwibGVuZ3RoU2l6ZSIsImR0cyIsImtleWZyYW1lIiwibmFsdVNpemUiLCJ1bml0VHlwZSIsInVuaXQiLCJieXRlTGVuZ3RoIiwiYXZjU2FtcGxlIiwiaXNLZXlmcmFtZSIsInB0cyIsImZpbGVwb3NpdGlvbiIsInNvdW5kU3BlYyIsInNvdW5kRm9ybWF0Iiwic291bmRSYXRlIiwic291bmRSYXRlSW5kZXgiLCJzb3VuZFJhdGVUYWJsZSIsInNvdW5kU2l6ZSIsInNvdW5kVHlwZSIsImF1ZGlvU2FtcGxlUmF0ZSIsImNoYW5uZWxDb3VudCIsImFhY0RhdGEiLCJfcGFyc2VBQUNBdWRpb0RhdGEiLCJ1bmRlZmluZWQiLCJtaXNjIiwic2FtcGxpbmdSYXRlIiwib3JpZ2luYWxBdWRpb09iamVjdFR5cGUiLCJhdWRpb0NoYW5uZWxDb3VudCIsImFhY1NhbXBsZSIsInJlc3VsdCIsImFycmF5IiwiX3BhcnNlQUFDQXVkaW9TcGVjaWZpY0NvbmZpZyIsIm1wZWdTYW1wbGluZ1JhdGVzIiwiYXVkaW9PYmplY3RUeXBlIiwiYXVkaW9FeHRlbnNpb25PYmplY3RUeXBlIiwic2FtcGxpbmdJbmRleCIsImV4dGVuc2lvblNhbXBsaW5nSW5kZXgiLCJzYW1wbGluZ0ZyZXF1ZW5jZSIsImNoYW5uZWxDb25maWciLCJ1c2VyQWdlbnQiLCJzZWxmIiwibmF2aWdhdG9yIiwidG9Mb3dlckNhc2UiLCJpbmRl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QUFFSDhELDhCQUFjWSxpQkFGWDtBQUdIakIsOEJBQWNrQixhQUhYO0FBSUhoRCx1QkFBTyxhQUFhMkMsZUFKakI7QUFLSFA7QUFMRyxhQUFQO0FBT0g7Ozt1REFDOEI7QUFDM0IsZ0JBQUksS0FBSzdLLFNBQUwsSUFBa0IsS0FBS0MsU0FBM0IsRUFBc0M7QUFBRTtBQUNwQyx1QkFBTyxLQUFLQywrQkFBTCxJQUF3QyxLQUFLQywrQkFBcEQ7QUFDSDtBQUNELGdCQUFJLEtBQUtILFNBQUwsSUFBa0IsQ0FBQyxLQUFLQyxTQUE1QixFQUF1QztBQUFFO0FBQ3JDLHVCQUFPLEtBQUtDLCtCQUFaO0FBQ0g7QUFDRCxnQkFBSSxDQUFDLEtBQUtGLFNBQU4sSUFBbUIsS0FBS0MsU0FBNUIsRUFBdUM7QUFBRTtBQUNyQyx1QkFBTyxLQUFLRSwrQkFBWjtBQUNIO0FBQ0o7Ozs7OztrQkFFVSxJQUFJZixRQUFKLEUiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgZmx2RGVtdXggZnJvbSAnLi9mbHZkZW11eCc7XG5pbXBvcnQgbWVkaWFpbmZvIGZyb20gJy4vbWVkaWEtaW5mbyc7XG5pbXBvcnQgU1BTUGFyc2VyIGZyb20gJy4vc3BzLXBhcnNlcic7XG5jbGFzcyB0YWdEZW11eCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuVEFHID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHt9O1xuXG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fZGF0YU9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuX2ZpcnN0UGFyc2UgPSB0cnVlO1xuICAgICAgICB0aGlzLl9kaXNwYXRjaCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2hhc0F1ZGlvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2hhc1ZpZGVvID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fYXVkaW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZpZGVvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG5ldyBtZWRpYWluZm8oKTtcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0F1ZGlvID0gdGhpcy5faGFzQXVkaW87XG4gICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbyA9IHRoaXMuX2hhc1ZpZGVvO1xuICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F1ZGlvTWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb01ldGFkYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9uYWx1TGVuZ3RoU2l6ZSA9IDQ7XG4gICAgICAgIHRoaXMuX3RpbWVzdGFtcEJhc2UgPSAwOyAvLyBpbnQzMiwgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgIHRoaXMuX3RpbWVzY2FsZSA9IDEwMDA7XG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gMDsgLy8gaW50MzIsIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICB0aGlzLl9kdXJhdGlvbk92ZXJyaWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUgPSB7XG4gICAgICAgICAgICBmaXhlZDogdHJ1ZSxcbiAgICAgICAgICAgIGZwczogMjMuOTc2LFxuICAgICAgICAgICAgZnBzX251bTogMjM5NzYsXG4gICAgICAgICAgICBmcHNfZGVuOiAxMDAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fdmlkZW9UcmFjayA9IHsgdHlwZTogJ3ZpZGVvJywgaWQ6IDEsIHNlcXVlbmNlTnVtYmVyOiAwLCBhZGRjb2VmZmljaWVudDogMiwgc2FtcGxlczogW10sIGxlbmd0aDogMCB9O1xuICAgICAgICB0aGlzLl9hdWRpb1RyYWNrID0geyB0eXBlOiAnYXVkaW8nLCBpZDogMiwgc2VxdWVuY2VOdW1iZXI6IDEsIGFkZGNvZWZmaWNpZW50OiAyLCBzYW1wbGVzOiBbXSwgbGVuZ3RoOiAwIH07XG5cbiAgICAgICAgdGhpcy5fbGl0dGxlRW5kaWFuID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgICAgICAgICAgKG5ldyBEYXRhVmlldyhidWYpKS5zZXRJbnQxNigwLCAyNTYsIHRydWUpOyAvLyBsaXR0bGUtZW5kaWFuIHdyaXRlXG4gICAgICAgICAgICByZXR1cm4gKG5ldyBJbnQxNkFycmF5KGJ1ZikpWzBdID09PSAyNTY7IC8vIHBsYXRmb3JtLXNwZWMgcmVhZCwgaWYgZXF1YWwgdGhlbiBMRVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICBvbk1lZGlhSW5mbyhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICBwYXJzZU1ldGFkYXRhKGFycikge1xuICAgICAgICBjb25zdCBkYXRhID0gZmx2RGVtdXgucGFyc2VNZXRhZGF0YShhcnIpO1xuICAgICAgICB0aGlzLl9wYXJzZVNjcmlwdERhdGEoZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX21lZGlhSW5mbywgdGhpcy5fbWVkaWFJbmZvLmlzQ29tcGxldGUoKSk7XG4gICAgfVxuICAgIF9wYXJzZVNjcmlwdERhdGEob2JqKSB7XG4gICAgICAgIGNvbnN0IHNjcmlwdERhdGEgPSBvYmo7XG5cbiAgICAgICAgaWYgKHNjcmlwdERhdGEuaGFzT3duUHJvcGVydHkoJ29uTWV0YURhdGEnKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5UQUcsICdGb3VuZCBhbm90aGVyIG9uTWV0YURhdGEgdGFnIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWV0YWRhdGEgPSBzY3JpcHREYXRhO1xuICAgICAgICAgICAgY29uc3Qgb25NZXRhRGF0YSA9IHRoaXMuX21ldGFkYXRhLm9uTWV0YURhdGE7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5oYXNBdWRpbyA9PT0gJ2Jvb2xlYW4nKSB7IC8vIGhhc0F1ZGlvXG4gICAgICAgICAgICAgICAgdGhpcy5faGFzQXVkaW8gPSBvbk1ldGFEYXRhLmhhc0F1ZGlvO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNBdWRpbyA9IHRoaXMuX2hhc0F1ZGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmhhc1ZpZGVvID09PSAnYm9vbGVhbicpIHsgLy8gaGFzVmlkZW9cbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNWaWRlbyA9IG9uTWV0YURhdGEuaGFzVmlkZW87XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gdGhpcy5faGFzVmlkZW87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuYXVkaW9kYXRhcmF0ZSA9PT0gJ251bWJlcicpIHsgLy8gYXVkaW9kYXRhcmF0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5hdWRpb0RhdGFSYXRlID0gb25NZXRhRGF0YS5hdWRpb2RhdGFyYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLnZpZGVvZGF0YXJhdGUgPT09ICdudW1iZXInKSB7IC8vIHZpZGVvZGF0YXJhdGVcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8udmlkZW9EYXRhUmF0ZSA9IG9uTWV0YURhdGEudmlkZW9kYXRhcmF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS53aWR0aCA9PT0gJ251bWJlcicpIHsgLy8gd2lkdGhcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8ud2lkdGggPSBvbk1ldGFEYXRhLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmhlaWdodCA9PT0gJ251bWJlcicpIHsgLy8gaGVpZ2h0XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhlaWdodCA9IG9uTWV0YURhdGEuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmR1cmF0aW9uID09PSAnbnVtYmVyJykgeyAvLyBkdXJhdGlvblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZHVyYXRpb25PdmVycmlkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBNYXRoLmZsb29yKG9uTWV0YURhdGEuZHVyYXRpb24gKiB0aGlzLl90aW1lc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuZnJhbWVyYXRlID09PSAnbnVtYmVyJykgeyAvLyBmcmFtZXJhdGVcbiAgICAgICAgICAgICAgICBjb25zdCBmcHNfbnVtID0gTWF0aC5mbG9vcihvbk1ldGFEYXRhLmZyYW1lcmF0ZSAqIDEwMDApO1xuICAgICAgICAgICAgICAgIGlmIChmcHNfbnVtID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcHMgPSBmcHNfbnVtIC8gMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZpeGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZwcyA9IGZwcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZwc19udW0gPSBmcHNfbnVtO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZnBzX2RlbiA9IDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5mcHMgPSBmcHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmtleWZyYW1lcyA9PT0gJ29iamVjdCcpIHsgLy8ga2V5ZnJhbWVzXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0tleWZyYW1lc0luZGV4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSBvbk1ldGFEYXRhLmtleWZyYW1lcztcbiAgICAgICAgICAgICAgICBrZXlmcmFtZXMudGltZXMgPSBvbk1ldGFEYXRhLnRpbWVzO1xuICAgICAgICAgICAgICAgIGtleWZyYW1lcy5maWxlcG9zaXRpb25zID0gb25NZXRhRGF0YS5maWxlcG9zaXRpb25zO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5rZXlmcmFtZXNJbmRleCA9IHRoaXMuX3BhcnNlS2V5ZnJhbWVzSW5kZXgoa2V5ZnJhbWVzKTtcbiAgICAgICAgICAgICAgICBvbk1ldGFEYXRhLmtleWZyYW1lcyA9IG51bGw7IC8vIGtleWZyYW1lcyBoYXMgYmVlbiBleHRyYWN0ZWQsIHJlbW92ZSBpdFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzS2V5ZnJhbWVzSW5kZXggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8ubWV0YWRhdGEgPSBvbk1ldGFEYXRhO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5UQUcsICdQYXJzZWQgb25NZXRhRGF0YScpO1xuICAgICAgICAgICAgLy8gaWYgKHRoaXMuX21lZGlhSW5mby5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuX29uTWVkaWFJbmZvKHRoaXMuX21lZGlhSW5mbyk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFJbmZvO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3BhcnNlS2V5ZnJhbWVzSW5kZXgoa2V5ZnJhbWVzKSB7XG4gICAgICAgIGNvbnN0IHRpbWVzID0gW107XG4gICAgICAgIGNvbnN0IGZpbGVwb3NpdGlvbnMgPSBbXTtcblxuICAgICAgICAvLyBpZ25vcmUgZmlyc3Qga2V5ZnJhbWUgd2hpY2ggaXMgYWN0dWFsbHkgQVZDIFNlcXVlbmNlIEhlYWRlciAoQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQpXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwga2V5ZnJhbWVzLnRpbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gdGhpcy5fdGltZXN0YW1wQmFzZSArIE1hdGguZmxvb3Ioa2V5ZnJhbWVzLnRpbWVzW2ldICogMTAwMCk7XG4gICAgICAgICAgICB0aW1lcy5wdXNoKHRpbWUpO1xuICAgICAgICAgICAgZmlsZXBvc2l0aW9ucy5wdXNoKGtleWZyYW1lcy5maWxlcG9zaXRpb25zW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aW1lcyxcbiAgICAgICAgICAgIGZpbGVwb3NpdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkvKDlhaV0YWdz6L6T5Ye6bW9vZuWSjG1kYXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSB0YWdzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgdGFnRGVtdXhcbiAgICAgKi9cbiAgICBtb29mVGFnKHRhZ3MpIHtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGFyc2VDaHVua3ModGFnc1tpXSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRhZ1RpbWVzdGFtcFwiLCB0YWdzW2ldLmdldFRpbWUoKSwgdGFnc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2ggJiYgKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RoIHx8IHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSh0aGlzLl9hdWRpb1RyYWNrLCB0aGlzLl92aWRlb1RyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcnNlQ2h1bmtzKGZsdnRhZykge1xuXG4gICAgICAgIHN3aXRjaCAoZmx2dGFnLnRhZ1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgODogLy8gQXVkaW9cbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZUF1ZGlvRGF0YShmbHZ0YWcuYm9keS5idWZmZXIsIDAsIGZsdnRhZy5ib2R5Lmxlbmd0aCwgZmx2dGFnLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDk6IC8vIFZpZGVvXG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyc2VWaWRlb0RhdGEoZmx2dGFnLmJvZHkuYnVmZmVyLCAwLCBmbHZ0YWcuYm9keS5sZW5ndGgsIGZsdnRhZy5nZXRUaW1lKCksIDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxODogLy8gU2NyaXB0RGF0YU9iamVjdFxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VNZXRhZGF0YShmbHZ0YWcuYm9keSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcGFyc2VWaWRlb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0YWdUaW1lc3RhbXAsIHRhZ1Bvc2l0aW9uKSB7XG4gICAgICAgIGlmICh0YWdUaW1lc3RhbXAgPT0gdGhpcy5fdGltZXN0YW1wQmFzZSAmJiB0aGlzLl90aW1lc3RhbXBCYXNlICE9IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhZ1RpbWVzdGFtcCwgdGhpcy5fdGltZXN0YW1wQmFzZSwgJ+WkreWvv+WVpui/meS4quinhumikeS4jeaYr+S7jjDlvIDlp4snKTtcbiAgICAgICAgICAgIC8vIHRoaXMudGltZXN0YW1wQmFzZSgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YVNpemUgPD0gMSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5UQUcsICdGbHY6IEludmFsaWQgdmlkZW8gcGFja2V0LCBtaXNzaW5nIFZpZGVvRGF0YSBwYXlsb2FkIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIOiOt+WPliB2aWRlbyB0YWcgYm9keSDnrKzkuIDlrZfoioJcbiAgICAgICAgY29uc3Qgc3BlYyA9IChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpKVswXTtcbiAgICAgICAgLy8g6I635Y+W5piv5ZCm5piv5YWz6ZSu5binXG4gICAgICAgIGNvbnN0IGZyYW1lVHlwZSA9IChzcGVjICYgMjQwKSA+Pj4gNDtcbiAgICAgICAgLy8g6I635Y+W57yW56CB5qC85byPXG4gICAgICAgIGNvbnN0IGNvZGVjSWQgPSBzcGVjICYgMTU7XG5cbiAgICAgICAgaWYgKGNvZGVjSWQgIT09IDcpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuQ09ERUNfVU5TVVBQT1JURUQsIGBGbHY6IFVuc3VwcG9ydGVkIGNvZGVjIGluIHZpZGVvIGZyYW1lOiAke2NvZGVjSWR9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wYXJzZUFWQ1ZpZGVvUGFja2V0KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxLCB0YWdUaW1lc3RhbXAsIHRhZ1Bvc2l0aW9uLCBmcmFtZVR5cGUpO1xuICAgIH1cblxuICAgIF9wYXJzZUFWQ1ZpZGVvUGFja2V0KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSwgdGFnVGltZXN0YW1wLCB0YWdQb3NpdGlvbiwgZnJhbWVUeXBlKSB7XG5cbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5UQUcsICdGbHY6IEludmFsaWQgQVZDIHBhY2tldCwgbWlzc2luZyBBVkNQYWNrZXRUeXBlIG9yL2FuZCBDb21wb3NpdGlvblRpbWUnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgICAgICAvLyDojrflj5YgdmlkZW8gdGFnIGJvZHkg56ysMuWtl+iKguWIsOe7k+WwvlxuICAgICAgICBjb25zdCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICAgICAgLy8gSUYgQ29kZWNJRCA9PSA3ICBBVkNQYWNrZXRUeXBlXG4gICAgICAgIC8vIDAgPSBBVkMgc2VxdWVuY2UgaGVhZGVyXG4gICAgICAgIC8vIDEgPSBBVkMgTkFMVVxuICAgICAgICAvLyAyID0gQVZDIGVuZCBvZiBzZXF1ZW5jZSAobG93ZXIgbGV2ZWwgTkFMVSBzZXF1ZW5jZSBlbmRlciBpcyBub3QgcmVxdWlyZWQgb3Igc3VwcG9ydGVkKVxuICAgICAgICBjb25zdCBwYWNrZXRUeXBlID0gdi5nZXRVaW50OCgwKTtcbiAgICAgICAgLy8gM+Wtl+iKglxuICAgICAgICAvLyBJRiBBVkNQYWNrZXRUeXBlID09IDFcbiAgICAgICAgLy8gIENvbXBvc2l0aW9uIHRpbWUgb2Zmc2V0XG4gICAgICAgIC8vIEVMU0VcbiAgICAgICAgLy8gIDBcbiAgICAgICAgY29uc3QgY3RzID0gdi5nZXRVaW50MzIoMCwgIWxlKSAmIDB4MDBGRkZGRkY7XG5cbiAgICAgICAgLy8gSUYgQVZDUGFja2V0VHlwZSA9PSAwIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3Jk77yIQVZDIHNlcXVlbmNlIGhlYWRlcu+8iVxuICAgICAgICAvLyBJRiBBVkNQYWNrZXRUeXBlID09IDEgT25lIG9yIG1vcmUgTkFMVXMgKEZ1bGwgZnJhbWVzIGFyZSByZXF1aXJlZClcblxuICAgICAgICAvKipcbiAgICAgICAgICpBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZC7ljIXlkKvnnYDmmK9ILjI2NOino+eggeebuOWFs+avlOi+g+mHjeimgeeahHNwc+WSjHBwc+S/oeaBr++8jFxuICAgICAgICAgKuWGjee7mUFWQ+ino+eggeWZqOmAgeaVsOaNriDmtYHkuYvliY3kuIDlrpropoHmiopzcHPlkoxwcHPkv6Hmga/pgIHlh7rvvIzlkKbliJnnmoTor53op6PnoIHlmajkuI3og73mraPluLjop6PnoIHjgIJcbiAgICAgICAgICrogIzkuJTlnKjop6PnoIHlmahzdG9w5LmL5ZCO5YaN5qyhc3RhcnTkuYvliY3vvIzlpoJzZWVr44CB5b+r6L+b5b+r6YCA54q25oCB5YiH5o2i562J77yMXG4gICAgICAgICAq6YO9IOmcgOimgemHjeaWsOmAgeS4gOmBjXNwc+WSjHBwc+eahOS/oeaBry5BVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZOWcqEZMVuaWh+S7tuS4reS4gOiIrOaDheWGteS5n+aYr+WHuueOsDHmrKHvvIxcbiAgICAgICAgICrkuZ/lsLHmmK/nrKzkuIDkuKogdmlkZW8gdGFnLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHBhY2tldFR5cGUgPT09IDApIHsgLy8gQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmRcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyA0LCBkYXRhU2l6ZSAtIDQpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhY2tldFR5cGUgPT09IDEpIHsgLy8gT25lIG9yIG1vcmUgTmFsdXNcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQVZDVmlkZW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgNCwgZGF0YVNpemUgLSA0LCB0YWdUaW1lc3RhbXAsIHRhZ1Bvc2l0aW9uLCBmcmFtZVR5cGUsIGN0cyk7XG4gICAgICAgIH0gZWxzZSBpZiAocGFja2V0VHlwZSA9PT0gMikge1xuICAgICAgICAgICAgLy8gZW1wdHksIEFWQyBlbmQgb2Ygc2VxdWVuY2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCBgRmx2OiBJbnZhbGlkIHZpZGVvIHBhY2tldCB0eXBlICR7cGFja2V0VHlwZX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFWQyDliJ3lp4vljJZcbiAgICAgKi9cbiAgICBfcGFyc2VBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNykge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5UQUcsICdGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQsIGxhY2sgb2YgZGF0YSEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtZXRhID0gdGhpcy5fdmlkZW9NZXRhZGF0YTtcbiAgICAgICAgY29uc3QgdHJhY2sgPSB0aGlzLl92aWRlb1RyYWNrO1xuICAgICAgICBjb25zdCBsZSA9IHRoaXMuX2xpdHRsZUVuZGlhbjtcbiAgICAgICAgY29uc3QgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGlmICghbWV0YSkge1xuICAgICAgICAgICAgbWV0YSA9IHRoaXMuX3ZpZGVvTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgICAgIG1ldGEudHlwZSA9ICd2aWRlbyc7XG4gICAgICAgICAgICBtZXRhLmlkID0gdHJhY2suaWQ7XG4gICAgICAgICAgICBtZXRhLnRpbWVzY2FsZSA9IHRoaXMuX3RpbWVzY2FsZTtcbiAgICAgICAgICAgIG1ldGEuZHVyYXRpb24gPSB0aGlzLl9kdXJhdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0YS5hdmNjICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuVEFHLCAnRm91bmQgYW5vdGhlciBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSB2LmdldFVpbnQ4KDApOyAvLyBjb25maWd1cmF0aW9uVmVyc2lvblxuICAgICAgICBjb25zdCBhdmNQcm9maWxlID0gdi5nZXRVaW50OCgxKTsgLy8gYXZjUHJvZmlsZUluZGljYXRpb25cbiAgICAgICAgY29uc3QgcHJvZmlsZUNvbXBhdGliaWxpdHkgPSB2LmdldFVpbnQ4KDIpOyAvLyBwcm9maWxlX2NvbXBhdGliaWxpdHlcbiAgICAgICAgY29uc3QgYXZjTGV2ZWwgPSB2LmdldFVpbnQ4KDMpOyAvLyBBVkNMZXZlbEluZGljYXRpb25cblxuICAgICAgICBpZiAodmVyc2lvbiAhPT0gMSB8fCBhdmNQcm9maWxlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogSW52YWxpZCBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbmFsdUxlbmd0aFNpemUgPSAodi5nZXRVaW50OCg0KSAmIDMpICsgMTsgLy8gbGVuZ3RoU2l6ZU1pbnVzT25lXG4gICAgICAgIGlmICh0aGlzLl9uYWx1TGVuZ3RoU2l6ZSAhPT0gMyAmJiB0aGlzLl9uYWx1TGVuZ3RoU2l6ZSAhPT0gNCkgeyAvLyBob2x5IHNoaXQhISFcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCBgRmx2OiBTdHJhbmdlIE5hbHVMZW5ndGhTaXplTWludXNPbmU6ICR7dGhpcy5fbmFsdUxlbmd0aFNpemUgLSAxfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3BzQ291bnQgPSB2LmdldFVpbnQ4KDUpICYgMzE7IC8vIG51bU9mU2VxdWVuY2VQYXJhbWV0ZXJTZXRzXG4gICAgICAgIGlmIChzcHNDb3VudCA9PT0gMCB8fCBzcHNDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCBgRmx2OiBJbnZhbGlkIEgyNjQgU1BTIGNvdW50OiAke3Nwc0NvdW50fWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IDY7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSB2LmdldFVpbnQxNihvZmZzZXQsICFsZSk7IC8vIHNlcXVlbmNlUGFyYW1ldGVyU2V0TGVuZ3RoXG4gICAgICAgICAgICBvZmZzZXQgKz0gMjtcblxuICAgICAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3RpY2U6IE5hbHUgd2l0aG91dCBzdGFydGNvZGUgaGVhZGVyICgwMCAwMCAwMCAwMSlcbiAgICAgICAgICAgIGNvbnN0IHNwcyA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgb2Zmc2V0LCBsZW4pO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGxlbjtcblxuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gU1BTUGFyc2VyLnBhcnNlU1BTKHNwcyk7XG4gICAgICAgICAgICBtZXRhLmNvZGVjV2lkdGggPSBjb25maWcuY29kZWNfc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIG1ldGEuY29kZWNIZWlnaHQgPSBjb25maWcuY29kZWNfc2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICBtZXRhLnByZXNlbnRXaWR0aCA9IGNvbmZpZy5wcmVzZW50X3NpemUud2lkdGg7XG4gICAgICAgICAgICBtZXRhLnByZXNlbnRIZWlnaHQgPSBjb25maWcucHJlc2VudF9zaXplLmhlaWdodDtcblxuICAgICAgICAgICAgbWV0YS5wcm9maWxlID0gY29uZmlnLnByb2ZpbGVfc3RyaW5nO1xuICAgICAgICAgICAgbWV0YS5sZXZlbCA9IGNvbmZpZy5sZXZlbF9zdHJpbmc7XG4gICAgICAgICAgICBtZXRhLmJpdERlcHRoID0gY29uZmlnLmJpdF9kZXB0aDtcbiAgICAgICAgICAgIG1ldGEuY2hyb21hRm9ybWF0ID0gY29uZmlnLmNocm9tYV9mb3JtYXQ7XG4gICAgICAgICAgICBtZXRhLnNhclJhdGlvID0gY29uZmlnLnNhcl9yYXRpbztcbiAgICAgICAgICAgIG1ldGEuZnJhbWVSYXRlID0gY29uZmlnLmZyYW1lX3JhdGU7XG5cbiAgICAgICAgICAgIGlmIChjb25maWcuZnJhbWVfcmF0ZS5maXhlZCA9PT0gZmFsc2UgfHxcbiAgICAgICAgICAgICAgICBjb25maWcuZnJhbWVfcmF0ZS5mcHNfbnVtID09PSAwIHx8XG4gICAgICAgICAgICAgICAgY29uZmlnLmZyYW1lX3JhdGUuZnBzX2RlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIG1ldGEuZnJhbWVSYXRlID0gdGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmcHNfZGVuID0gbWV0YS5mcmFtZVJhdGUuZnBzX2RlbjtcbiAgICAgICAgICAgIGNvbnN0IGZwc19udW0gPSBtZXRhLmZyYW1lUmF0ZS5mcHNfbnVtO1xuICAgICAgICAgICAgbWV0YS5yZWZTYW1wbGVEdXJhdGlvbiA9IE1hdGguZmxvb3IobWV0YS50aW1lc2NhbGUgKiAoZnBzX2RlbiAvIGZwc19udW0pKTtcblxuICAgICAgICAgICAgY29uc3QgY29kZWNBcnJheSA9IHNwcy5zdWJhcnJheSgxLCA0KTtcbiAgICAgICAgICAgIGxldCBjb2RlY1N0cmluZyA9ICdhdmMxLic7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBoID0gY29kZWNBcnJheVtqXS50b1N0cmluZygxNik7XG4gICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29kZWNTdHJpbmcgKz0gaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGEuY29kZWMgPSBjb2RlY1N0cmluZztcblxuICAgICAgICAgICAgY29uc3QgbWkgPSB0aGlzLl9tZWRpYUluZm87XG4gICAgICAgICAgICBtaS53aWR0aCA9IG1ldGEuY29kZWNXaWR0aDtcbiAgICAgICAgICAgIG1pLmhlaWdodCA9IG1ldGEuY29kZWNIZWlnaHQ7XG4gICAgICAgICAgICBtaS5mcHMgPSBtZXRhLmZyYW1lUmF0ZS5mcHM7XG4gICAgICAgICAgICBtaS5wcm9maWxlID0gbWV0YS5wcm9maWxlO1xuICAgICAgICAgICAgbWkubGV2ZWwgPSBtZXRhLmxldmVsO1xuICAgICAgICAgICAgbWkuY2hyb21hRm9ybWF0ID0gY29uZmlnLmNocm9tYV9mb3JtYXRfc3RyaW5nO1xuICAgICAgICAgICAgbWkuc2FyTnVtID0gbWV0YS5zYXJSYXRpby53aWR0aDtcbiAgICAgICAgICAgIG1pLnNhckRlbiA9IG1ldGEuc2FyUmF0aW8uaGVpZ2h0O1xuICAgICAgICAgICAgbWkudmlkZW9Db2RlYyA9IGNvZGVjU3RyaW5nO1xuXG4gICAgICAgICAgICBpZiAobWkuaGFzQXVkaW8pIHtcbiAgICAgICAgICAgICAgICBpZiAobWkuYXVkaW9Db2RlYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkudmlkZW9Db2RlYyArICcsJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWkubWltZVR5cGUgPSAndmlkZW8veC1mbHY7IGNvZGVjcz1cIicgKyBtaS52aWRlb0NvZGVjICsgJ1wiJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaS5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyhtaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcHNDb3VudCA9IHYuZ2V0VWludDgob2Zmc2V0KTsgLy8gbnVtT2ZQaWN0dXJlUGFyYW1ldGVyU2V0c1xuICAgICAgICBpZiAocHBzQ291bnQgPT09IDAgfHwgcHBzQ291bnQgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgYEZsdjogSW52YWxpZCBIMjY0IFBQUyBjb3VudDogJHtwcHNDb3VudH1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9mZnNldCsrO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHBzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGVuID0gdi5nZXRVaW50MTYob2Zmc2V0LCAhbGUpOyAvLyBwaWN0dXJlUGFyYW1ldGVyU2V0TGVuZ3RoXG4gICAgICAgICAgICBvZmZzZXQgKz0gMjtcblxuICAgICAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBwcHMgaXMgdXNlbGVzcyBmb3IgZXh0cmFjdGluZyB2aWRlbyBpbmZvcm1hdGlvblxuICAgICAgICAgICAgb2Zmc2V0ICs9IGxlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1ldGEuYXZjYyA9IG5ldyBVaW50OEFycmF5KGRhdGFTaXplKTtcbiAgICAgICAgbWV0YS5hdmNjLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpLCAwKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5UQUcsICdQYXJzZWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQnKTtcblxuICAgICAgICBpZiAodGhpcy5faXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkpIHtcbiAgICAgICAgICAgIC8vIGZsdXNoIHBhcnNlZCBmcmFtZXNcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwYXRjaCAmJiAodGhpcy5fYXVkaW9UcmFjay5sZW5ndGggfHwgdGhpcy5fdmlkZW9UcmFjay5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EYXRhQXZhaWxhYmxlKHRoaXMuX2F1ZGlvVHJhY2ssIHRoaXMuX3ZpZGVvVHJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3RpZnkgbmV3IG1ldGFkYXRhXG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoID0gZmFsc2U7XG4gICAgICAgIC8vIGlmICh0aGlzLl9vblRyYWNrTWV0YWRhdGEpIHtcbiAgICAgICAgLy8gICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YS5jYWxsKG51bGwsIG1ldGEpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgdGhpcy5fb25UcmFja01ldGFkYXRhKCd2aWRlbycsIG1ldGEpO1xuICAgIH1cblxuICAgIHRpbWVzdGFtcEJhc2UoaSkge1xuICAgICAgICB0aGlzLl90aW1lc3RhbXBCYXNlID0gaTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmma7pgJrnmoRBVkMg54mH5q61XG4gICAgICovXG4gICAgX3BhcnNlQVZDVmlkZW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSwgdGFnVGltZXN0YW1wLCB0YWdQb3NpdGlvbiwgZnJhbWVUeXBlLCBjdHMpIHtcblxuICAgICAgICBjb25zdCBsZSA9IHRoaXMuX2xpdHRsZUVuZGlhbjtcbiAgICAgICAgY29uc3QgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGxldCB1bml0cyA9IFtdLFxuICAgICAgICAgICAgbGVuZ3RoID0gMDtcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgY29uc3QgbGVuZ3RoU2l6ZSA9IHRoaXMuX25hbHVMZW5ndGhTaXplO1xuICAgICAgICBjb25zdCBkdHMgPSB0aGlzLl90aW1lc3RhbXBCYXNlICsgdGFnVGltZXN0YW1wO1xuICAgICAgICBsZXQga2V5ZnJhbWUgPSAoZnJhbWVUeXBlID09PSAxKTsgLy8gZnJvbSBGTFYgRnJhbWUgVHlwZSBjb25zdGFudHNcblxuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUpIHtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgKyA0ID49IGRhdGFTaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5UQUcsIGBNYWxmb3JtZWQgTmFsdSBuZWFyIHRpbWVzdGFtcCAke2R0c30sIG9mZnNldCA9ICR7b2Zmc2V0fSwgZGF0YVNpemUgPSAke2RhdGFTaXplfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBkYXRhIG5vdCBlbm91Z2ggZm9yIG5leHQgTmFsdVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmFsdSB3aXRoIGxlbmd0aC1oZWFkZXIgKEFWQzEpXG4gICAgICAgICAgICBsZXQgbmFsdVNpemUgPSB2LmdldFVpbnQzMihvZmZzZXQsICFsZSk7IC8vIEJpZy1FbmRpYW4gcmVhZFxuICAgICAgICAgICAgaWYgKGxlbmd0aFNpemUgPT09IDMpIHtcbiAgICAgICAgICAgICAgICBuYWx1U2l6ZSA+Pj49IDg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmFsdVNpemUgPiBkYXRhU2l6ZSAtIGxlbmd0aFNpemUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLlRBRywgYE1hbGZvcm1lZCBOYWx1cyBuZWFyIHRpbWVzdGFtcCAke2R0c30sIE5hbHVTaXplID4gRGF0YVNpemUhYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB1bml0VHlwZSA9IHYuZ2V0VWludDgob2Zmc2V0ICsgbGVuZ3RoU2l6ZSkgJiAweDFGO1xuXG4gICAgICAgICAgICBpZiAodW5pdFR5cGUgPT09IDUpIHsgLy8gSURSXG4gICAgICAgICAgICAgICAga2V5ZnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBvZmZzZXQsIGxlbmd0aFNpemUgKyBuYWx1U2l6ZSk7XG4gICAgICAgICAgICBjb25zdCB1bml0ID0geyB0eXBlOiB1bml0VHlwZSwgZGF0YSB9O1xuICAgICAgICAgICAgdW5pdHMucHVzaCh1bml0KTtcbiAgICAgICAgICAgIGxlbmd0aCArPSBkYXRhLmJ5dGVMZW5ndGg7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBsZW5ndGhTaXplICsgbmFsdVNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodW5pdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFjayA9IHRoaXMuX3ZpZGVvVHJhY2s7XG4gICAgICAgICAgICBjb25zdCBhdmNTYW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgdW5pdHMsXG4gICAgICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgICAgIGlzS2V5ZnJhbWU6IGtleWZyYW1lLFxuICAgICAgICAgICAgICAgIGR0cyxcbiAgICAgICAgICAgICAgICBjdHMsXG4gICAgICAgICAgICAgICAgcHRzOiAoZHRzICsgY3RzKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChrZXlmcmFtZSkge1xuICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5maWxlcG9zaXRpb24gPSB0YWdQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNrLnNhbXBsZXMucHVzaChhdmNTYW1wbGUpO1xuICAgICAgICAgICAgdHJhY2subGVuZ3RoICs9IGxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcGFyc2VBdWRpb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0YWdUaW1lc3RhbXApIHtcbiAgICAgICAgaWYgKHRhZ1RpbWVzdGFtcCA9PSB0aGlzLl90aW1lc3RhbXBCYXNlICYmIHRoaXMuX3RpbWVzdGFtcEJhc2UgIT0gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGFnVGltZXN0YW1wLCB0aGlzLl90aW1lc3RhbXBCYXNlLCAn5aSt5a+/5ZWm6L+Z5Liq6KeG6aKR5LiN5piv5LuOMOW8gOWniycpO1xuICAgICAgICAgICAgLy8gdGltZXN0YW1wQmFzZSgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhU2l6ZSA8PSAxKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLlRBRywgJ0ZsdjogSW52YWxpZCBhdWRpbyBwYWNrZXQsIG1pc3NpbmcgU291bmREYXRhIHBheWxvYWQhJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWV0YSA9IHRoaXMuX2F1ZGlvTWV0YWRhdGE7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gdGhpcy5fYXVkaW9UcmFjaztcblxuICAgICAgICBpZiAoIW1ldGEgfHwgIW1ldGEuY29kZWMpIHtcbiAgICAgICAgICAgIC8vIGluaXRpYWwgbWV0YWRhdGFcbiAgICAgICAgICAgIG1ldGEgPSB0aGlzLl9hdWRpb01ldGFkYXRhID0ge307XG4gICAgICAgICAgICBtZXRhLnR5cGUgPSAnYXVkaW8nO1xuICAgICAgICAgICAgbWV0YS5pZCA9IHRyYWNrLmlkO1xuICAgICAgICAgICAgbWV0YS50aW1lc2NhbGUgPSB0aGlzLl90aW1lc2NhbGU7XG4gICAgICAgICAgICBtZXRhLmR1cmF0aW9uID0gdGhpcy5fZHVyYXRpb247XG5cbiAgICAgICAgICAgIGNvbnN0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgICAgICAgICAgY29uc3QgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgICAgICBjb25zdCBzb3VuZFNwZWMgPSB2LmdldFVpbnQ4KDApO1xuXG4gICAgICAgICAgICBjb25zdCBzb3VuZEZvcm1hdCA9IHNvdW5kU3BlYyA+Pj4gNDtcbiAgICAgICAgICAgIGlmIChzb3VuZEZvcm1hdCAhPT0gMTApIHsgLy8gQUFDXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogc3VwcG9ydCBNUDMgYXVkaW8gY29kZWNcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkNPREVDX1VOU1VQUE9SVEVELCAnRmx2OiBVbnN1cHBvcnRlZCBhdWRpbyBjb2RlYyBpZHg6ICcgKyBzb3VuZEZvcm1hdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc291bmRSYXRlID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHNvdW5kUmF0ZUluZGV4ID0gKHNvdW5kU3BlYyAmIDEyKSA+Pj4gMjtcblxuICAgICAgICAgICAgY29uc3Qgc291bmRSYXRlVGFibGUgPSBbNTUwMCwgMTEwMjUsIDIyMDUwLCA0NDEwMCwgNDgwMDBdO1xuXG4gICAgICAgICAgICBpZiAoc291bmRSYXRlSW5kZXggPCBzb3VuZFJhdGVUYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzb3VuZFJhdGUgPSBzb3VuZFJhdGVUYWJsZVtzb3VuZFJhdGVJbmRleF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBJbnZhbGlkIGF1ZGlvIHNhbXBsZSByYXRlIGlkeDogJyArIHNvdW5kUmF0ZUluZGV4KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdW5kU2l6ZSA9IChzb3VuZFNwZWMgJiAyKSA+Pj4gMTsgLy8gdW51c2VkXG4gICAgICAgICAgICBjb25zdCBzb3VuZFR5cGUgPSAoc291bmRTcGVjICYgMSk7XG5cbiAgICAgICAgICAgIG1ldGEuYXVkaW9TYW1wbGVSYXRlID0gc291bmRSYXRlO1xuICAgICAgICAgICAgbWV0YS5jaGFubmVsQ291bnQgPSAoc291bmRUeXBlID09PSAwID8gMSA6IDIpO1xuICAgICAgICAgICAgbWV0YS5yZWZTYW1wbGVEdXJhdGlvbiA9IE1hdGguZmxvb3IoMTAyNCAvIG1ldGEuYXVkaW9TYW1wbGVSYXRlICogbWV0YS50aW1lc2NhbGUpO1xuICAgICAgICAgICAgbWV0YS5jb2RlYyA9ICdtcDRhLjQwLjUnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWFjRGF0YSA9IHRoaXMuX3BhcnNlQUFDQXVkaW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxKTtcbiAgICAgICAgaWYgKGFhY0RhdGEgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWFjRGF0YS5wYWNrZXRUeXBlID09PSAwKSB7IC8vIEFBQyBzZXF1ZW5jZSBoZWFkZXIgKEF1ZGlvU3BlY2lmaWNDb25maWcpXG4gICAgICAgICAgICBpZiAobWV0YS5jb25maWcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLlRBRywgJ0ZvdW5kIGFub3RoZXIgQXVkaW9TcGVjaWZpY0NvbmZpZyEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1pc2MgPSBhYWNEYXRhLmRhdGE7XG4gICAgICAgICAgICBtZXRhLmF1ZGlvU2FtcGxlUmF0ZSA9IG1pc2Muc2FtcGxpbmdSYXRlO1xuICAgICAgICAgICAgbWV0YS5jaGFubmVsQ291bnQgPSBtaXNjLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIG1ldGEuY29kZWMgPSBtaXNjLmNvZGVjO1xuICAgICAgICAgICAgbWV0YS5jb25maWcgPSBtaXNjLmNvbmZpZztcbiAgICAgICAgICAgIC8vIFRoZSBkZWNvZGUgcmVzdWx0IG9mIGFuIGFhYyBzYW1wbGUgaXMgMTAyNCBQQ00gc2FtcGxlc1xuICAgICAgICAgICAgbWV0YS5yZWZTYW1wbGVEdXJhdGlvbiA9IE1hdGguZmxvb3IoMTAyNCAvIG1ldGEuYXVkaW9TYW1wbGVSYXRlICogbWV0YS50aW1lc2NhbGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5UQUcsICdQYXJzZWQgQXVkaW9TcGVjaWZpY0NvbmZpZycpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBOb24taW5pdGlhbCBtZXRhZGF0YSwgZm9yY2UgZGlzcGF0Y2ggKG9yIGZsdXNoKSBwYXJzZWQgZnJhbWVzIHRvIHJlbXV4ZXJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2ggJiYgKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RoIHx8IHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUodGhpcy5fYXVkaW9UcmFjaywgdGhpcy5fdmlkZW9UcmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlbiBub3RpZnkgbmV3IG1ldGFkYXRhXG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fb25UcmFja01ldGFkYXRhKCdhdWRpbycsIG1ldGEpO1xuXG4gICAgICAgICAgICBjb25zdCBtaSA9IHRoaXMuX21lZGlhSW5mbztcbiAgICAgICAgICAgIG1pLmF1ZGlvQ29kZWMgPSAnbXA0YS40MC4nICsgbWlzYy5vcmlnaW5hbEF1ZGlvT2JqZWN0VHlwZTtcbiAgICAgICAgICAgIG1pLmF1ZGlvU2FtcGxlUmF0ZSA9IG1ldGEuYXVkaW9TYW1wbGVSYXRlO1xuICAgICAgICAgICAgbWkuYXVkaW9DaGFubmVsQ291bnQgPSBtZXRhLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgIGlmIChtaS5oYXNWaWRlbykge1xuICAgICAgICAgICAgICAgIGlmIChtaS52aWRlb0NvZGVjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbWkubWltZVR5cGUgPSAndmlkZW8veC1mbHY7IGNvZGVjcz1cIicgKyBtaS52aWRlb0NvZGVjICsgJywnICsgbWkuYXVkaW9Db2RlYyArICdcIic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaS5taW1lVHlwZSA9ICd2aWRlby94LWZsdjsgY29kZWNzPVwiJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1pLmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uTWVkaWFJbmZvKG1pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChhYWNEYXRhLnBhY2tldFR5cGUgPT09IDEpIHsgLy8gQUFDIHJhdyBmcmFtZSBkYXRhXG4gICAgICAgICAgICBjb25zdCBkdHMgPSB0aGlzLl90aW1lc3RhbXBCYXNlICsgdGFnVGltZXN0YW1wO1xuICAgICAgICAgICAgY29uc3QgYWFjU2FtcGxlID0geyB1bml0OiBhYWNEYXRhLmRhdGEsIGR0cywgcHRzOiBkdHMgfTtcbiAgICAgICAgICAgIHRyYWNrLnNhbXBsZXMucHVzaChhYWNTYW1wbGUpO1xuICAgICAgICAgICAgdHJhY2subGVuZ3RoICs9IGFhY0RhdGEuZGF0YS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLlRBRywgYEZsdjogVW5zdXBwb3J0ZWQgQUFDIGRhdGEgdHlwZSAke2FhY0RhdGEucGFja2V0VHlwZX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wYXJzZUFBQ0F1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDw9IDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuVEFHLCAnRmx2OiBJbnZhbGlkIEFBQyBwYWNrZXQsIG1pc3NpbmcgQUFDUGFja2V0VHlwZSBvci9hbmQgRGF0YSEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICAgICAgcmVzdWx0LnBhY2tldFR5cGUgPSBhcnJheVswXTtcblxuICAgICAgICBpZiAoYXJyYXlbMF0gPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5kYXRhID0gdGhpcy5fcGFyc2VBQUNBdWRpb1NwZWNpZmljQ29uZmlnKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMSwgZGF0YVNpemUgLSAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5kYXRhID0gYXJyYXkuc3ViYXJyYXkoMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIF9wYXJzZUFBQ0F1ZGlvU3BlY2lmaWNDb25maWcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IGNvbmZpZyA9IG51bGw7XG5cbiAgICAgICAgY29uc3QgbXBlZ1NhbXBsaW5nUmF0ZXMgPSBbXG4gICAgICAgICAgICA5NjAwMCwgODgyMDAsIDY0MDAwLCA0ODAwMCwgNDQxMDAsIDMyMDAwLFxuICAgICAgICAgICAgMjQwMDAsIDIyMDUwLCAxNjAwMCwgMTIwMDAsIDExMDI1LCA4MDAwLCA3MzUwXG4gICAgICAgIF07XG5cbiAgICAgICAgLyogQXVkaW8gT2JqZWN0IFR5cGU6XG4gICAgICAgICAgIDA6IE51bGxcbiAgICAgICAgICAgMTogQUFDIE1haW5cbiAgICAgICAgICAgMjogQUFDIExDXG4gICAgICAgICAgIDM6IEFBQyBTU1IgKFNjYWxhYmxlIFNhbXBsZSBSYXRlKVxuICAgICAgICAgICA0OiBBQUMgTFRQIChMb25nIFRlcm0gUHJlZGljdGlvbilcbiAgICAgICAgICAgNTogSEUtQUFDIC8gU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKVxuICAgICAgICAgICA2OiBBQUMgU2NhbGFibGVcbiAgICAgICAgKi9cblxuICAgICAgICBsZXQgYXVkaW9PYmplY3RUeXBlID0gMDtcbiAgICAgICAgbGV0IG9yaWdpbmFsQXVkaW9PYmplY3RUeXBlID0gMDtcbiAgICAgICAgbGV0IGF1ZGlvRXh0ZW5zaW9uT2JqZWN0VHlwZSA9IG51bGw7XG4gICAgICAgIGxldCBzYW1wbGluZ0luZGV4ID0gMDtcbiAgICAgICAgbGV0IGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBudWxsO1xuICAgICAgICAvLyBkZWJ1Z2dlcjtcbiAgICAgICAgLy8gNSBiaXRzXG4gICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IG9yaWdpbmFsQXVkaW9PYmplY3RUeXBlID0gYXJyYXlbMF0gPj4+IDM7XG4gICAgICAgIC8vIDQgYml0c1xuICAgICAgICBzYW1wbGluZ0luZGV4ID0gKChhcnJheVswXSAmIDB4MDcpIDw8IDEpIHwgKGFycmF5WzFdID4+PiA3KTtcbiAgICAgICAgaWYgKHNhbXBsaW5nSW5kZXggPCAwIHx8IHNhbXBsaW5nSW5kZXggPj0gbXBlZ1NhbXBsaW5nUmF0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogQUFDIGludmFsaWQgc2FtcGxpbmcgZnJlcXVlbmN5IGluZGV4IScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2FtcGxpbmdGcmVxdWVuY2UgPSBtcGVnU2FtcGxpbmdSYXRlc1tzYW1wbGluZ0luZGV4XTtcblxuICAgICAgICAvLyA0IGJpdHNcbiAgICAgICAgY29uc3QgY2hhbm5lbENvbmZpZyA9IChhcnJheVsxXSAmIDB4NzgpID4+PiAzO1xuICAgICAgICBpZiAoY2hhbm5lbENvbmZpZyA8IDAgfHwgY2hhbm5lbENvbmZpZyA+PSA4KSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogQUFDIGludmFsaWQgY2hhbm5lbCBjb25maWd1cmF0aW9uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXVkaW9PYmplY3RUeXBlID09PSA1KSB7IC8vIEhFLUFBQz9cbiAgICAgICAgICAgIC8vIDQgYml0c1xuICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9ICgoYXJyYXlbMV0gJiAweDA3KSA8PCAxKSB8IChhcnJheVsyXSA+Pj4gNyk7XG4gICAgICAgICAgICAvLyA1IGJpdHNcbiAgICAgICAgICAgIGF1ZGlvRXh0ZW5zaW9uT2JqZWN0VHlwZSA9IChhcnJheVsyXSAmIDB4N0MpID4+PiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd29ya2Fyb3VuZHMgZm9yIHZhcmlvdXMgYnJvd3NlcnNcbiAgICAgICAgY29uc3QgdXNlckFnZW50ID0gc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdmaXJlZm94JykgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBmaXJlZm94OiB1c2UgU0JSIChIRS1BQUMpIGlmIGZyZXEgbGVzcyB0aGFuIDI0a0h6XG4gICAgICAgICAgICBpZiAoc2FtcGxpbmdJbmRleCA+PSA2KSB7XG4gICAgICAgICAgICAgICAgYXVkaW9PYmplY3RUeXBlID0gNTtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoNCk7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXggLSAzO1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8gdXNlIExDLUFBQ1xuICAgICAgICAgICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IDI7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhbmRyb2lkJykgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBhbmRyb2lkOiBhbHdheXMgdXNlIExDLUFBQ1xuICAgICAgICAgICAgYXVkaW9PYmplY3RUeXBlID0gMjtcbiAgICAgICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSgyKTtcbiAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZm9yIG90aGVyIGJyb3dzZXJzLCBlLmcuIGNocm9tZS4uLlxuICAgICAgICAgICAgLy8gQWx3YXlzIHVzZSBIRS1BQUMgdG8gbWFrZSBpdCBlYXNpZXIgdG8gc3dpdGNoIGFhYyBjb2RlYyBwcm9maWxlXG4gICAgICAgICAgICBhdWRpb09iamVjdFR5cGUgPSA1O1xuICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXg7XG4gICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoNCk7XG5cbiAgICAgICAgICAgIGlmIChzYW1wbGluZ0luZGV4ID49IDYpIHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25TYW1wbGluZ0luZGV4ID0gc2FtcGxpbmdJbmRleCAtIDM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb25maWcgPT09IDEpIHsgLy8gTW9ubyBjaGFubmVsXG4gICAgICAgICAgICAgICAgYXVkaW9PYmplY3RUeXBlID0gMjtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWdbMF0gPSBhdWRpb09iamVjdFR5cGUgPDwgMztcbiAgICAgICAgY29uZmlnWzBdIHw9IChzYW1wbGluZ0luZGV4ICYgMHgwRikgPj4+IDE7XG4gICAgICAgIGNvbmZpZ1sxXSA9IChzYW1wbGluZ0luZGV4ICYgMHgwRikgPDwgNztcbiAgICAgICAgY29uZmlnWzFdIHw9IChjaGFubmVsQ29uZmlnICYgMHgwRikgPDwgMztcbiAgICAgICAgaWYgKGF1ZGlvT2JqZWN0VHlwZSA9PT0gNSkge1xuICAgICAgICAgICAgY29uZmlnWzFdIHw9ICgoZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCAmIDB4MEYpID4+PiAxKTtcbiAgICAgICAgICAgIGNvbmZpZ1syXSA9IChleHRlbnNpb25TYW1wbGluZ0luZGV4ICYgMHgwMSkgPDwgNztcbiAgICAgICAgICAgIC8vIGV4dGVuZGVkIGF1ZGlvIG9iamVjdCB0eXBlOiBmb3JjZSB0byAyIChMQy1BQUMpXG4gICAgICAgICAgICBjb25maWdbMl0gfD0gKDIgPDwgMik7XG4gICAgICAgICAgICBjb25maWdbM10gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIHNhbXBsaW5nUmF0ZTogc2FtcGxpbmdGcmVxdWVuY2UsXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IGNoYW5uZWxDb25maWcsXG4gICAgICAgICAgICBjb2RlYzogJ21wNGEuNDAuJyArIGF1ZGlvT2JqZWN0VHlwZSxcbiAgICAgICAgICAgIG9yaWdpbmFsQXVkaW9PYmplY3RUeXBlXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9pc0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNBdWRpbyAmJiB0aGlzLl9oYXNWaWRlbykgeyAvLyBib3RoIGF1ZGlvICYgdmlkZW9cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgJiYgdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9oYXNBdWRpbyAmJiAhdGhpcy5faGFzVmlkZW8pIHsgLy8gYXVkaW8gb25seVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hhc0F1ZGlvICYmIHRoaXMuX2hhc1ZpZGVvKSB7IC8vIHZpZGVvIG9ubHlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl92aWRlb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgdGFnRGVtdXgoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9mbHYvdGFnZGVtdXguanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * 代码借鉴了flv.js\n * 增加了自己的注释和写法\n */\n/* eslint-disable */\nvar MP4 = function () {\n    function MP4() {\n        _classCallCheck(this, MP4);\n    }\n\n    _createClass(MP4, null, [{\n        key: 'init',\n        value: function init() {\n            MP4.types = {\n                avc1: [],\n                avcC: [],\n                btrt: [],\n                dinf: [],\n                dref: [],\n                esds: [],\n                ftyp: [],\n                hdlr: [],\n                mdat: [],\n                mdhd: [],\n                mdia: [],\n                mfhd: [],\n                minf: [],\n                moof: [],\n                moov: [],\n                mp4a: [],\n                mvex: [],\n                mvhd: [],\n                sdtp: [],\n                stbl: [],\n                stco: [],\n                stsc: [],\n                stsd: [],\n                stsz: [],\n                stts: [],\n                tfdt: [],\n                tfhd: [],\n                traf: [],\n                trak: [],\n                trun: [],\n                trex: [],\n                tkhd: [],\n                vmhd: [],\n                smhd: []\n            };\n\n            for (var name in MP4.types) {\n                if (MP4.types.hasOwnProperty(name)) {\n                    MP4.types[name] = [name.charCodeAt(0), name.charCodeAt(1), name.charCodeAt(2), name.charCodeAt(3)];\n                }\n            }\n\n            var constants = MP4.constants = {};\n\n            constants.FTYP = new Uint8Array([0x69, 0x73, 0x6F, 0x6D, // major_brand: isom\t\tisom\tMP4  Base Media v1 [IS0 14496-12:2003]\tISO\tYES\tvideo/mp4\n            0x0, 0x0, 0x0, 0x1, // minor_version: 0x01\n            0x69, 0x73, 0x6F, 0x6D, // isom\n            0x61, 0x76, 0x63, 0x31 // avc1\n            ]);\n\n            constants.STSD_PREFIX = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags  version字段后会有一个entry count字段\n            0x00, 0x00, 0x00, 0x01 // entry_count\t根据entry的个数，每个entry会有type信息，如“vide”、“sund”等，根据type不同sample description会提供不同的信息，例如对于video track，会有“VisualSampleEntry”类型信息，对于audio track会有“AudioSampleEntry”类型信息。\n            ]);\n\n            constants.STTS = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags\n            0x00, 0x00, 0x00, 0x00 // entry_count     0个索引\n            ]);\n\n            constants.STSC = constants.STCO = constants.STTS;\n\n            constants.STSZ = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags\n            0x00, 0x00, 0x00, 0x00, // sample_size\n            0x00, 0x00, 0x00, 0x00 // sample_count\n            ]);\n\n            constants.HDLR_VIDEO = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags\n            0x00, 0x00, 0x00, 0x00, // pre_defined\n            0x76, 0x69, 0x64, 0x65, // handler_type: 'vide' 在media box中，该值为4个字符\t\t“vide”— video track\n            0x00, 0x00, 0x00, 0x00, // reserved: 3 * 4 bytes\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // 保留位\n            0x56, 0x69, 0x64, 0x65, 0x6F, 0x48, 0x61, 0x6E, 0x64, 0x6C, 0x65, 0x72, 0x00 // name: VideoHandler 长度不定\t\ttrack type name，以‘\\0’结尾的字符串\n            ]);\n\n            constants.HDLR_AUDIO = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags\n            0x00, 0x00, 0x00, 0x00, // pre_defined\n            0x73, 0x6F, 0x75, 0x6E, // handler_type: 'soun'在media box中，该值为4个字符\t\t“soun”— audio track\n            0x00, 0x00, 0x00, 0x00, // reserved: 3 * 4 bytes\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // 保留位\n            0x53, 0x6F, 0x75, 0x6E, 0x64, 0x48, 0x61, 0x6E, 0x64, 0x6C, 0x65, 0x72, 0x00 // name: SoundHandler 长度不定\t\ttrack type name，以‘\\0’结尾的字符串\n            ]);\n\n            constants.DREF = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags\n            0x00, 0x00, 0x00, 0x01, // entry_count 1个url\n            // url\tbox开始\n            0x00, 0x00, 0x00, 0x0C, // entry_size\n            0x75, 0x72, 0x6C, 0x20, // type 'url '\n            0x00, 0x00, 0x00, 0x01 // version(0) + flags 当“url”或“urn”的box flag为1时，字符串均为空。\n            ]);\n\n            // Sound media header\n            constants.SMHD = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags\tbox版本，0或1，一般为0。\n            0x00, 0x00, 0x00, 0x00 // balance(2) + reserved(2) 立体声平衡，[8.8] 格式值，一般为0，-1.0表示全部左声道，1.0表示全部右声道+2位保留位\n            ]);\n\n            // video media header\n            constants.VMHD = new Uint8Array([0x00, 0x00, 0x00, 0x01, // version(0) + flags\n            0x00, 0x00, // graphicsmode: 2 bytes 视频合成模式，为0时拷贝原始图像，否则与opcolor进行合成   //理论上是4位啊  暂时保留\n            0x00, 0x00, 0x00, 0x00, // opcolor: 3 * 2 bytes ｛red，green，blue｝\n            0x00, 0x00]);\n        }\n\n        /**\n         * 封装box\n         */\n\n    }, {\n        key: 'box',\n        value: function box(type) {\n            var size = 8;\n            var result = null;\n            var datas = Array.prototype.slice.call(arguments, 1);\n            var arrayCount = datas.length;\n\n            for (var i = 0; i < arrayCount; i++) {\n                size += datas[i].byteLength;\n            }\n            // box头部大小\n            result = new Uint8Array(size);\n            result[0] = size >>> 24 & 0xFF; // size\n            result[1] = size >>> 16 & 0xFF;\n            result[2] = size >>> 8 & 0xFF;\n            result[3] = size & 0xFF;\n            // 写入box的type\n            result.set(type, 4); // type\n\n            var offset = 8;\n            for (var _i = 0; _i < arrayCount; _i++) {\n                // data body\n                result.set(datas[_i], offset);\n                offset += datas[_i].byteLength;\n            }\n\n            return result;\n        }\n\n        // 创建ftyp&moov\n\n    }, {\n        key: 'generateInitSegment',\n        value: function generateInitSegment(meta) {\n            if (meta.constructor != Array) {\n                meta = [meta];\n            }\n            var ftyp = MP4.box(MP4.types.ftyp, MP4.constants.FTYP);\n            var moov = MP4.moov(meta);\n\n            var result = new Uint8Array(ftyp.byteLength + moov.byteLength);\n            result.set(ftyp, 0);\n            result.set(moov, ftyp.byteLength);\n            return result;\n        }\n\n        // Movie metadata box\n\n    }, {\n        key: 'moov',\n        value: function moov(meta) {\n            var mvhd = MP4.mvhd(meta[0].timescale, meta[0].duration); // /moov里面的第一个box\n            var vtrak = MP4.trak(meta[0]);\n            var atrak = void 0;\n            if (meta.length > 1) {\n                atrak = MP4.trak(meta[1]);\n            }\n\n            var mvex = MP4.mvex(meta);\n            if (meta.length > 1) {\n                return MP4.box(MP4.types.moov, mvhd, vtrak, atrak, mvex);\n            } else {\n                return MP4.box(MP4.types.moov, mvhd, vtrak, mvex);\n            }\n        }\n\n        // Movie header box\n\n    }, {\n        key: 'mvhd',\n        value: function mvhd(timescale, duration) {\n            return MP4.box(MP4.types.mvhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags     1位的box版本+3位flags   box版本，0或1，一般为0。（以下字节数均按version=0）\n            0x00, 0x00, 0x00, 0x00, // creation_time    创建时间  （相对于UTC时间1904-01-01零点的秒数）\n            0x00, 0x00, 0x00, 0x00, // modification_time   修改时间\n            timescale >>> 24 & 0xFF, // timescale: 4 bytes\t\t文件媒体在1秒时间内的刻度值，可以理解为1秒长度\n            timescale >>> 16 & 0xFF, timescale >>> 8 & 0xFF, timescale & 0xFF, duration >>> 24 & 0xFF, // duration: 4 bytes\t该track的时间长度，用duration和time scale值可以计算track时长，比如audio track的time scale = 8000, duration = 560128，时长为70.016，video track的time scale = 600, duration = 42000，时长为70\n            duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, 0x00, 0x01, 0x00, 0x00, // Preferred rate: 1.0   推荐播放速率，高16位和低16位分别为小数点整数部分和小数部分，即[16.16] 格式，该值为1.0（0x00010000）表示正常前向播放\n            0x01, 0x00, 0x00, 0x00, // PreferredVolume(1.0, 2bytes) + reserved(2bytes)\t与rate类似，[8.8] 格式，1.0（0x0100）表示最大音量\n            0x00, 0x00, 0x00, 0x00, // reserved: 4 + 4 bytes\t保留位\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, // ----begin composition matrix----\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // 视频变换矩阵   线性代数\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // ----end composition matrix----\n            0x00, 0x00, 0x00, 0x00, // ----begin pre_defined 6 * 4 bytes----\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre-defined 保留位\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // ----end pre_defined 6 * 4 bytes----\n            0xFF, 0xFF, 0xFF, 0xFF // next_track_ID 下一个track使用的id号\n            ]));\n        }\n\n        // Track box\n\n    }, {\n        key: 'trak',\n        value: function trak(meta) {\n            return MP4.box(MP4.types.trak, MP4.tkhd(meta), MP4.mdia(meta));\n        }\n\n        // Track header box\n\n    }, {\n        key: 'tkhd',\n        value: function tkhd(meta) {\n            var trackId = meta.id,\n                duration = meta.duration;\n            var width = meta.presentWidth,\n                height = meta.presentHeight;\n\n            return MP4.box(MP4.types.tkhd, new Uint8Array([0x00, 0x00, 0x00, 0x07, // version(0) + flags 1位版本 box版本，0或1，一般为0。（以下字节数均按version=0）按位或操作结果值，预定义如下：\n            // 0x000001 track_enabled，否则该track不被播放；\n            // 0x000002 track_in_movie，表示该track在播放中被引用；\n            // 0x000004 track_in_preview，表示该track在预览时被引用。\n            // 一般该值为7，1+2+4 如果一个媒体所有track均未设置track_in_movie和track_in_preview，将被理解为所有track均设置了这两项；对于hint track，该值为0\n            // hint track  这个特殊的track并不包含媒体数据，而是包含了一些将其他数据track打包成流媒体的指示信息。\n            0x00, 0x00, 0x00, 0x00, // creation_time\t创建时间（相对于UTC时间1904-01-01零点的秒数）\n            0x00, 0x00, 0x00, 0x00, // modification_time\t修改时间\n            trackId >>> 24 & 0xFF, // track_ID: 4 bytes\tid号，不能重复且不能为0\n            trackId >>> 16 & 0xFF, trackId >>> 8 & 0xFF, trackId & 0xFF, 0x00, 0x00, 0x00, 0x00, // reserved: 4 bytes    保留位\n            duration >>> 24 & 0xFF, // duration: 4 bytes  \ttrack的时间长度\n            duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, 0x00, 0x00, 0x00, 0x00, // reserved: 2 * 4 bytes    保留位\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // layer(2bytes) + alternate_group(2bytes)  视频层，默认为0，值小的在上层.track分组信息，默认为0表示该track未与其他track有群组关系\n            0x00, 0x00, 0x00, 0x00, // volume(2bytes) + reserved(2bytes)    [8.8] 格式，如果为音频track，1.0（0x0100）表示最大音量；否则为0   +保留位\n            0x00, 0x01, 0x00, 0x00, // ----begin composition matrix----\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, // 视频变换矩阵\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // ----end composition matrix----\n            width >>> 8 & 0xFF, // //宽度\n            width & 0xFF, 0x00, 0x00, height >>> 8 & 0xFF, // 高度\n            height & 0xFF, 0x00, 0x00]));\n        }\n\n        /**\n         * “mdia”也是个container box，其子box的结构和种类还是比较复杂的。先来看一个“mdia”的实例结构树图。\n         * 总体来说，“mdia”定义了track媒体类型以及sample数据，描述sample信息。一般“mdia”包含一个“mdhd”，\n         * 一个“hdlr”和一个“minf”，其中“mdhd”为media header box，“hdlr”为handler reference box，\n         * “minf”为media information box。\n         *\n         * mdia\n         * \t\tmdhd\n         * \t\thdlr\n         * \t\tminf\n         * \t\t\tsmhd\n         * \t\t\tdinf\n         * \t\t\t\tdref\n         * \t\t\t\t\turl\n         * \t\t\tstbl\n         * \t\t\t\tstsd\n         * \t\t\t\t\tmp4a\n         * \t\t\t\t\t\tesds\n         * \t\t\t\tstts\n         * \t\t\t\tstsc\n         * \t\t\t\tstsz\n         * \t\t\t\tstco\n         */\n\n    }, {\n        key: 'mdia',\n        value: function mdia(meta) {\n            return MP4.box(MP4.types.mdia, MP4.mdhd(meta), MP4.hdlr(meta), MP4.minf(meta));\n        }\n\n        // Media header box\n\n    }, {\n        key: 'mdhd',\n        value: function mdhd(meta) {\n            var timescale = meta.timescale;\n            var duration = meta.duration;\n            return MP4.box(MP4.types.mdhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags // version(0) + flags\t\tbox版本，0或1，一般为0。\n            0x00, 0x00, 0x00, 0x00, // creation_time    创建时间\n            0x00, 0x00, 0x00, 0x00, // modification_time修改时间\n            timescale >>> 24 & 0xFF, // timescale: 4 bytes    文件媒体在1秒时间内的刻度值，可以理解为1秒长度\n            timescale >>> 16 & 0xFF, timescale >>> 8 & 0xFF, timescale & 0xFF, duration >>> 24 & 0xFF, // duration: 4 bytes  track的时间长度\n            duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, 0x55, 0xC4, // language: und (undetermined) 媒体语言码。最高位为0，后面15位为3个字符（见ISO 639-2/T标准中定义）\n            0x00, 0x00 // pre_defined = 0\n            ]));\n        }\n\n        // Media handler reference box\n\n    }, {\n        key: 'hdlr',\n        value: function hdlr(meta) {\n            var data = null;\n            if (meta.type === 'audio') {\n                data = MP4.constants.HDLR_AUDIO;\n            } else {\n                data = MP4.constants.HDLR_VIDEO;\n            }\n            return MP4.box(MP4.types.hdlr, data);\n        }\n\n        /**\n        * “minf”存储了解释track媒体数据的handler-specific信息，media handler用这些信息将媒体时间映射到媒体数据并进行处理。“minf”中的信息格式和内容与媒体类型以及解释媒体数据的media handler密切相关，其他media handler不知道如何解释这些信息。“minf”是一个container box，其实际内容由子box说明。\n        一般情况下，“minf”包含一个header box，一个“dinf”和一个“stbl”，其中，header box根据track type（即media handler type）分为“vmhd”、“smhd”、“hmhd”和“nmhd”，“dinf”为data information box，“stbl”为sample table box。下面分别介绍。\n        *\n        */\n        // Media infomation box\n\n    }, {\n        key: 'minf',\n        value: function minf(meta) {\n            // header box根据track type（即media handler type）分为“vmhd”、“smhd”、“hmhd”和“nmhd”\n            var xmhd = null;\n            if (meta.type === 'audio') {\n                xmhd = MP4.box(MP4.types.smhd, MP4.constants.SMHD);\n            } else {\n                xmhd = MP4.box(MP4.types.vmhd, MP4.constants.VMHD);\n            }\n            return MP4.box(MP4.types.minf, xmhd, MP4.dinf(), MP4.stbl(meta));\n        }\n\n        /**\n         * Data Information Box\n         * “dinf”解释如何定位媒体信息，是一个container box。“dinf”一般包含一个“dref”，即data reference box；\n         * “dref”下会包含若干个“url”或“urn”，这些box组成一个表，用来定位track数据。\n         * 简单的说，track可以被分成若干段，每一段都可以根据“url”或“urn”指向的地址来获取数据，\n         * sample描述中会用这些片段的序号将这些片段组成一个完整的track。\n         * 一般情况下，当数据被完全包含在文件中时，“url”或“urn”中的定位字符串是空的。\n         */\n\n    }, {\n        key: 'dinf',\n        value: function dinf() {\n            var result = MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, MP4.constants.DREF));\n            return result;\n        }\n\n        /**\n        * Sample Table Box（stbl）\n        \t*\t“stbl”几乎是普通的MP4文件中最复杂的一个box了，首先需要回忆一下sample的概念。\n        * \tsample是媒体数据存储的单位，存储在media的chunk中，chunk和sample的长度均可互不相同，如下图所示。\n        “stbl”是一个container box，其子box包括：sample description box（stsd）、\n        * time to sample box（stts）、sample size box（stsz或stz2）、\n        * sample to chunk box（stsc）、chunk offset box（stco或co64）、\n        * composition time to sample box（ctts）、sync sample box（stss）\n        * stsd”必不可少，且至少包含一个条目，该box包含了data reference box进行sample数据检索的信息。\n        * 没有“stsd”就无法计算media sample的存储位置。“stsd”包含了编码的信息，其存储的信息随媒体类型不同而不同。\n        * \t\t\tstbl\n        * \t\t\t\tstsd\n        * \t\t\t\t\tavc1\n        * \t\t\t\t\t\tavcC\n        * \t\t\t\tstts\n        * \t\t\t\tstsc\n        * \t\t\t\tstsz\n        * \t\t\t\tstco\n        */\n\n    }, {\n        key: 'stbl',\n        value: function stbl(meta) {\n            var result = MP4.box(MP4.types.stbl, // type: stbl\n            MP4.stsd(meta), // Sample Description Table\n            MP4.box(MP4.types.stts, MP4.constants.STTS), // Time-To-Sample    因为stts的entry count 为0\n            // 所以没有关键帧index 的stss\n            // 也没有CTTS box CTTS是记录偏移量\n            MP4.box(MP4.types.stsc, MP4.constants.STSC), // Sample-To-Chunk\n            MP4.box(MP4.types.stsz, MP4.constants.STSZ), // Sample size\n            MP4.box(MP4.types.stco, MP4.constants.STCO) // Chunk offset\n            );\n            return result;\n        }\n\n        /**\n        * Sample Description Box（stsd）\n        \t\tbox header和version字段后会有一个entry count字段，\n        * \t\t\t根据entry的个数，每个entry会有type信息，如“vide”、“sund”等，\n        * \t\t根据type不同sample description会提供不同的信息，例如对于video track，\n        * 会有“VisualSampleEntry”类型信息，对于audio track会有“AudioSampleEntry”类型信息。\n        * * \t\t\t\tstsd\n        * \t\t\t\t\tmp4a\n        * \t\t\t\t\t\tesds\n        *\n        *\n        *\n        *\n        * \t\t 4 bytes - length in total\n        \t 4 bytes - 4 char code of sample description table (stsd)\n        \t 4 bytes - version & flags\n        \t 4 bytes - number of sample entries (num_sample_entries)\n        \t\t [\n        \t\t    4 bytes - length of sample entry (len_sample_entry)\n        \t\t    4 bytes - 4 char code of sample entry\n        \t\t    ('len_sample_entry' - 8) bytes of data\n        \t\t ] (repeated 'num_sample_entries' times)\n        \t(4 bytes - optional 0x00000000 as end of box marker )\n        */\n\n    }, {\n        key: 'stsd',\n        value: function stsd(meta) {\n            if (meta.type === 'audio') {\n                return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp4a(meta));\n            } else {\n                return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.avc1(meta));\n            }\n        }\n    }, {\n        key: 'mp4a',\n        value: function mp4a(meta) {\n            var channelCount = meta.channelCount;\n            var sampleRate = meta.audioSampleRate;\n\n            var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // reserved(4) 6个字节，设置为0；\n            0x00, 0x00, 0x00, 0x01, // reserved(2) + data_reference_index(2)\n            0x00, 0x00, 0x00, 0x00, // reserved: 2 * 4 bytes 保留位\n            0x00, 0x00, 0x00, 0x00, 0x00, channelCount, // channelCount(2) 单声道还是双声道\n            0x00, 0x10, // sampleSize(2)\n            0x00, 0x00, 0x00, 0x00, // reserved(4) 4字节保留位\n            sampleRate >>> 8 & 0xFF, // Audio sample rate 显然要右移16位才有意义\ttemplate unsigned int(32) samplerate = {timescale of media}<<16;\n            sampleRate & 0xFF, 0x00, 0x00]);\n\n            return MP4.box(MP4.types.mp4a, data, MP4.esds(meta));\n        }\n    }, {\n        key: 'esds',\n        value: function esds(meta) {\n            var config = meta.config;\n            var configSize = config.length;\n            var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version 0 + flags\n\n            0x03, // descriptor_type    MP4ESDescrTag\n            0x17 + configSize, // length3\n            0x00, 0x01, // es_id\n            0x00, // stream_priority\n\n            0x04, // descriptor_type    MP4DecConfigDescrTag\n            0x0F + configSize, // length\n            0x40, // codec: mpeg4_audio\n            /**\n             *当objectTypeIndication为0x40时，为MPEG-4 Audio（MPEG-4 Audio generally is thought of as AAC\n             * but there is a whole framework of audio codecs that can Go in MPEG-4 Audio including AAC, BSAC, ALS, CELP,\n             * and something called MP3On4），如果想更细分format为aac还是mp3，\n             * 可以读取MP4DecSpecificDescr层data[0]的前五位\n             */\n            0x15, // stream_type: Audio\n            0x00, 0x00, 0x00, // buffer_size\n            0x00, 0x00, 0x00, 0x00, // maxBitrate\n            0x00, 0x00, 0x00, 0x00, // avgBitrate\n\n            0x05 // descriptor_type MP4DecSpecificDescrTag\n            ].concat([configSize]).concat(config).concat([0x06, 0x01, 0x02 // GASpecificConfig\n            ]));\n            return MP4.box(MP4.types.esds, data);\n        }\n\n        /**\n         * 改版\n         *stsd下的avc1视频解析\n         */\n\n    }, {\n        key: 'avc1',\n        value: function avc1(meta) {\n            var avcc = meta.avcc;\n            var width = meta.codecWidth,\n                height = meta.codecHeight;\n\n            var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // // reserved(4)    6个 保留位\tReserved：6个字节，设置为0；\n            0x00, 0x00, 0x00, 0x01, // reserved(2) + {{{{data_reference_index(2)  数据引用索引}}}}\n            0x00, 0x00, 0x00, 0x00, // pre_defined(2) + reserved(2)\n            0x00, 0x00, 0x00, 0x00, // pre_defined: 3 * 4 bytes  3*4个字节的保留位\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, width >>> 8 & 0xFF, // width: 2 bytes\n            width & 0xFF, height >>> 8 & 0xFF, // height: 2 bytes\n            height & 0xFF, 0x00, 0x48, 0x00, 0x00, // horizresolution: 4 bytes 常数\n            0x00, 0x48, 0x00, 0x00, // vertresolution: 4 bytes 常数\n            0x00, 0x00, 0x00, 0x00, // reserved: 4 bytes 保留位\n            0x00, 0x01, // frame_count\n            // frame_count表明多少帧压缩视频存储在每个样本。默认是1,每样一帧;它可能超过1每个样本的多个帧数\n            0x04, //\tstrlen compressorname: 32 bytes\t\t\tString[32]\n            // 32个8 bit    第一个8bit表示长度,剩下31个8bit表示内容\n            0x67, 0x31, 0x31, 0x31, // compressorname: 32 bytes    翻译过来是g111\n            0x00, 0x00, 0x00, 0x00, //\n            0x00, 0x00, 0x00, 0x00, //\n            0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, // depth 颜色深度\n            0xFF, 0xFF // pre_defined = -1\n            ]);\n            return MP4.box(MP4.types.avc1, data, MP4.box(MP4.types.avcC, avcc));\n        }\n\n        // Movie Extends box\n\n    }, {\n        key: 'mvex',\n        value: function mvex(meta) {\n            if (meta.length > 1) {\n                return MP4.box(MP4.types.mvex, MP4.trex(meta[0]), MP4.trex(meta[1]));\n            } else {\n                return MP4.box(MP4.types.mvex, MP4.trex(meta[0]));\n            }\n        }\n\n        // Track Extends box\n\n    }, {\n        key: 'trex',\n        value: function trex(meta) {\n            var trackId = meta.id;\n            var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) + flags\n            trackId >>> 24 & 0xFF, // track_ID\n            trackId >>> 16 & 0xFF, trackId >>> 8 & 0xFF, trackId & 0xFF, 0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n            0x00, 0x00, 0x00, 0x00, // default_sample_duration\n            0x00, 0x00, 0x00, 0x00, // default_sample_size\n            0x00, 0x01, 0x00, 0x01 // default_sample_flags\n            ]);\n            // if (meta.type !== 'video') {\n            //     data[data.length - 1] = 0x00;\n            // }\n            return MP4.box(MP4.types.trex, data);\n        }\n\n        // Movie fragment box\n\n    }, {\n        key: 'moof',\n        value: function moof(track, baseMediaDecodeTime) {\n            return MP4.box(MP4.types.moof, MP4.mfhd(track.sequenceNumber), MP4.traf(track, baseMediaDecodeTime));\n        }\n    }, {\n        key: 'mfhd',\n        value: function mfhd(sequenceNumber) {\n            var data = new Uint8Array([0x00, 0x00, 0x00, 0x00, sequenceNumber >>> 24 & 0xFF, // sequence_number: int32\n            sequenceNumber >>> 16 & 0xFF, sequenceNumber >>> 8 & 0xFF, sequenceNumber & 0xFF]);\n            return MP4.box(MP4.types.mfhd, data);\n        }\n\n        // Track fragment box\n\n    }, {\n        key: 'traf',\n        value: function traf(track, baseMediaDecodeTime) {\n            var trackId = track.id;\n\n            // Track fragment header box\n            var tfhd = MP4.box(MP4.types.tfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) & flags\n            trackId >>> 24 & 0xFF, // track_ID\n            trackId >>> 16 & 0xFF, trackId >>> 8 & 0xFF, trackId & 0xFF]));\n            // Track Fragment Decode Time\n            var tfdt = MP4.box(MP4.types.tfdt, new Uint8Array([0x00, 0x00, 0x00, 0x00, // version(0) & flags\n            baseMediaDecodeTime >>> 24 & 0xFF, // baseMediaDecodeTime: int32\n            baseMediaDecodeTime >>> 16 & 0xFF, baseMediaDecodeTime >>> 8 & 0xFF, baseMediaDecodeTime & 0xFF]));\n            var sdtp = MP4.sdtp(track);\n            var trun = MP4.trun(track, sdtp.byteLength + 16 + 16 + 8 + 16 + 8 + 8);\n\n            return MP4.box(MP4.types.traf, tfhd, tfdt, trun, sdtp);\n        }\n\n        // Sample Dependency Type box\n\n    }, {\n        key: 'sdtp',\n        value: function sdtp(track) {\n            var samples = track.samples || [];\n            var sampleCount = samples.length;\n            var data = new Uint8Array(4 + sampleCount);\n            // 0~4 bytes: version(0) & flags\n            for (var i = 0; i < sampleCount; i++) {\n                var flags = samples[i].flags;\n                data[i + 4] = flags.isLeading << 6 | // is_leading: 2 (bit)\n                flags.dependsOn << 4 // sample_depends_on\n                | flags.isDependedOn << 2 // sample_is_depended_on\n                | flags.hasRedundancy; // sample_has_redundancy\n            }\n            return MP4.box(MP4.types.sdtp, data);\n        }\n\n        // Track fragment run box\n\n    }, {\n        key: 'trun',\n        value: function trun(track, offset) {\n            var samples = track.samples || [];\n            var sampleCount = samples.length;\n            var dataSize = 12 + 16 * sampleCount;\n            var data = new Uint8Array(dataSize);\n            offset += 8 + dataSize;\n\n            data.set([0x00, 0x00, 0x0F, 0x01, // version(0) & flags\n            sampleCount >>> 24 & 0xFF, // sample_count\n            sampleCount >>> 16 & 0xFF, sampleCount >>> 8 & 0xFF, sampleCount & 0xFF, offset >>> 24 & 0xFF, // data_offset\n            offset >>> 16 & 0xFF, offset >>> 8 & 0xFF, offset & 0xFF], 0);\n\n            for (var i = 0; i < sampleCount; i++) {\n\n                var duration = samples[i].duration;\n\n                var size = samples[i].size;\n                var flags = samples[i].flags;\n                var cts = samples[i].cts;\n                data.set([duration >>> 24 & 0xFF, // sample_duration\n                duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, size >>> 24 & 0xFF, // sample_size\n                size >>> 16 & 0xFF, size >>> 8 & 0xFF, size & 0xFF, flags.isLeading << 2 | flags.dependsOn, // sample_flags\n                flags.isDependedOn << 6 | flags.hasRedundancy << 4 | flags.isNonSync, 0x00, 0x00, // sample_degradation_priority\n                cts >>> 24 & 0xFF, // sample_composition_time_offset\n                cts >>> 16 & 0xFF, cts >>> 8 & 0xFF, cts & 0xFF], 12 + 16 * i);\n            }\n            return MP4.box(MP4.types.trun, data);\n        }\n    }, {\n        key: 'mdat',\n        value: function mdat(data) {\n            return MP4.box(MP4.types.mdat, data);\n        }\n    }]);\n\n    return MP4;\n}();\n\nMP4.init();\n\nexports.default = MP4;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9tcDQvbXA0cmVtdXguanM/OWY1YSJdLCJuYW1lcyI6WyJNUDQiLCJ0eXBlcyIsImF2YzEiLCJhdmNDIiwiYnRydCIsImRpbmYiLCJkcmVmIiwiZXNkcyIsImZ0eXAiLCJoZGxyIiwibWRhdCIsIm1kaGQiLCJtZGlhIiwibWZoZCIsIm1pbmYiLCJtb29mIiwibW9vdiIsIm1wNGEiLCJtdmV4IiwibXZoZCIsInNkdHAiLCJzdGJsIiwic3RjbyIsInN0c2MiLCJzdHNkIiwic3RzeiIsInN0dHMiLCJ0ZmR0IiwidGZoZCIsInRyYWYiLCJ0cmFrIiwidHJ1biIsInRyZXgiLCJ0a2hkIiwidm1oZCIsInNtaGQiLCJuYW1lIiwiaGFzT3duUHJvcGVydHkiLCJjaGFyQ29kZUF0IiwiY29uc3RhbnRzIiwiRlRZUCIsIlVpbnQ4QXJyYXkiLCJTVFNEX1BSRUZJWCIsIlNUVFMiLCJTVFNDIiwiU1RDTyIsIlNUU1oiLCJIRExSX1ZJREVPIiwiSERMUl9BVURJTyIsIkRSRUYiLCJTTUhEIiwiVk1IRCIsInR5cGUiLCJzaXplIiwicmVzdWx0IiwiZGF0YXMiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImFyZ3VtZW50cyIsImFycmF5Q291bnQiLCJsZW5ndGgiLCJpIiwiYnl0ZUxlbmd0aCIsInNldCIsIm9mZnNldCIsIm1ldGEiLCJjb25zdHJ1Y3RvciIsImJveCIsInRpbWVzY2FsZSIsImR1cmF0aW9uIiwidnRyYWsiLCJhdHJhayIsInRyYWNrSWQiLCJpZCIsIndpZHRoIiwicHJlc2VudFdpZHRoIiwiaGVpZ2h0IiwicHJlc2VudEhlaWdodCIsImRhdGEiLCJ4bWhkIiwiY2hhbm5lbENvdW50Iiwic2FtcGxlUmF0ZSIsImF1ZGlvU2FtcGxlUmF0ZSIsImNvbmZpZyIsImNvbmZpZ1NpemUiLCJjb25jYXQiLCJhdmNjIiwiY29kZWNXaWR0aCIsImNvZGVjSGVpZ2h0IiwidHJhY2siLCJiYXNlTWVkaWFEZWNvZGVUaW1lIiwic2VxdWVuY2VOdW1iZXIiLCJzYW1wbGVzIiwic2FtcGxlQ291bnQiLCJmbGFncyIsImlzTGVhZGluZyIsImRlcGVuZHNPbiIsImlzRGVwZW5kZWRPbiIsImhhc1JlZHVuZGFuY3kiLCJkYXRhU2l6ZSIsImN0cyIsImlzTm9uU3luYyIsImluaXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7OztBQUlBO0lBQ01BLEc7Ozs7Ozs7K0JBRVk7QUFDVkEsZ0JBQUlDLEtBQUosR0FBWTtBQUNSQyxzQkFBTSxFQURFO0FBRVJDLHNCQUFNLEVBRkU7QUFHUkMsc0JBQU0sRUFIRTtBQUlSQyxzQkFBTSxFQUpFO0FBS1JDLHNCQUFNLEVBTEU7QUFNUkMsc0JBQU0sRUFORTtBQU9SQyxzQkFBTSxFQVBFO0FBUVJDLHNCQUFNLEVBUkU7QUFTUkMsc0JBQU0sRUFURTtBQVVSQyxzQkFBTSxFQVZFO0FBV1JDLHNCQUFNLEVBWEU7QUFZUkMsc0JBQU0sRUFaRTtBQWFSQyxzQkFBTSxFQWJFO0FBY1JDLHNCQUFNLEVBZEU7QUFlUkMsc0JBQU0sRUFmRTtBQWdCUkMsc0JBQU0sRUFoQkU7QUFpQlJDLHNCQUFNLEVBakJFO0FBa0JSQyxzQkFBTSxFQWxCRTtBQW1CUkMsc0JBQU0sRUFuQkU7QUFvQlJDLHNCQUFNLEVBcEJFO0FBcUJSQyxzQkFBTSxFQXJCRTtBQXNCUkMsc0JBQU0sRUF0QkU7QUF1QlJDLHNCQUFNLEVBdkJFO0FBd0JSQyxzQkFBTSxFQXhCRTtBQXlCUkMsc0JBQU0sRUF6QkU7QUEwQlJDLHNCQUFNLEVBMUJFO0FBMkJSQyxzQkFBTSxFQTNCRTtBQTRCUkMsc0JBQU0sRUE1QkU7QUE2QlJDLHNCQUFNLEVBN0JFO0FBOEJSQyxzQkFBTSxFQTlCRTtBQStCUkMsc0JBQU0sRUEvQkU7QUFnQ1JDLHNCQUFNLEVBaENFO0FBaUNSQyxzQkFBTSxFQWpDRTtBQWtDUkMsc0JBQU07QUFsQ0UsYUFBWjs7QUFxQ0EsaUJBQUssSUFBTUMsSUFBWCxJQUFtQnBDLElBQUlDLEtBQXZCLEVBQThCO0FBQzFCLG9CQUFJ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QUFULEdBQWMsSUFkVCxFQWVKQSxHQUFELEdBQVEsSUFmSCxDQUFULEVBZ0JHLEtBQUssS0FBS3ZDLENBaEJiO0FBaUJIO0FBQ0QsbUJBQU8vRCxJQUFJcUUsR0FBSixDQUFRckUsSUFBSUMsS0FBSixDQUFVOEIsSUFBbEIsRUFBd0JpRCxJQUF4QixDQUFQO0FBQ0g7Ozs2QkFFV0EsSSxFQUFNO0FBQ2QsbUJBQU9oRixJQUFJcUUsR0FBSixDQUFRckUsSUFBSUMsS0FBSixDQUFVUyxJQUFsQixFQUF3QnNFLElBQXhCLENBQVA7QUFDSDs7Ozs7O0FBSUxoRixJQUFJd0csSUFBSjs7a0JBRWV4RyxHIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOS7o+eggeWAn+mJtOS6hmZsdi5qc1xuICog5aKe5Yqg5LqG6Ieq5bex55qE5rOo6YeK5ZKM5YaZ5rOVXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG5jbGFzcyBNUDQge1xuXG4gICAgc3RhdGljIGluaXQoKSB7XG4gICAgICAgIE1QNC50eXBlcyA9IHtcbiAgICAgICAgICAgIGF2YzE6IFtdLFxuICAgICAgICAgICAgYXZjQzogW10sXG4gICAgICAgICAgICBidHJ0OiBbXSxcbiAgICAgICAgICAgIGRpbmY6IFtdLFxuICAgICAgICAgICAgZHJlZjogW10sXG4gICAgICAgICAgICBlc2RzOiBbXSxcbiAgICAgICAgICAgIGZ0eXA6IFtdLFxuICAgICAgICAgICAgaGRscjogW10sXG4gICAgICAgICAgICBtZGF0OiBbXSxcbiAgICAgICAgICAgIG1kaGQ6IFtdLFxuICAgICAgICAgICAgbWRpYTogW10sXG4gICAgICAgICAgICBtZmhkOiBbXSxcbiAgICAgICAgICAgIG1pbmY6IFtdLFxuICAgICAgICAgICAgbW9vZjogW10sXG4gICAgICAgICAgICBtb292OiBbXSxcbiAgICAgICAgICAgIG1wNGE6IFtdLFxuICAgICAgICAgICAgbXZleDogW10sXG4gICAgICAgICAgICBtdmhkOiBbXSxcbiAgICAgICAgICAgIHNkdHA6IFtdLFxuICAgICAgICAgICAgc3RibDogW10sXG4gICAgICAgICAgICBzdGNvOiBbXSxcbiAgICAgICAgICAgIHN0c2M6IFtdLFxuICAgICAgICAgICAgc3RzZDogW10sXG4gICAgICAgICAgICBzdHN6OiBbXSxcbiAgICAgICAgICAgIHN0dHM6IFtdLFxuICAgICAgICAgICAgdGZkdDogW10sXG4gICAgICAgICAgICB0ZmhkOiBbXSxcbiAgICAgICAgICAgIHRyYWY6IFtdLFxuICAgICAgICAgICAgdHJhazogW10sXG4gICAgICAgICAgICB0cnVuOiBbXSxcbiAgICAgICAgICAgIHRyZXg6IFtdLFxuICAgICAgICAgICAgdGtoZDogW10sXG4gICAgICAgICAgICB2bWhkOiBbXSxcbiAgICAgICAgICAgIHNtaGQ6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIE1QNC50eXBlcykge1xuICAgICAgICAgICAgaWYgKE1QNC50eXBlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgIE1QNC50eXBlc1tuYW1lXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmFtZS5jaGFyQ29kZUF0KDApLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLmNoYXJDb2RlQXQoMSksXG4gICAgICAgICAgICAgICAgICAgIG5hbWUuY2hhckNvZGVBdCgyKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZS5jaGFyQ29kZUF0KDMpXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnN0YW50cyA9IE1QNC5jb25zdGFudHMgPSB7fTtcblxuICAgICAgICBjb25zdGFudHMuRlRZUCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4NjksIDB4NzMsIDB4NkYsIDB4NkQsIC8vIG1ham9yX2JyYW5kOiBpc29tXHRcdGlzb21cdE1QNCAgQmFzZSBNZWRpYSB2MSBbSVMwIDE0NDk2LTEyOjIwMDNdXHRJU09cdFlFU1x0dmlkZW8vbXA0XG4gICAgICAgICAgICAweDAsIDB4MCwgMHgwLCAweDEsIC8vIG1pbm9yX3ZlcnNpb246IDB4MDFcbiAgICAgICAgICAgIDB4NjksIDB4NzMsIDB4NkYsIDB4NkQsIC8vIGlzb21cbiAgICAgICAgICAgIDB4NjEsIDB4NzYsIDB4NjMsIDB4MzEgLy8gYXZjMVxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdGFudHMuU1RTRF9QUkVGSVggPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uKDApICsgZmxhZ3MgIHZlcnNpb27lrZfmrrXlkI7kvJrmnInkuIDkuKplbnRyeSBjb3VudOWtl+autVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSAvLyBlbnRyeV9jb3VudFx05qC55o2uZW50cnnnmoTkuKrmlbDvvIzmr4/kuKplbnRyeeS8muaciXR5cGXkv6Hmga/vvIzlpoLigJx2aWRl4oCd44CB4oCcc3VuZOKAneetie+8jOagueaNrnR5cGXkuI3lkIxzYW1wbGUgZGVzY3JpcHRpb27kvJrmj5DkvpvkuI3lkIznmoTkv6Hmga/vvIzkvovlpoLlr7nkuo52aWRlbyB0cmFja++8jOS8muacieKAnFZpc3VhbFNhbXBsZUVudHJ54oCd57G75Z6L5L+h5oGv77yM5a+55LqOYXVkaW8gdHJhY2vkvJrmnInigJxBdWRpb1NhbXBsZUVudHJ54oCd57G75Z6L5L+h5oGv44CCXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0YW50cy5TVFRTID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIGVudHJ5X2NvdW50ICAgICAw5Liq57Si5byVXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0YW50cy5TVFNDID0gY29uc3RhbnRzLlNUQ08gPSBjb25zdGFudHMuU1RUUztcblxuICAgICAgICBjb25zdGFudHMuU1RTWiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gc2FtcGxlX3NpemVcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgLy8gc2FtcGxlX2NvdW50XG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0YW50cy5IRExSX1ZJREVPID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgICAgICAgICAgMHg3NiwgMHg2OSwgMHg2NCwgMHg2NSwgLy8gaGFuZGxlcl90eXBlOiAndmlkZScg5ZyobWVkaWEgYm945Lit77yM6K+l5YC85Li6NOS4quWtl+esplx0XHTigJx2aWRl4oCd4oCUIHZpZGVvIHRyYWNrXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDogMyAqIDQgYnl0ZXNcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyDkv53nlZnkvY1cbiAgICAgICAgICAgIDB4NTYsIDB4NjksIDB4NjQsIDB4NjUsXG4gICAgICAgICAgICAweDZGLCAweDQ4LCAweDYxLCAweDZFLFxuICAgICAgICAgICAgMHg2NCwgMHg2QywgMHg2NSwgMHg3MiwgMHgwMCAvLyBuYW1lOiBWaWRlb0hhbmRsZXIg6ZW/5bqm5LiN5a6aXHRcdHRyYWNrIHR5cGUgbmFtZe+8jOS7peKAmFxcMOKAmee7k+WwvueahOWtl+espuS4slxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdGFudHMuSERMUl9BVURJTyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcHJlX2RlZmluZWRcbiAgICAgICAgICAgIDB4NzMsIDB4NkYsIDB4NzUsIDB4NkUsIC8vIGhhbmRsZXJfdHlwZTogJ3NvdW4n5ZyobWVkaWEgYm945Lit77yM6K+l5YC85Li6NOS4quWtl+esplx0XHTigJxzb3Vu4oCd4oCUIGF1ZGlvIHRyYWNrXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDogMyAqIDQgYnl0ZXNcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyDkv53nlZnkvY1cbiAgICAgICAgICAgIDB4NTMsIDB4NkYsIDB4NzUsIDB4NkUsXG4gICAgICAgICAgICAweDY0LCAweDQ4LCAweDYxLCAweDZFLFxuICAgICAgICAgICAgMHg2NCwgMHg2QywgMHg2NSwgMHg3MiwgMHgwMCAvLyBuYW1lOiBTb3VuZEhhbmRsZXIg6ZW/5bqm5LiN5a6aXHRcdHRyYWNrIHR5cGUgbmFtZe+8jOS7peKAmFxcMOKAmee7k+WwvueahOWtl+espuS4slxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdGFudHMuRFJFRiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgLy8gZW50cnlfY291bnQgMeS4qnVybFxuICAgICAgICAgICAgLy8gdXJsXHRib3jlvIDlp4tcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MEMsIC8vIGVudHJ5X3NpemVcbiAgICAgICAgICAgIDB4NzUsIDB4NzIsIDB4NkMsIDB4MjAsIC8vIHR5cGUgJ3VybCAnXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxIC8vIHZlcnNpb24oMCkgKyBmbGFncyDlvZPigJx1cmzigJ3miJbigJx1cm7igJ3nmoRib3ggZmxhZ+S4ujHml7bvvIzlrZfnrKbkuLLlnYfkuLrnqbrjgIJcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gU291bmQgbWVkaWEgaGVhZGVyXG4gICAgICAgIGNvbnN0YW50cy5TTUhEID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXHRib3jniYjmnKzvvIww5oiWMe+8jOS4gOiIrOS4ujDjgIJcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgLy8gYmFsYW5jZSgyKSArIHJlc2VydmVkKDIpIOeri+S9k+WjsOW5s+ihoe+8jFs4LjhdIOagvOW8j+WAvO+8jOS4gOiIrOS4ujDvvIwtMS4w6KGo56S65YWo6YOo5bem5aOw6YGT77yMMS4w6KGo56S65YWo6YOo5Y+z5aOw6YGTKzLkvY3kv53nlZnkvY1cbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gdmlkZW8gbWVkaWEgaGVhZGVyXG4gICAgICAgIGNvbnN0YW50cy5WTUhEID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAvLyBncmFwaGljc21vZGU6IDIgYnl0ZXMg6KeG6aKR5ZCI5oiQ5qih5byP77yM5Li6MOaXtuaLt+i0neWOn+Wni+WbvuWDj++8jOWQpuWImeS4jm9wY29sb3Lov5vooYzlkIjmiJAgICAvL+eQhuiuuuS4iuaYrzTkvY3llYogIOaaguaXtuS/neeVmVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gb3Bjb2xvcjogMyAqIDIgYnl0ZXMg772bcmVk77yMZ3JlZW7vvIxibHVl772dXG4gICAgICAgICAgICAweDAwLCAweDAwXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWwgeijhWJveFxuICAgICAqL1xuICAgIHN0YXRpYyBib3godHlwZSkge1xuICAgICAgICBsZXQgc2l6ZSA9IDg7XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuICAgICAgICBjb25zdCBkYXRhcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGNvbnN0IGFycmF5Q291bnQgPSBkYXRhcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHNpemUgKz0gZGF0YXNbaV0uYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICAvLyBib3jlpLTpg6jlpKflsI9cbiAgICAgICAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgICAgIHJlc3VsdFswXSA9IChzaXplID4+PiAyNCkgJiAweEZGOyAvLyBzaXplXG4gICAgICAgIHJlc3VsdFsxXSA9IChzaXplID4+PiAxNikgJiAweEZGO1xuICAgICAgICByZXN1bHRbMl0gPSAoc2l6ZSA+Pj4gOCkgJiAweEZGO1xuICAgICAgICByZXN1bHRbM10gPSAoc2l6ZSkgJiAweEZGO1xuICAgICAgICAvLyDlhpnlhaVib3jnmoR0eXBlXG4gICAgICAgIHJlc3VsdC5zZXQodHlwZSwgNCk7IC8vIHR5cGVcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gODtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheUNvdW50OyBpKyspIHsgLy8gZGF0YSBib2R5XG4gICAgICAgICAgICByZXN1bHQuc2V0KGRhdGFzW2ldLCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGFzW2ldLmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIOWIm+W7umZ0eXAmbW9vdlxuICAgIHN0YXRpYyBnZW5lcmF0ZUluaXRTZWdtZW50KG1ldGEpIHtcbiAgICAgICAgaWYgKG1ldGEuY29uc3RydWN0b3IgIT0gQXJyYXkpIHtcbiAgICAgICAgICAgIG1ldGEgPSBbbWV0YV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnR5cCA9IE1QNC5ib3goTVA0LnR5cGVzLmZ0eXAsIE1QNC5jb25zdGFudHMuRlRZUCk7XG4gICAgICAgIGNvbnN0IG1vb3YgPSBNUDQubW9vdihtZXRhKTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShmdHlwLmJ5dGVMZW5ndGggKyBtb292LmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXN1bHQuc2V0KGZ0eXAsIDApO1xuICAgICAgICByZXN1bHQuc2V0KG1vb3YsIGZ0eXAuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gTW92aWUgbWV0YWRhdGEgYm94XG4gICAgc3RhdGljIG1vb3YobWV0YSkge1xuICAgICAgICBjb25zdCBtdmhkID0gTVA0Lm12aGQobWV0YVswXS50aW1lc2NhbGUsIG1ldGFbMF0uZHVyYXRpb24pOyAvLyAvbW9vdumHjOmdoueahOesrOS4gOS4qmJveFxuICAgICAgICBjb25zdCB2dHJhayA9IE1QNC50cmFrKG1ldGFbMF0pO1xuICAgICAgICBsZXQgYXRyYWs7XG4gICAgICAgIGlmIChtZXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGF0cmFrID0gTVA0LnRyYWsobWV0YVsxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtdmV4ID0gTVA0Lm12ZXgobWV0YSk7XG4gICAgICAgIGlmIChtZXRhLmxlbmd0aCA+IDEpIHsgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1vb3YsIG12aGQsIHZ0cmFrLCBhdHJhaywgbXZleCk7IH0gZWxzZSB7IHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tb292LCBtdmhkLCB2dHJhaywgbXZleCk7IH1cbiAgICB9XG5cbiAgICAvLyBNb3ZpZSBoZWFkZXIgYm94XG4gICAgc3RhdGljIG12aGQodGltZXNjYWxlLCBkdXJhdGlvbikge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubXZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzICAgICAx5L2N55qEYm9454mI5pysKzPkvY1mbGFncyAgIGJveOeJiOacrO+8jDDmiJYx77yM5LiA6Iis5Li6MOOAgu+8iOS7peS4i+Wtl+iKguaVsOWdh+aMiXZlcnNpb249MO+8iVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gY3JlYXRpb25fdGltZSAgICDliJvlu7rml7bpl7QgIO+8iOebuOWvueS6jlVUQ+aXtumXtDE5MDQtMDEtMDHpm7bngrnnmoTnp5LmlbDvvIlcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIG1vZGlmaWNhdGlvbl90aW1lICAg5L+u5pS55pe26Ze0XG4gICAgICAgICAgICAodGltZXNjYWxlID4+PiAyNCkgJiAweEZGLCAvLyB0aW1lc2NhbGU6IDQgYnl0ZXNcdFx05paH5Lu25aqS5L2T5ZyoMeenkuaXtumXtOWGheeahOWIu+W6puWAvO+8jOWPr+S7peeQhuino+S4ujHnp5Lplb/luqZcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlKSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsIC8vIGR1cmF0aW9uOiA0IGJ5dGVzXHTor6V0cmFja+eahOaXtumXtOmVv+W6pu+8jOeUqGR1cmF0aW9u5ZKMdGltZSBzY2FsZeWAvOWPr+S7peiuoeeul3RyYWNr5pe26ZW/77yM5q+U5aaCYXVkaW8gdHJhY2vnmoR0aW1lIHNjYWxlID0gODAwMCwgZHVyYXRpb24gPSA1NjAxMjjvvIzml7bplb/kuLo3MC4wMTbvvIx2aWRlbyB0cmFja+eahHRpbWUgc2NhbGUgPSA2MDAsIGR1cmF0aW9uID0gNDIwMDDvvIzml7bplb/kuLo3MFxuICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGR1cmF0aW9uID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24pICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIC8vIFByZWZlcnJlZCByYXRlOiAxLjAgICDmjqjojZDmkq3mlL7pgJ/njofvvIzpq5gxNuS9jeWSjOS9jjE25L2N5YiG5Yir5Li65bCP5pWw54K55pW05pWw6YOo5YiG5ZKM5bCP5pWw6YOo5YiG77yM5Y2zWzE2LjE2XSDmoLzlvI/vvIzor6XlgLzkuLoxLjDvvIgweDAwMDEwMDAw77yJ6KGo56S65q2j5bi45YmN5ZCR5pKt5pS+XG4gICAgICAgICAgICAweDAxLCAweDAwLCAweDAwLCAweDAwLCAvLyBQcmVmZXJyZWRWb2x1bWUoMS4wLCAyYnl0ZXMpICsgcmVzZXJ2ZWQoMmJ5dGVzKVx05LiOcmF0Zeexu+S8vO+8jFs4LjhdIOagvOW8j++8jDEuMO+8iDB4MDEwMO+8ieihqOekuuacgOWkp+mfs+mHj1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQ6IDQgKyA0IGJ5dGVzXHTkv53nlZnkvY1cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLCAvLyAtLS0tYmVnaW4gY29tcG9zaXRpb24gbWF0cml4LS0tLVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIOinhumikeWPmOaNouefqemYtSAgIOe6v+aAp+S7o+aVsFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDQwLCAweDAwLCAweDAwLCAweDAwLCAvLyAtLS0tZW5kIGNvbXBvc2l0aW9uIG1hdHJpeC0tLS1cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIC0tLS1iZWdpbiBwcmVfZGVmaW5lZCA2ICogNCBieXRlcy0tLS1cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmUtZGVmaW5lZCDkv53nlZnkvY1cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gLS0tLWVuZCBwcmVfZGVmaW5lZCA2ICogNCBieXRlcy0tLS1cbiAgICAgICAgICAgIDB4RkYsIDB4RkYsIDB4RkYsIDB4RkYgLy8gbmV4dF90cmFja19JRCDkuIvkuIDkuKp0cmFja+S9v+eUqOeahGlk5Y+3XG4gICAgICAgIF0pKTtcbiAgICB9XG5cbiAgICAvLyBUcmFjayBib3hcbiAgICBzdGF0aWMgdHJhayhtZXRhKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cmFrLCBNUDQudGtoZChtZXRhKSwgTVA0Lm1kaWEobWV0YSkpO1xuICAgIH1cblxuICAgIC8vIFRyYWNrIGhlYWRlciBib3hcbiAgICBzdGF0aWMgdGtoZChtZXRhKSB7XG4gICAgICAgIGxldCB0cmFja0lkID0gbWV0YS5pZCxcbiAgICAgICAgICAgIGR1cmF0aW9uID0gbWV0YS5kdXJhdGlvbjtcbiAgICAgICAgbGV0IHdpZHRoID0gbWV0YS5wcmVzZW50V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgPSBtZXRhLnByZXNlbnRIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRraGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDcsIC8vIHZlcnNpb24oMCkgKyBmbGFncyAx5L2N54mI5pysIGJveOeJiOacrO+8jDDmiJYx77yM5LiA6Iis5Li6MOOAgu+8iOS7peS4i+Wtl+iKguaVsOWdh+aMiXZlcnNpb249MO+8ieaMieS9jeaIluaTjeS9nOe7k+aenOWAvO+8jOmihOWumuS5ieWmguS4i++8mlxuICAgICAgICAgICAgLy8gMHgwMDAwMDEgdHJhY2tfZW5hYmxlZO+8jOWQpuWImeivpXRyYWNr5LiN6KKr5pKt5pS+77ybXG4gICAgICAgICAgICAvLyAweDAwMDAwMiB0cmFja19pbl9tb3ZpZe+8jOihqOekuuivpXRyYWNr5Zyo5pKt5pS+5Lit6KKr5byV55So77ybXG4gICAgICAgICAgICAvLyAweDAwMDAwNCB0cmFja19pbl9wcmV2aWV377yM6KGo56S66K+ldHJhY2vlnKjpooTop4jml7booqvlvJXnlKjjgIJcbiAgICAgICAgICAgIC8vIOS4gOiIrOivpeWAvOS4ujfvvIwxKzIrNCDlpoLmnpzkuIDkuKrlqpLkvZPmiYDmnIl0cmFja+Wdh+acquiuvue9rnRyYWNrX2luX21vdmll5ZKMdHJhY2tfaW5fcHJldmlld++8jOWwhuiiq+eQhuino+S4uuaJgOaciXRyYWNr5Z2H6K6+572u5LqG6L+Z5Lik6aG577yb5a+55LqOaGludCB0cmFja++8jOivpeWAvOS4ujBcbiAgICAgICAgICAgIC8vIGhpbnQgdHJhY2vCoCDov5nkuKrnibnmrornmoR0cmFja+W5tuS4jeWMheWQq+WqkuS9k+aVsOaNru+8jOiAjOaYr+WMheWQq+S6huS4gOS6m+WwhuWFtuS7luaVsOaNrnRyYWNr5omT5YyF5oiQ5rWB5aqS5L2T55qE5oyH56S65L+h5oGv44CCXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBjcmVhdGlvbl90aW1lXHTliJvlu7rml7bpl7TvvIjnm7jlr7nkuo5VVEPml7bpl7QxOTA0LTAxLTAx6Zu254K555qE56eS5pWw77yJXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBtb2RpZmljYXRpb25fdGltZVx05L+u5pS55pe26Ze0XG4gICAgICAgICAgICAodHJhY2tJZCA+Pj4gMjQpICYgMHhGRiwgLy8gdHJhY2tfSUQ6IDQgYnl0ZXNcdGlk5Y+377yM5LiN6IO96YeN5aSN5LiU5LiN6IO95Li6MFxuICAgICAgICAgICAgKHRyYWNrSWQgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodHJhY2tJZCA+Pj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgKHRyYWNrSWQpICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiA0IGJ5dGVzICAgIOS/neeVmeS9jVxuICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAyNCkgJiAweEZGLCAvLyBkdXJhdGlvbjogNCBieXRlcyAgXHR0cmFja+eahOaXtumXtOmVv+W6plxuICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGR1cmF0aW9uID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24pICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiAyICogNCBieXRlcyAgICDkv53nlZnkvY1cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBsYXllcigyYnl0ZXMpICsgYWx0ZXJuYXRlX2dyb3VwKDJieXRlcykgIOinhumikeWxgu+8jOm7mOiupOS4ujDvvIzlgLzlsI/nmoTlnKjkuIrlsYIudHJhY2vliIbnu4Tkv6Hmga/vvIzpu5jorqTkuLow6KGo56S66K+ldHJhY2vmnKrkuI7lhbbku5Z0cmFja+aciee+pOe7hOWFs+ezu1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdm9sdW1lKDJieXRlcykgKyByZXNlcnZlZCgyYnl0ZXMpICAgIFs4LjhdIOagvOW8j++8jOWmguaenOS4uumfs+mikXRyYWNr77yMMS4w77yIMHgwMTAw77yJ6KGo56S65pyA5aSn6Z+z6YeP77yb5ZCm5YiZ5Li6MCAgICvkv53nlZnkvY1cbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIC8vIC0tLS1iZWdpbiBjb21wb3NpdGlvbiBtYXRyaXgtLS0tXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLCAvLyDop4bpopHlj5jmjaLnn6npmLVcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIC0tLS1lbmQgY29tcG9zaXRpb24gbWF0cml4LS0tLVxuICAgICAgICAgICAgKHdpZHRoID4+PiA4KSAmIDB4RkYsIC8vIC8v5a695bqmXG4gICAgICAgICAgICAod2lkdGgpICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoaGVpZ2h0ID4+PiA4KSAmIDB4RkYsIC8vIOmrmOW6plxuICAgICAgICAgICAgKGhlaWdodCkgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMFxuICAgICAgICBdKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog4oCcbWRpYeKAneS5n+aYr+S4qmNvbnRhaW5lciBib3jvvIzlhbblrZBib3jnmoTnu5PmnoTlkoznp43nsbvov5jmmK/mr5TovoPlpI3mnYLnmoTjgILlhYjmnaXnnIvkuIDkuKrigJxtZGlh4oCd55qE5a6e5L6L57uT5p6E5qCR5Zu+44CCXG4gICAgICog5oC75L2T5p2l6K+077yM4oCcbWRpYeKAneWumuS5ieS6hnRyYWNr5aqS5L2T57G75Z6L5Lul5Y+Kc2FtcGxl5pWw5o2u77yM5o+P6L+wc2FtcGxl5L+h5oGv44CC5LiA6Iis4oCcbWRpYeKAneWMheWQq+S4gOS4quKAnG1kaGTigJ3vvIxcbiAgICAgKiDkuIDkuKrigJxoZGxy4oCd5ZKM5LiA5Liq4oCcbWluZuKAne+8jOWFtuS4reKAnG1kaGTigJ3kuLptZWRpYSBoZWFkZXIgYm9477yM4oCcaGRscuKAneS4umhhbmRsZXIgcmVmZXJlbmNlIGJveO+8jFxuICAgICAqIOKAnG1pbmbigJ3kuLptZWRpYSBpbmZvcm1hdGlvbiBib3jjgIJcbiAgICAgKlxuICAgICAqIG1kaWFcbiAgICAgKiBcdFx0bWRoZFxuICAgICAqIFx0XHRoZGxyXG4gICAgICogXHRcdG1pbmZcbiAgICAgKiBcdFx0XHRzbWhkXG4gICAgICogXHRcdFx0ZGluZlxuICAgICAqIFx0XHRcdFx0ZHJlZlxuICAgICAqIFx0XHRcdFx0XHR1cmxcbiAgICAgKiBcdFx0XHRzdGJsXG4gICAgICogXHRcdFx0XHRzdHNkXG4gICAgICogXHRcdFx0XHRcdG1wNGFcbiAgICAgKiBcdFx0XHRcdFx0XHRlc2RzXG4gICAgICogXHRcdFx0XHRzdHRzXG4gICAgICogXHRcdFx0XHRzdHNjXG4gICAgICogXHRcdFx0XHRzdHN6XG4gICAgICogXHRcdFx0XHRzdGNvXG4gICAgICovXG4gICAgc3RhdGljIG1kaWEobWV0YSkge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRpYSwgTVA0Lm1kaGQobWV0YSksIE1QNC5oZGxyKG1ldGEpLCBNUDQubWluZihtZXRhKSk7XG4gICAgfVxuXG4gICAgLy8gTWVkaWEgaGVhZGVyIGJveFxuICAgIHN0YXRpYyBtZGhkKG1ldGEpIHtcbiAgICAgICAgY29uc3QgdGltZXNjYWxlID0gbWV0YS50aW1lc2NhbGU7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gbWV0YS5kdXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kaGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHZlcnNpb24oMCkgKyBmbGFncyAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcdFx0Ym9454mI5pys77yMMOaIljHvvIzkuIDoiKzkuLow44CCXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBjcmVhdGlvbl90aW1lICAgIOWIm+W7uuaXtumXtFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gbW9kaWZpY2F0aW9uX3RpbWXkv67mlLnml7bpl7RcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4+IDI0KSAmIDB4RkYsIC8vIHRpbWVzY2FsZTogNCBieXRlcyAgICDmlofku7blqpLkvZPlnKgx56eS5pe26Ze05YaF55qE5Yi75bqm5YC877yM5Y+v5Lul55CG6Kej5Li6MeenkumVv+W6plxuICAgICAgICAgICAgKHRpbWVzY2FsZSA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gMjQpICYgMHhGRiwgLy8gZHVyYXRpb246IDQgYnl0ZXMgIHRyYWNr55qE5pe26Ze06ZW/5bqmXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbikgJiAweEZGLFxuICAgICAgICAgICAgMHg1NSwgMHhDNCwgLy8gbGFuZ3VhZ2U6IHVuZCAodW5kZXRlcm1pbmVkKSDlqpLkvZPor63oqIDnoIHjgILmnIDpq5jkvY3kuLow77yM5ZCO6Z2iMTXkvY3kuLoz5Liq5a2X56ym77yI6KeBSVNPIDYzOS0yL1TmoIflh4bkuK3lrprkuYnvvIlcbiAgICAgICAgICAgIDB4MDAsIDB4MDAgLy8gcHJlX2RlZmluZWQgPSAwXG4gICAgICAgIF0pKTtcbiAgICB9XG5cbiAgICAvLyBNZWRpYSBoYW5kbGVyIHJlZmVyZW5jZSBib3hcbiAgICBzdGF0aWMgaGRscihtZXRhKSB7XG4gICAgICAgIGxldCBkYXRhID0gbnVsbDtcbiAgICAgICAgaWYgKG1ldGEudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgZGF0YSA9IE1QNC5jb25zdGFudHMuSERMUl9BVURJTztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSBNUDQuY29uc3RhbnRzLkhETFJfVklERU87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLmhkbHIsIGRhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuXHRcdCAqIOKAnG1pbmbigJ3lrZjlgqjkuobop6Pph4p0cmFja+WqkuS9k+aVsOaNrueahGhhbmRsZXItc3BlY2lmaWPkv6Hmga/vvIxtZWRpYSBoYW5kbGVy55So6L+Z5Lqb5L+h5oGv5bCG5aqS5L2T5pe26Ze05pig5bCE5Yiw5aqS5L2T5pWw5o2u5bm26L+b6KGM5aSE55CG44CC4oCcbWluZuKAneS4reeahOS/oeaBr+agvOW8j+WSjOWGheWuueS4juWqkuS9k+exu+Wei+S7peWPiuino+mHiuWqkuS9k+aVsOaNrueahG1lZGlhIGhhbmRsZXLlr4bliIfnm7jlhbPvvIzlhbbku5ZtZWRpYSBoYW5kbGVy5LiN55+l6YGT5aaC5L2V6Kej6YeK6L+Z5Lqb5L+h5oGv44CC4oCcbWluZuKAneaYr+S4gOS4qmNvbnRhaW5lciBib3jvvIzlhbblrp7pmYXlhoXlrrnnlLHlrZBib3jor7TmmI7jgIJcbsKgwqDCoCDkuIDoiKzmg4XlhrXkuIvvvIzigJxtaW5m4oCd5YyF5ZCr5LiA5LiqaGVhZGVyIGJveO+8jOS4gOS4quKAnGRpbmbigJ3lkozkuIDkuKrigJxzdGJs4oCd77yM5YW25Lit77yMaGVhZGVyIGJveOagueaNrnRyYWNrIHR5cGXvvIjljbNtZWRpYSBoYW5kbGVyIHR5cGXvvInliIbkuLrigJx2bWhk4oCd44CB4oCcc21oZOKAneOAgeKAnGhtaGTigJ3lkozigJxubWhk4oCd77yM4oCcZGluZuKAneS4umRhdGEgaW5mb3JtYXRpb24gYm9477yM4oCcc3RibOKAneS4unNhbXBsZSB0YWJsZSBib3jjgILkuIvpnaLliIbliKvku4vnu43jgIJcblxuXHRcdCAqXG5cdFx0ICovXG4gICAgLy8gTWVkaWEgaW5mb21hdGlvbiBib3hcbiAgICBzdGF0aWMgbWluZihtZXRhKSB7XG4gICAgICAgIC8vIGhlYWRlciBib3jmoLnmja50cmFjayB0eXBl77yI5Y2zbWVkaWEgaGFuZGxlciB0eXBl77yJ5YiG5Li64oCcdm1oZOKAneOAgeKAnHNtaGTigJ3jgIHigJxobWhk4oCd5ZKM4oCcbm1oZOKAnVxuICAgICAgICBsZXQgeG1oZCA9IG51bGw7XG4gICAgICAgIGlmIChtZXRhLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHhtaGQgPSBNUDQuYm94KE1QNC50eXBlcy5zbWhkLCBNUDQuY29uc3RhbnRzLlNNSEQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeG1oZCA9IE1QNC5ib3goTVA0LnR5cGVzLnZtaGQsIE1QNC5jb25zdGFudHMuVk1IRCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1pbmYsIHhtaGQsIE1QNC5kaW5mKCksIE1QNC5zdGJsKG1ldGEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEYXRhIEluZm9ybWF0aW9uIEJveFxuICAgICAqIOKAnGRpbmbigJ3op6Pph4rlpoLkvZXlrprkvY3lqpLkvZPkv6Hmga/vvIzmmK/kuIDkuKpjb250YWluZXIgYm9444CC4oCcZGluZuKAneS4gOiIrOWMheWQq+S4gOS4quKAnGRyZWbigJ3vvIzljbNkYXRhIHJlZmVyZW5jZSBib3jvvJtcbiAgICAgKiDigJxkcmVm4oCd5LiL5Lya5YyF5ZCr6Iul5bmy5Liq4oCcdXJs4oCd5oiW4oCcdXJu4oCd77yM6L+Z5LqbYm9457uE5oiQ5LiA5Liq6KGo77yM55So5p2l5a6a5L2NdHJhY2vmlbDmja7jgIJcbiAgICAgKiDnroDljZXnmoTor7TvvIx0cmFja+WPr+S7peiiq+WIhuaIkOiLpeW5suaute+8jOavj+S4gOautemDveWPr+S7peagueaNruKAnHVybOKAneaIluKAnHVybuKAneaMh+WQkeeahOWcsOWdgOadpeiOt+WPluaVsOaNru+8jFxuICAgICAqIHNhbXBsZeaPj+i/sOS4reS8mueUqOi/meS6m+eJh+auteeahOW6j+WPt+Wwhui/meS6m+eJh+autee7hOaIkOS4gOS4quWujOaVtOeahHRyYWNr44CCXG4gICAgICog5LiA6Iis5oOF5Ya15LiL77yM5b2T5pWw5o2u6KKr5a6M5YWo5YyF5ZCr5Zyo5paH5Lu25Lit5pe277yM4oCcdXJs4oCd5oiW4oCcdXJu4oCd5Lit55qE5a6a5L2N5a2X56ym5Liy5piv56m655qE44CCXG4gICAgICovXG4gICAgc3RhdGljIGRpbmYoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IE1QNC5ib3goTVA0LnR5cGVzLmRpbmYsXG4gICAgICAgICAgICBNUDQuYm94KE1QNC50eXBlcy5kcmVmLCBNUDQuY29uc3RhbnRzLkRSRUYpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG5cdFx0ICogU2FtcGxlIFRhYmxlIEJveO+8iHN0YmzvvIlcbsKgwqDCoCBcdCpcdOKAnHN0YmzigJ3lh6DkuY7mmK/mma7pgJrnmoRNUDTmlofku7bkuK3mnIDlpI3mnYLnmoTkuIDkuKpib3jkuobvvIzpppblhYjpnIDopoHlm57lv4bkuIDkuItzYW1wbGXnmoTmpoLlv7XjgIJcbiBcdFx0KiBcdHNhbXBsZeaYr+WqkuS9k+aVsOaNruWtmOWCqOeahOWNleS9je+8jOWtmOWCqOWcqG1lZGlh55qEY2h1bmvkuK3vvIxjaHVua+WSjHNhbXBsZeeahOmVv+W6puWdh+WPr+S6kuS4jeebuOWQjO+8jOWmguS4i+WbvuaJgOekuuOAglxuXHRcdFx04oCcc3RibOKAneaYr+S4gOS4qmNvbnRhaW5lciBib3jvvIzlhbblrZBib3jljIXmi6zvvJpzYW1wbGUgZGVzY3JpcHRpb24gYm9477yIc3RzZO+8ieOAgVxuXHRcdFx0ICogdGltZSB0byBzYW1wbGUgYm9477yIc3R0c++8ieOAgXNhbXBsZSBzaXplIGJveO+8iHN0c3rmiJZzdHoy77yJ44CBXG5cdFx0XHQgKiBzYW1wbGUgdG8gY2h1bmsgYm9477yIc3RzY++8ieOAgWNodW5rIG9mZnNldCBib3jvvIhzdGNv5oiWY282NO+8ieOAgVxuXHRcdFx0ICogY29tcG9zaXRpb24gdGltZSB0byBzYW1wbGUgYm9477yIY3R0c++8ieOAgXN5bmMgc2FtcGxlIGJveO+8iHN0c3PvvIlcblx0XHRcdCAqIHN0c2TigJ3lv4XkuI3lj6/lsJHvvIzkuJToh7PlsJHljIXlkKvkuIDkuKrmnaHnm67vvIzor6Vib3jljIXlkKvkuoZkYXRhIHJlZmVyZW5jZSBib3jov5vooYxzYW1wbGXmlbDmja7mo4DntKLnmoTkv6Hmga/jgIJcblx0XHRcdCAqIOayoeacieKAnHN0c2TigJ3lsLHml6Dms5XorqHnrpdtZWRpYSBzYW1wbGXnmoTlrZjlgqjkvY3nva7jgILigJxzdHNk4oCd5YyF5ZCr5LqG57yW56CB55qE5L+h5oGv77yM5YW25a2Y5YKo55qE5L+h5oGv6ZqP5aqS5L2T57G75Z6L5LiN5ZCM6ICM5LiN5ZCM44CCXG5cdFx0XHQgKiBcdFx0XHRzdGJsXG5cdFx0XHQgKiBcdFx0XHRcdHN0c2Rcblx0XHRcdCAqIFx0XHRcdFx0XHRhdmMxXG5cdFx0XHQgKiBcdFx0XHRcdFx0XHRhdmNDXG5cdFx0XHQgKiBcdFx0XHRcdHN0dHNcblx0XHRcdCAqIFx0XHRcdFx0c3RzY1xuXHRcdFx0ICogXHRcdFx0XHRzdHN6XG5cdFx0XHQgKiBcdFx0XHRcdHN0Y29cblx0XHQgKi9cbiAgICBzdGF0aWMgc3RibChtZXRhKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IE1QNC5ib3goTVA0LnR5cGVzLnN0YmwsIC8vIHR5cGU6IHN0YmxcbiAgICAgICAgICAgIE1QNC5zdHNkKG1ldGEpLCAvLyBTYW1wbGUgRGVzY3JpcHRpb24gVGFibGVcbiAgICAgICAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0dHMsIE1QNC5jb25zdGFudHMuU1RUUyksIC8vIFRpbWUtVG8tU2FtcGxlICAgIOWboOS4unN0dHPnmoRlbnRyeSBjb3VudCDkuLowXG4gICAgICAgICAgICAvLyDmiYDku6XmsqHmnInlhbPplK7luKdpbmRleCDnmoRzdHNzXG4gICAgICAgICAgICAvLyDkuZ/msqHmnIlDVFRTIGJveCBDVFRT5piv6K6w5b2V5YGP56e76YePXG4gICAgICAgICAgICBNUDQuYm94KE1QNC50eXBlcy5zdHNjLCBNUDQuY29uc3RhbnRzLlNUU0MpLCAvLyBTYW1wbGUtVG8tQ2h1bmtcbiAgICAgICAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0c3osIE1QNC5jb25zdGFudHMuU1RTWiksIC8vIFNhbXBsZSBzaXplXG4gICAgICAgICAgICBNUDQuYm94KE1QNC50eXBlcy5zdGNvLCBNUDQuY29uc3RhbnRzLlNUQ08pIC8vIENodW5rIG9mZnNldFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuXHRcdCAqIFNhbXBsZSBEZXNjcmlwdGlvbiBCb3jvvIhzdHNk77yJXG7CoMKgwqDCoFx0XHRib3ggaGVhZGVy5ZKMdmVyc2lvbuWtl+auteWQjuS8muacieS4gOS4qmVudHJ5IGNvdW505a2X5q6177yMXG4gKiBcdFx0XHTmoLnmja5lbnRyeeeahOS4quaVsO+8jOavj+S4qmVudHJ55Lya5pyJdHlwZeS/oeaBr++8jOWmguKAnHZpZGXigJ3jgIHigJxzdW5k4oCd562J77yMXG4gKiBcdFx05qC55o2udHlwZeS4jeWQjHNhbXBsZSBkZXNjcmlwdGlvbuS8muaPkOS+m+S4jeWQjOeahOS/oeaBr++8jOS+i+WmguWvueS6jnZpZGVvIHRyYWNr77yMXG4gKiDkvJrmnInigJxWaXN1YWxTYW1wbGVFbnRyeeKAneexu+Wei+S/oeaBr++8jOWvueS6jmF1ZGlvIHRyYWNr5Lya5pyJ4oCcQXVkaW9TYW1wbGVFbnRyeeKAneexu+Wei+S/oeaBr+OAglxuXG5cdFx0ICogKiBcdFx0XHRcdHN0c2Rcblx0XHRcdCogXHRcdFx0XHRcdG1wNGFcblx0XHRcdCogXHRcdFx0XHRcdFx0ZXNkc1xuXHRcdFx0ICpcblx0XHRcdCAqXG5cdFx0XHQgKlxuXHRcdFx0ICpcblx0XHRcdCAqIFx0XHQgNCBieXRlcyAtIGxlbmd0aCBpbiB0b3RhbFxuXHRcdFx0XHRcdCA0IGJ5dGVzIC0gNCBjaGFyIGNvZGUgb2Ygc2FtcGxlIGRlc2NyaXB0aW9uIHRhYmxlIChzdHNkKVxuXHRcdFx0XHRcdCA0IGJ5dGVzIC0gdmVyc2lvbiAmIGZsYWdzXG5cdFx0XHRcdFx0IDQgYnl0ZXMgLSBudW1iZXIgb2Ygc2FtcGxlIGVudHJpZXMgKG51bV9zYW1wbGVfZW50cmllcylcblx0XHRcdFx0XHRcdCBbXG5cdFx0XHRcdFx0XHQgICAgNCBieXRlcyAtIGxlbmd0aCBvZiBzYW1wbGUgZW50cnkgKGxlbl9zYW1wbGVfZW50cnkpXG5cdFx0XHRcdFx0XHQgICAgNCBieXRlcyAtIDQgY2hhciBjb2RlIG9mIHNhbXBsZSBlbnRyeVxuXHRcdFx0XHRcdFx0ICAgICgnbGVuX3NhbXBsZV9lbnRyeScgLSA4KSBieXRlcyBvZiBkYXRhXG5cdFx0XHRcdFx0XHQgXSAocmVwZWF0ZWQgJ251bV9zYW1wbGVfZW50cmllcycgdGltZXMpXG5cdFx0XHRcdFx0KDQgYnl0ZXMgLSBvcHRpb25hbCAweDAwMDAwMDAwIGFzIGVuZCBvZiBib3ggbWFya2VyIClcblx0XHQgKi9cbiAgICBzdGF0aWMgc3RzZChtZXRhKSB7XG4gICAgICAgIGlmIChtZXRhLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuY29uc3RhbnRzLlNUU0RfUFJFRklYLCBNUDQubXA0YShtZXRhKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LmNvbnN0YW50cy5TVFNEX1BSRUZJWCwgTVA0LmF2YzEobWV0YSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIG1wNGEobWV0YSkge1xuICAgICAgICBjb25zdCBjaGFubmVsQ291bnQgPSBtZXRhLmNoYW5uZWxDb3VudDtcbiAgICAgICAgY29uc3Qgc2FtcGxlUmF0ZSA9IG1ldGEuYXVkaW9TYW1wbGVSYXRlO1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZCg0KSA25Liq5a2X6IqC77yM6K6+572u5Li6MO+8m1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgLy8gcmVzZXJ2ZWQoMikgKyBkYXRhX3JlZmVyZW5jZV9pbmRleCgyKVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQ6IDIgKiA0IGJ5dGVzIOS/neeVmeS9jVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIGNoYW5uZWxDb3VudCwgLy8gY2hhbm5lbENvdW50KDIpIOWNleWjsOmBk+i/mOaYr+WPjOWjsOmBk1xuICAgICAgICAgICAgMHgwMCwgMHgxMCwgLy8gc2FtcGxlU2l6ZSgyKVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWQoNCkgNOWtl+iKguS/neeVmeS9jVxuICAgICAgICAgICAgKHNhbXBsZVJhdGUgPj4+IDgpICYgMHhGRiwgLy8gQXVkaW8gc2FtcGxlIHJhdGUg5pi+54S26KaB5Y+z56e7MTbkvY3miY3mnInmhI/kuYlcdHRlbXBsYXRlIHVuc2lnbmVkIGludCgzMikgc2FtcGxlcmF0ZSA9IHt0aW1lc2NhbGUgb2YgbWVkaWF9PDwxNjtcbiAgICAgICAgICAgIChzYW1wbGVSYXRlKSAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tcDRhLCBkYXRhLCBNUDQuZXNkcyhtZXRhKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGVzZHMobWV0YSkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBtZXRhLmNvbmZpZztcbiAgICAgICAgY29uc3QgY29uZmlnU2l6ZSA9IGNvbmZpZy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyB2ZXJzaW9uIDAgKyBmbGFnc1xuXG4gICAgICAgICAgICAweDAzLCAvLyBkZXNjcmlwdG9yX3R5cGUgICAgTVA0RVNEZXNjclRhZ1xuICAgICAgICAgICAgMHgxNyArIGNvbmZpZ1NpemUsIC8vIGxlbmd0aDNcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIC8vIGVzX2lkXG4gICAgICAgICAgICAweDAwLCAvLyBzdHJlYW1fcHJpb3JpdHlcblxuICAgICAgICAgICAgMHgwNCwgLy8gZGVzY3JpcHRvcl90eXBlICAgIE1QNERlY0NvbmZpZ0Rlc2NyVGFnXG4gICAgICAgICAgICAweDBGICsgY29uZmlnU2l6ZSwgLy8gbGVuZ3RoXG4gICAgICAgICAgICAweDQwLCAvLyBjb2RlYzogbXBlZzRfYXVkaW9cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICrlvZNvYmplY3RUeXBlSW5kaWNhdGlvbuS4ujB4NDDml7bvvIzkuLpNUEVHLTQgQXVkaW/vvIhNUEVHLTQgQXVkaW8gZ2VuZXJhbGx5IGlzIHRob3VnaHQgb2YgYXMgQUFDXG4gICAgICAgICAgICAgKiBidXQgdGhlcmUgaXMgYSB3aG9sZSBmcmFtZXdvcmsgb2YgYXVkaW8gY29kZWNzIHRoYXQgY2FuIEdvIGluIE1QRUctNCBBdWRpbyBpbmNsdWRpbmcgQUFDLCBCU0FDLCBBTFMsIENFTFAsXG4gICAgICAgICAgICAgKiBhbmQgc29tZXRoaW5nIGNhbGxlZCBNUDNPbjTvvInvvIzlpoLmnpzmg7Pmm7Tnu4bliIZmb3JtYXTkuLphYWPov5jmmK9tcDPvvIxcbiAgICAgICAgICAgICAqIOWPr+S7peivu+WPlk1QNERlY1NwZWNpZmljRGVzY3LlsYJkYXRhWzBd55qE5YmN5LqU5L2NXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIDB4MTUsIC8vIHN0cmVhbV90eXBlOiBBdWRpb1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gYnVmZmVyX3NpemVcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIG1heEJpdHJhdGVcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGF2Z0JpdHJhdGVcblxuICAgICAgICAgICAgMHgwNSAvLyBkZXNjcmlwdG9yX3R5cGUgTVA0RGVjU3BlY2lmaWNEZXNjclRhZ1xuICAgICAgICBdLmNvbmNhdChbXG4gICAgICAgICAgICBjb25maWdTaXplXG4gICAgICAgIF0pLmNvbmNhdChcbiAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICApLmNvbmNhdChbXG4gICAgICAgICAgICAweDA2LCAweDAxLCAweDAyIC8vIEdBU3BlY2lmaWNDb25maWdcbiAgICAgICAgXSkpO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuZXNkcywgZGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5pS554mIXG4gICAgICpzdHNk5LiL55qEYXZjMeinhumikeino+aekFxuICAgICAqL1xuICAgIHN0YXRpYyBhdmMxKG1ldGEpIHtcbiAgICAgICAgY29uc3QgYXZjYyA9IG1ldGEuYXZjYztcbiAgICAgICAgbGV0IHdpZHRoID0gbWV0YS5jb2RlY1dpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gbWV0YS5jb2RlY0hlaWdodDtcblxuICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gLy8gcmVzZXJ2ZWQoNCkgICAgNuS4qsKg5L+d55WZ5L2NXHRSZXNlcnZlZO+8mjbkuKrlrZfoioLvvIzorr7nva7kuLow77ybXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyByZXNlcnZlZCgyKSArIHt7e3tkYXRhX3JlZmVyZW5jZV9pbmRleCgyKSAg5pWw5o2u5byV55So57Si5byVfX19fVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcHJlX2RlZmluZWQoMikgKyByZXNlcnZlZCgyKVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcHJlX2RlZmluZWQ6IDMgKiA0IGJ5dGVzICAzKjTkuKrlrZfoioLnmoTkv53nlZnkvY1cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKHdpZHRoID4+PiA4KSAmIDB4RkYsIC8vIHdpZHRoOiAyIGJ5dGVzXG4gICAgICAgICAgICAod2lkdGgpICYgMHhGRixcbiAgICAgICAgICAgIChoZWlnaHQgPj4+IDgpICYgMHhGRiwgLy8gaGVpZ2h0OiAyIGJ5dGVzXG4gICAgICAgICAgICAoaGVpZ2h0KSAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDQ4LCAweDAwLCAweDAwLCAvLyBob3JpenJlc29sdXRpb246IDQgYnl0ZXMg5bi45pWwXG4gICAgICAgICAgICAweDAwLCAweDQ4LCAweDAwLCAweDAwLCAvLyB2ZXJ0cmVzb2x1dGlvbjogNCBieXRlcyDluLjmlbBcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkOiA0IGJ5dGVzIOS/neeVmeS9jVxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgLy8gZnJhbWVfY291bnRcbiAgICAgICAgICAgIC8vIGZyYW1lX2NvdW506KGo5piO5aSa5bCR5bin5Y6L57yp6KeG6aKR5a2Y5YKo5Zyo5q+P5Liq5qC35pys44CC6buY6K6k5pivMSzmr4/moLfkuIDluKc75a6D5Y+v6IO96LaF6L+HMeavj+S4quagt+acrOeahOWkmuS4quW4p+aVsFxuICAgICAgICAgICAgMHgwNCwgLy9cdHN0cmxlbiBjb21wcmVzc29ybmFtZTogMzIgYnl0ZXNcdFx0XHRTdHJpbmdbMzJdXG4gICAgICAgICAgICAvLyAzMuS4qjggYml0ICAgIOesrOS4gOS4qjhiaXTooajnpLrplb/luqYs5Ymp5LiLMzHkuKo4Yml06KGo56S65YaF5a65XG4gICAgICAgICAgICAweDY3LCAweDMxLCAweDMxLCAweDMxLCAvLyBjb21wcmVzc29ybmFtZTogMzIgYnl0ZXMgICAg57+76K+R6L+H5p2l5pivZzExMVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy9cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MTgsIC8vIGRlcHRoIOminOiJsua3seW6plxuICAgICAgICAgICAgMHhGRiwgMHhGRiAvLyBwcmVfZGVmaW5lZCA9IC0xXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuYXZjMSwgZGF0YSwgTVA0LmJveChNUDQudHlwZXMuYXZjQywgYXZjYykpO1xuICAgIH1cblxuICAgIC8vIE1vdmllIEV4dGVuZHMgYm94XG4gICAgc3RhdGljIG12ZXgobWV0YSkge1xuICAgICAgICBpZiAobWV0YS5sZW5ndGggPiAxKSB7IHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tdmV4LCBNUDQudHJleChtZXRhWzBdKSwgTVA0LnRyZXgobWV0YVsxXSkpOyB9IGVsc2UgeyByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubXZleCwgTVA0LnRyZXgobWV0YVswXSkpOyB9XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgRXh0ZW5kcyBib3hcbiAgICBzdGF0aWMgdHJleChtZXRhKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrSWQgPSBtZXRhLmlkO1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAodHJhY2tJZCA+Pj4gMjQpICYgMHhGRiwgLy8gdHJhY2tfSURcbiAgICAgICAgICAgICh0cmFja0lkID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKHRyYWNrSWQgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgICh0cmFja0lkKSAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLCAvLyBkZWZhdWx0X3NhbXBsZV9kZXNjcmlwdGlvbl9pbmRleFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZGVmYXVsdF9zYW1wbGVfZHVyYXRpb25cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGRlZmF1bHRfc2FtcGxlX3NpemVcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDEgLy8gZGVmYXVsdF9zYW1wbGVfZmxhZ3NcbiAgICAgICAgXSk7XG4gICAgICAgIC8vIGlmIChtZXRhLnR5cGUgIT09ICd2aWRlbycpIHtcbiAgICAgICAgLy8gICAgIGRhdGFbZGF0YS5sZW5ndGggLSAxXSA9IDB4MDA7XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyZXgsIGRhdGEpO1xuICAgIH1cblxuICAgIC8vIE1vdmllIGZyYWdtZW50IGJveFxuICAgIHN0YXRpYyBtb29mKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tb29mLCBNUDQubWZoZCh0cmFjay5zZXF1ZW5jZU51bWJlciksIE1QNC50cmFmKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1maGQoc2VxdWVuY2VOdW1iZXIpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4+IDI0KSAmIDB4RkYsIC8vIHNlcXVlbmNlX251bWJlcjogaW50MzJcbiAgICAgICAgICAgIChzZXF1ZW5jZU51bWJlciA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChzZXF1ZW5jZU51bWJlciA+Pj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgKHNlcXVlbmNlTnVtYmVyKSAmIDB4RkZcbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZmhkLCBkYXRhKTtcbiAgICB9XG5cbiAgICAvLyBUcmFjayBmcmFnbWVudCBib3hcbiAgICBzdGF0aWMgdHJhZih0cmFjaywgYmFzZU1lZGlhRGVjb2RlVGltZSkge1xuICAgICAgICBjb25zdCB0cmFja0lkID0gdHJhY2suaWQ7XG5cbiAgICAgICAgLy8gVHJhY2sgZnJhZ21lbnQgaGVhZGVyIGJveFxuICAgICAgICBjb25zdCB0ZmhkID0gTVA0LmJveChNUDQudHlwZXMudGZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSAmIGZsYWdzXG4gICAgICAgICAgICAodHJhY2tJZCA+Pj4gMjQpICYgMHhGRiwgLy8gdHJhY2tfSURcbiAgICAgICAgICAgICh0cmFja0lkID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKHRyYWNrSWQgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgICh0cmFja0lkKSAmIDB4RkZcbiAgICAgICAgXSkpO1xuICAgICAgICAvLyBUcmFjayBGcmFnbWVudCBEZWNvZGUgVGltZVxuICAgICAgICBjb25zdCB0ZmR0ID0gTVA0LmJveChNUDQudHlwZXMudGZkdCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdmVyc2lvbigwKSAmIGZsYWdzXG4gICAgICAgICAgICAoYmFzZU1lZGlhRGVjb2RlVGltZSA+Pj4gMjQpICYgMHhGRiwgLy8gYmFzZU1lZGlhRGVjb2RlVGltZTogaW50MzJcbiAgICAgICAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lKSAmIDB4RkZcbiAgICAgICAgXSkpO1xuICAgICAgICBjb25zdCBzZHRwID0gTVA0LnNkdHAodHJhY2spO1xuICAgICAgICBjb25zdCB0cnVuID0gTVA0LnRydW4odHJhY2ssIHNkdHAuYnl0ZUxlbmd0aCArIDE2ICsgMTYgKyA4ICsgMTYgKyA4ICsgOCk7XG5cbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyYWYsIHRmaGQsIHRmZHQsIHRydW4sIHNkdHApO1xuICAgIH1cblxuICAgIC8vIFNhbXBsZSBEZXBlbmRlbmN5IFR5cGUgYm94XG4gICAgc3RhdGljIHNkdHAodHJhY2spIHtcbiAgICAgICAgY29uc3Qgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW107XG4gICAgICAgIGNvbnN0IHNhbXBsZUNvdW50ID0gc2FtcGxlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSg0ICsgc2FtcGxlQ291bnQpO1xuICAgICAgICAvLyAwfjQgYnl0ZXM6IHZlcnNpb24oMCkgJiBmbGFnc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbXBsZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZsYWdzID0gc2FtcGxlc1tpXS5mbGFncztcbiAgICAgICAgICAgIGRhdGFbaSArIDRdID0gKGZsYWdzLmlzTGVhZGluZyA8PCA2KSAvLyBpc19sZWFkaW5nOiAyIChiaXQpXG4gICAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgICAgIChmbGFncy5kZXBlbmRzT24gPDwgNCkgLy8gc2FtcGxlX2RlcGVuZHNfb25cbiAgICAgICAgICAgICAgICB8XG4gICAgICAgICAgICAgICAgKGZsYWdzLmlzRGVwZW5kZWRPbiA8PCAyKSAvLyBzYW1wbGVfaXNfZGVwZW5kZWRfb25cbiAgICAgICAgICAgICAgICB8XG4gICAgICAgICAgICAgICAgKGZsYWdzLmhhc1JlZHVuZGFuY3kpOyAvLyBzYW1wbGVfaGFzX3JlZHVuZGFuY3lcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc2R0cCwgZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgZnJhZ21lbnQgcnVuIGJveFxuICAgIHN0YXRpYyB0cnVuKHRyYWNrLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3Qgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW107XG4gICAgICAgIGNvbnN0IHNhbXBsZUNvdW50ID0gc2FtcGxlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRhdGFTaXplID0gMTIgKyAxNiAqIHNhbXBsZUNvdW50O1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YVNpemUpO1xuICAgICAgICBvZmZzZXQgKz0gOCArIGRhdGFTaXplO1xuXG4gICAgICAgIGRhdGEuc2V0KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MEYsIDB4MDEsIC8vIHZlcnNpb24oMCkgJiBmbGFnc1xuICAgICAgICAgICAgKHNhbXBsZUNvdW50ID4+PiAyNCkgJiAweEZGLCAvLyBzYW1wbGVfY291bnRcbiAgICAgICAgICAgIChzYW1wbGVDb3VudCA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChzYW1wbGVDb3VudCA+Pj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgKHNhbXBsZUNvdW50KSAmIDB4RkYsXG4gICAgICAgICAgICAob2Zmc2V0ID4+PiAyNCkgJiAweEZGLCAvLyBkYXRhX29mZnNldFxuICAgICAgICAgICAgKG9mZnNldCA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChvZmZzZXQgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIChvZmZzZXQpICYgMHhGRlxuICAgICAgICBdLCAwKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbXBsZUNvdW50OyBpKyspIHtcblxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBzYW1wbGVzW2ldLmR1cmF0aW9uO1xuXG4gICAgICAgICAgICBjb25zdCBzaXplID0gc2FtcGxlc1tpXS5zaXplO1xuICAgICAgICAgICAgY29uc3QgZmxhZ3MgPSBzYW1wbGVzW2ldLmZsYWdzO1xuICAgICAgICAgICAgY29uc3QgY3RzID0gc2FtcGxlc1tpXS5jdHM7XG4gICAgICAgICAgICBkYXRhLnNldChbXG4gICAgICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAyNCkgJiAweEZGLCAvLyBzYW1wbGVfZHVyYXRpb25cbiAgICAgICAgICAgICAgICAoZHVyYXRpb24gPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKGR1cmF0aW9uID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKGR1cmF0aW9uKSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKHNpemUgPj4+IDI0KSAmIDB4RkYsIC8vIHNhbXBsZV9zaXplXG4gICAgICAgICAgICAgICAgKHNpemUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKHNpemUgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoc2l6ZSkgJiAweEZGLFxuICAgICAgICAgICAgICAgIChmbGFncy5pc0xlYWRpbmcgPDwgMikgfCBmbGFncy5kZXBlbmRzT24sIC8vIHNhbXBsZV9mbGFnc1xuICAgICAgICAgICAgICAgIChmbGFncy5pc0RlcGVuZGVkT24gPDwgNikgfCAoZmxhZ3MuaGFzUmVkdW5kYW5jeSA8PCA0KSB8IGZsYWdzLmlzTm9uU3luYyxcbiAgICAgICAgICAgICAgICAweDAwLCAweDAwLCAvLyBzYW1wbGVfZGVncmFkYXRpb25fcHJpb3JpdHlcbiAgICAgICAgICAgICAgICAoY3RzID4+PiAyNCkgJiAweEZGLCAvLyBzYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXRcbiAgICAgICAgICAgICAgICAoY3RzID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgICAgIChjdHMgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoY3RzKSAmIDB4RkZcbiAgICAgICAgICAgIF0sIDEyICsgMTYgKiBpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJ1biwgZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1kYXQoZGF0YSkge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRhdCwgZGF0YSk7XG4gICAgfVxuXG59XG5cbk1QNC5pbml0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IE1QNDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tcDQvbXA0cmVtdXguanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* eslint-disable */\n\n\nvar _flvTag = __webpack_require__(8);\n\nvar _flvTag2 = _interopRequireDefault(_flvTag);\n\nvar _tagdemux = __webpack_require__(0);\n\nvar _tagdemux2 = _interopRequireDefault(_tagdemux);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FlvParse = function () {\n    function FlvParse() {\n        _classCallCheck(this, FlvParse);\n\n        this.tempUint8 = new Uint8Array();\n        this.arrTag = [];\n        this.index = 0;\n        this.tempArr = [];\n        this.stop = false;\n        this.offset = 0;\n        this.frist = true;\n        this._hasAudio = false;\n        this._hasVideo = false;\n    }\n\n    /**\n     * 接受 外部的flv二进制数据\n     */\n\n\n    _createClass(FlvParse, [{\n        key: 'setFlv',\n        value: function setFlv(uint8) {\n            this.stop = false;\n            this.arrTag = [];\n            this.index = 0;\n            this.tempUint8 = uint8;\n            if (this.tempUint8.length > 13 && this.tempUint8[0] == 70 && this.tempUint8[1] == 76 && this.tempUint8[2] == 86) {\n                this.probe(this.tempUint8.buffer);\n                this.read(9); // 略掉9个字节的flv header tag\n                this.read(4); // 略掉第一个4字节的 tag size\n                this.parse();\n                this.frist = false;\n                return this.offset;\n            } else if (!this.frist) {\n                return this.parse();\n            } else {\n                return this.offset;\n            }\n        }\n    }, {\n        key: 'probe',\n        value: function probe(buffer) {\n            var data = new Uint8Array(buffer);\n            var mismatch = { match: false };\n\n            if (data[0] !== 0x46 || data[1] !== 0x4C || data[2] !== 0x56 || data[3] !== 0x01) {\n                return mismatch;\n            }\n\n            var hasAudio = (data[4] & 4) >>> 2 !== 0;\n            var hasVideo = (data[4] & 1) !== 0;\n\n            if (!hasAudio && !hasVideo) {\n                return mismatch;\n            }\n            this._hasAudio = _tagdemux2.default._hasAudio = hasAudio;\n            this._hasVideo = _tagdemux2.default._hasVideo = hasVideo;\n            return {\n                match: true,\n                hasAudioTrack: hasAudio,\n                hasVideoTrack: hasVideo\n            };\n        }\n\n        /**\n         * 开始解析\n         */\n\n    }, {\n        key: 'parse',\n        value: function parse() {\n\n            while (this.index < this.tempUint8.length && !this.stop) {\n                this.offset = this.index;\n\n                var t = new _flvTag2.default();\n                if (this.tempUint8.length - this.index >= 11) {\n                    t.tagType = this.read(1)[0]; // 取出tag类型\n                    t.dataSize = this.read(3); // 取出包体大小\n                    t.Timestamp = this.read(4); // 取出解码时间\n                    t.StreamID = this.read(3); // 取出stream id\n                } else {\n                    this.stop = true;\n                    continue;\n                }\n                if (this.tempUint8.length - this.index >= this.getBodySum(t.dataSize) + 4) {\n                    t.body = this.read(this.getBodySum(t.dataSize)); // 取出body\n                    if (t.tagType == 9 && this._hasVideo) {\n                        this.arrTag.push(t);\n                    }\n                    if (t.tagType == 8 && this._hasAudio) {\n                        this.arrTag.push(t);\n                    }\n                    if (t.tagType == 18) {\n                        this.arrTag.push(t);\n                    }\n                    this.read(4);\n                } else {\n                    this.stop = true;\n                    continue;\n                }\n                this.offset = this.index;\n            }\n\n            return this.offset;\n        }\n    }, {\n        key: 'read',\n        value: function read(length) {\n            // let u8a = new Uint8Array(length);\n            // u8a.set(this.tempUint8.subarray(this.index, this.index + length), 0);\n            var u8a = this.tempUint8.slice(this.index, this.index + length);\n            this.index += length;\n            return u8a;\n        }\n\n        /**\n         * 计算tag包体大小\n         */\n\n    }, {\n        key: 'getBodySum',\n        value: function getBodySum(arr) {\n            var _str = '';\n            _str += arr[0].toString(16).length == 1 ? '0' + arr[0].toString(16) : arr[0].toString(16);\n            _str += arr[1].toString(16).length == 1 ? '0' + arr[1].toString(16) : arr[1].toString(16);\n            _str += arr[2].toString(16).length == 1 ? '0' + arr[2].toString(16) : arr[2].toString(16);\n            return parseInt(_str, 16);\n        }\n    }]);\n\n    return FlvParse;\n}();\n\nexports.default = new FlvParse();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvZmx2UGFyc2UuanM/Y2FlOCJdLCJuYW1lcyI6WyJGbHZQYXJzZSIsInRlbXBVaW50OCIsIlVpbnQ4QXJyYXkiLCJhcnJUYWciLCJpbmRleCIsInRlbXBBcnIiLCJzdG9wIiwib2Zmc2V0IiwiZnJpc3QiLCJfaGFzQXVkaW8iLCJfaGFzVmlkZW8iLCJ1aW50OCIsImxlbmd0aCIsInByb2JlIiwiYnVmZmVyIiwicmVhZCIsInBhcnNlIiwiZGF0YSIsIm1pc21hdGNoIiwibWF0Y2giLCJoYXNBdWRpbyIsImhhc1ZpZGVvIiwiaGFzQXVkaW9UcmFjayIsImhhc1ZpZGVvVHJhY2siLCJ0IiwidGFnVHlwZSIsImRhdGFTaXplIiwiVGltZXN0YW1wIiwiU3RyZWFtSUQiLCJnZXRCb2R5U3VtIiwiYm9keSIsInB1c2giLCJ1OGEiLCJzbGljZSIsImFyciIsIl9zdHIiLCJ0b1N0cmluZyIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7cWpCQUFBOzs7QUFDQTs7OztBQUNBOzs7Ozs7OztJQUNNQSxRO0FBQ0Ysd0JBQWM7QUFBQTs7QUFDVixhQUFLQyxTQUFMLEdBQWlCLElBQUlDLFVBQUosRUFBakI7QUFDQSxhQUFLQyxNQUFMLEdBQWMsRUFBZDtBQUNBLGFBQUtDLEtBQUwsR0FBYSxDQUFiO0FBQ0EsYUFBS0MsT0FBTCxHQUFlLEVBQWY7QUFDQSxhQUFLQyxJQUFMLEdBQVksS0FBWjtBQUNBLGFBQUtDLE1BQUwsR0FBYyxDQUFkO0FBQ0EsYUFBS0MsS0FBTCxHQUFhLElBQWI7QUFDQSxhQUFLQyxTQUFMLEdBQWlCLEtBQWpCO0FBQ0EsYUFBS0MsU0FBTCxHQUFpQixLQUFqQjtBQUNIOztBQUVEOzs7Ozs7OytCQUdPQyxLLEVBQU87QUFDVixpQkFBS0wsSUFBTCxHQUFZLEtBQVo7QUFDQSxpQkFBS0gsTUFBTCxHQUFjLEVBQWQ7QUFDQSxpQkFBS0MsS0FBTCxHQUFhLENBQWI7QUFDQSxpQkFBS0gsU0FBTCxHQUFpQlUsS0FB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aEIsRUFBb0J4QixNQUFwQixJQUE4QixDQUE5QixHQUFrQyxNQUFNc0IsSUFBSSxDQUFKLEVBQU9FLFFBQVAsQ0FBZ0IsRUFBaEIsQ0FBeEMsR0FBOERGLElBQUksQ0FBSixFQUFPRSxRQUFQLENBQWdCLEVBQWhCLENBQXZFO0FBQ0FELG9CQUFTRCxJQUFJLENBQUosRUFBT0UsUUFBUCxDQUFnQixFQUFoQixFQUFvQnhCLE1BQXBCLElBQThCLENBQTlCLEdBQWtDLE1BQU1zQixJQUFJLENBQUosRUFBT0UsUUFBUCxDQUFnQixFQUFoQixDQUF4QyxHQUE4REYsSUFBSSxDQUFKLEVBQU9FLFFBQVAsQ0FBZ0IsRUFBaEIsQ0FBdkU7QUFDQSxtQkFBT0MsU0FBU0YsSUFBVCxFQUFlLEVBQWYsQ0FBUDtBQUNIOzs7Ozs7a0JBRVUsSUFBSW5DLFFBQUosRSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCB0YWcgZnJvbSAnLi9mbHZUYWcuanMnO1xuaW1wb3J0IHRhZ2RlbXV4IGZyb20gJy4vdGFnZGVtdXgnO1xuY2xhc3MgRmx2UGFyc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRlbXBVaW50OCA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIHRoaXMuYXJyVGFnID0gW107XG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgICB0aGlzLnRlbXBBcnIgPSBbXTtcbiAgICAgICAgdGhpcy5zdG9wID0gZmFsc2U7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5mcmlzdCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2hhc0F1ZGlvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2hhc1ZpZGVvID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5o6l5Y+XIOWklumDqOeahGZsduS6jOi/m+WItuaVsOaNrlxuICAgICAqL1xuICAgIHNldEZsdih1aW50OCkge1xuICAgICAgICB0aGlzLnN0b3AgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hcnJUYWcgPSBbXTtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMudGVtcFVpbnQ4ID0gdWludDg7XG4gICAgICAgIGlmICh0aGlzLnRlbXBVaW50OC5sZW5ndGggPiAxMyAmJiB0aGlzLnRlbXBVaW50OFswXSA9PSA3MCAmJiB0aGlzLnRlbXBVaW50OFsxXSA9PSA3NiAmJiB0aGlzLnRlbXBVaW50OFsyXSA9PSA4Nikge1xuICAgICAgICAgICAgdGhpcy5wcm9iZSh0aGlzLnRlbXBVaW50OC5idWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5yZWFkKDkpOyAvLyDnlaXmjok55Liq5a2X6IqC55qEZmx2IGhlYWRlciB0YWdcbiAgICAgICAgICAgIHRoaXMucmVhZCg0KTsgLy8g55Wl5o6J56ys5LiA5LiqNOWtl+iKgueahCB0YWcgc2l6ZVxuICAgICAgICAgICAgdGhpcy5wYXJzZSgpO1xuICAgICAgICAgICAgdGhpcy5mcmlzdCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0O1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmZyaXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb2JlKGJ1ZmZlcikge1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY29uc3QgbWlzbWF0Y2ggPSB7IG1hdGNoOiBmYWxzZSB9O1xuXG4gICAgICAgIGlmIChkYXRhWzBdICE9PSAweDQ2IHx8IGRhdGFbMV0gIT09IDB4NEMgfHwgZGF0YVsyXSAhPT0gMHg1NiB8fCBkYXRhWzNdICE9PSAweDAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbWlzbWF0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXNBdWRpbyA9ICgoZGF0YVs0XSAmIDQpID4+PiAyKSAhPT0gMDtcbiAgICAgICAgY29uc3QgaGFzVmlkZW8gPSAoZGF0YVs0XSAmIDEpICE9PSAwO1xuXG4gICAgICAgIGlmICghaGFzQXVkaW8gJiYgIWhhc1ZpZGVvKSB7XG4gICAgICAgICAgICByZXR1cm4gbWlzbWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGFzQXVkaW8gPSB0YWdkZW11eC5faGFzQXVkaW8gPSBoYXNBdWRpbztcbiAgICAgICAgdGhpcy5faGFzVmlkZW8gPSB0YWdkZW11eC5faGFzVmlkZW8gPSBoYXNWaWRlbztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1hdGNoOiB0cnVlLFxuICAgICAgICAgICAgaGFzQXVkaW9UcmFjazogaGFzQXVkaW8sXG4gICAgICAgICAgICBoYXNWaWRlb1RyYWNrOiBoYXNWaWRlb1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW8gOWni+ino+aekFxuICAgICAqL1xuICAgIHBhcnNlKCkge1xuXG4gICAgICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZW1wVWludDgubGVuZ3RoICYmICF0aGlzLnN0b3ApIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5pbmRleDtcblxuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyB0YWcoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBVaW50OC5sZW5ndGggLSB0aGlzLmluZGV4ID49IDExKSB7XG4gICAgICAgICAgICAgICAgdC50YWdUeXBlID0gKHRoaXMucmVhZCgxKVswXSk7IC8vIOWPluWHunRhZ+exu+Wei1xuICAgICAgICAgICAgICAgIHQuZGF0YVNpemUgPSB0aGlzLnJlYWQoMyk7IC8vIOWPluWHuuWMheS9k+Wkp+Wwj1xuICAgICAgICAgICAgICAgIHQuVGltZXN0YW1wID0gdGhpcy5yZWFkKDQpOyAvLyDlj5blh7rop6PnoIHml7bpl7RcbiAgICAgICAgICAgICAgICB0LlN0cmVhbUlEID0gdGhpcy5yZWFkKDMpOyAvLyDlj5blh7pzdHJlYW0gaWRcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBVaW50OC5sZW5ndGggLSB0aGlzLmluZGV4ID49ICh0aGlzLmdldEJvZHlTdW0odC5kYXRhU2l6ZSkgKyA0KSkge1xuICAgICAgICAgICAgICAgIHQuYm9keSA9IHRoaXMucmVhZCh0aGlzLmdldEJvZHlTdW0odC5kYXRhU2l6ZSkpOyAvLyDlj5blh7pib2R5XG4gICAgICAgICAgICAgICAgaWYgKHQudGFnVHlwZSA9PSA5ICYmIHRoaXMuX2hhc1ZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXJyVGFnLnB1c2godCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0LnRhZ1R5cGUgPT0gOCAmJiB0aGlzLl9oYXNBdWRpbykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFyclRhZy5wdXNoKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodC50YWdUeXBlID09IDE4ICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFyclRhZy5wdXNoKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlYWQoNCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9mZnNldCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXQ7XG4gICAgfVxuICAgIHJlYWQobGVuZ3RoKSB7XG4gICAgICAgIC8vIGxldCB1OGEgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgICAgICAvLyB1OGEuc2V0KHRoaXMudGVtcFVpbnQ4LnN1YmFycmF5KHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggKyBsZW5ndGgpLCAwKTtcbiAgICAgICAgY29uc3QgdThhID0gdGhpcy50ZW1wVWludDguc2xpY2UodGhpcy5pbmRleCwgdGhpcy5pbmRleCArIGxlbmd0aCk7XG4gICAgICAgIHRoaXMuaW5kZXggKz0gbGVuZ3RoO1xuICAgICAgICByZXR1cm4gdThhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiuoeeul3RhZ+WMheS9k+Wkp+Wwj1xuICAgICAqL1xuICAgIGdldEJvZHlTdW0oYXJyKSB7XG4gICAgICAgIGxldCBfc3RyID0gJyc7XG4gICAgICAgIF9zdHIgKz0gKGFyclswXS50b1N0cmluZygxNikubGVuZ3RoID09IDEgPyAnMCcgKyBhcnJbMF0udG9TdHJpbmcoMTYpIDogYXJyWzBdLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIF9zdHIgKz0gKGFyclsxXS50b1N0cmluZygxNikubGVuZ3RoID09IDEgPyAnMCcgKyBhcnJbMV0udG9TdHJpbmcoMTYpIDogYXJyWzFdLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIF9zdHIgKz0gKGFyclsyXS50b1N0cmluZygxNikubGVuZ3RoID09IDEgPyAnMCcgKyBhcnJbMl0udG9TdHJpbmcoMTYpIDogYXJyWzJdLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIHJldHVybiBwYXJzZUludChfc3RyLCAxNik7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IEZsdlBhcnNlKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvZmx2L2ZsdlBhcnNlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n/* eslint-disable */\n\n\nvar _expGolomb = __webpack_require__(7);\n\nvar _expGolomb2 = _interopRequireDefault(_expGolomb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SPSParser = function () {\n    function SPSParser() {\n        _classCallCheck(this, SPSParser);\n    }\n\n    _createClass(SPSParser, null, [{\n        key: '_ebsp2rbsp',\n        value: function _ebsp2rbsp(uint8array) {\n            var src = uint8array;\n            var src_length = src.byteLength;\n            var dst = new Uint8Array(src_length);\n            var dst_idx = 0;\n\n            for (var i = 0; i < src_length; i++) {\n                if (i >= 2) {\n                    // Unescape: Skip 0x03 after 00 00\n                    if (src[i] === 0x03 && src[i - 1] === 0x00 && src[i - 2] === 0x00) {\n                        continue;\n                    }\n                }\n                dst[dst_idx] = src[i];\n                dst_idx++;\n            }\n\n            return new Uint8Array(dst.buffer, 0, dst_idx);\n        }\n    }, {\n        key: 'parseSPS',\n        value: function parseSPS(uint8array) {\n            var rbsp = SPSParser._ebsp2rbsp(uint8array);\n            var gb = new _expGolomb2.default(rbsp);\n\n            gb.readByte();\n            var profile_idc = gb.readByte(); // profile_idc\n            gb.readByte(); // constraint_set_flags[5] + reserved_zero[3]\n            var level_idc = gb.readByte(); // level_idc\n            gb.readUEG(); // seq_parameter_set_id\n\n            var profile_string = SPSParser.getProfileString(profile_idc);\n            var level_string = SPSParser.getLevelString(level_idc);\n            var chroma_format_idc = 1;\n            var chroma_format = 420;\n            var chroma_format_table = [0, 420, 422, 444];\n            var bit_depth = 8;\n\n            if (profile_idc === 100 || profile_idc === 110 || profile_idc === 122 || profile_idc === 244 || profile_idc === 44 || profile_idc === 83 || profile_idc === 86 || profile_idc === 118 || profile_idc === 128 || profile_idc === 138 || profile_idc === 144) {\n\n                chroma_format_idc = gb.readUEG();\n                if (chroma_format_idc === 3) {\n                    gb.readBits(1); // separate_colour_plane_flag\n                }\n                if (chroma_format_idc <= 3) {\n                    chroma_format = chroma_format_table[chroma_format_idc];\n                }\n\n                bit_depth = gb.readUEG() + 8; // bit_depth_luma_minus8\n                gb.readUEG(); // bit_depth_chroma_minus8\n                gb.readBits(1); // qpprime_y_zero_transform_bypass_flag\n                if (gb.readBool()) {\n                    // seq_scaling_matrix_present_flag\n                    var scaling_list_count = chroma_format_idc !== 3 ? 8 : 12;\n                    for (var i = 0; i < scaling_list_count; i++) {\n                        if (gb.readBool()) {\n                            // seq_scaling_list_present_flag\n                            if (i < 6) {\n                                SPSParser._skipScalingList(gb, 16);\n                            } else {\n                                SPSParser._skipScalingList(gb, 64);\n                            }\n                        }\n                    }\n                }\n            }\n            gb.readUEG(); // log2_max_frame_num_minus4\n            var pic_order_cnt_type = gb.readUEG();\n            if (pic_order_cnt_type === 0) {\n                gb.readUEG(); // log2_max_pic_order_cnt_lsb_minus_4\n            } else if (pic_order_cnt_type === 1) {\n                gb.readBits(1); // delta_pic_order_always_zero_flag\n                gb.readSEG(); // offset_for_non_ref_pic\n                gb.readSEG(); // offset_for_top_to_bottom_field\n                var num_ref_frames_in_pic_order_cnt_cycle = gb.readUEG();\n                for (var _i = 0; _i < num_ref_frames_in_pic_order_cnt_cycle; _i++) {\n                    gb.readSEG(); // offset_for_ref_frame\n                }\n            }\n            gb.readUEG(); // max_num_ref_frames\n            gb.readBits(1); // gaps_in_frame_num_value_allowed_flag\n\n            var pic_width_in_mbs_minus1 = gb.readUEG();\n            var pic_height_in_map_units_minus1 = gb.readUEG();\n\n            var frame_mbs_only_flag = gb.readBits(1);\n            if (frame_mbs_only_flag === 0) {\n                gb.readBits(1); // mb_adaptive_frame_field_flag\n            }\n            gb.readBits(1); // direct_8x8_inference_flag\n\n            var frame_crop_left_offset = 0;\n            var frame_crop_right_offset = 0;\n            var frame_crop_top_offset = 0;\n            var frame_crop_bottom_offset = 0;\n\n            var frame_cropping_flag = gb.readBool();\n            if (frame_cropping_flag) {\n                frame_crop_left_offset = gb.readUEG();\n                frame_crop_right_offset = gb.readUEG();\n                frame_crop_top_offset = gb.readUEG();\n                frame_crop_bottom_offset = gb.readUEG();\n            }\n\n            var sar_width = 1,\n                sar_height = 1;\n            var fps = 0,\n                fps_fixed = true,\n                fps_num = 0,\n                fps_den = 0;\n\n            var vui_parameters_present_flag = gb.readBool();\n            if (vui_parameters_present_flag) {\n                if (gb.readBool()) {\n                    // aspect_ratio_info_present_flag\n                    var aspect_ratio_idc = gb.readByte();\n                    var sar_w_table = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2];\n                    var sar_h_table = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1];\n\n                    if (aspect_ratio_idc > 0 && aspect_ratio_idc < 16) {\n                        sar_width = sar_w_table[aspect_ratio_idc - 1];\n                        sar_height = sar_h_table[aspect_ratio_idc - 1];\n                    } else if (aspect_ratio_idc === 255) {\n                        sar_width = gb.readByte() << 8 | gb.readByte();\n                        sar_height = gb.readByte() << 8 | gb.readByte();\n                    }\n                }\n\n                if (gb.readBool()) {\n                    // overscan_info_present_flag\n                    gb.readBool(); // overscan_appropriate_flag\n                }\n                if (gb.readBool()) {\n                    // video_signal_type_present_flag\n                    gb.readBits(4); // video_format & video_full_range_flag\n                    if (gb.readBool()) {\n                        // colour_description_present_flag\n                        gb.readBits(24); // colour_primaries & transfer_characteristics & matrix_coefficients\n                    }\n                }\n                if (gb.readBool()) {\n                    // chroma_loc_info_present_flag\n                    gb.readUEG(); // chroma_sample_loc_type_top_field\n                    gb.readUEG(); // chroma_sample_loc_type_bottom_field\n                }\n                if (gb.readBool()) {\n                    // timing_info_present_flag\n                    var num_units_in_tick = gb.readBits(32);\n                    var time_scale = gb.readBits(32);\n                    fps_fixed = gb.readBool(); // fixed_frame_rate_flag\n\n                    fps_num = time_scale;\n                    fps_den = num_units_in_tick * 2;\n                    fps = fps_num / fps_den;\n                }\n            }\n\n            var sarScale = 1;\n            if (sar_width !== 1 || sar_height !== 1) {\n                sarScale = sar_width / sar_height;\n            }\n\n            var crop_unit_x = 0,\n                crop_unit_y = 0;\n            if (chroma_format_idc === 0) {\n                crop_unit_x = 1;\n                crop_unit_y = 2 - frame_mbs_only_flag;\n            } else {\n                var sub_wc = chroma_format_idc === 3 ? 1 : 2;\n                var sub_hc = chroma_format_idc === 1 ? 2 : 1;\n                crop_unit_x = sub_wc;\n                crop_unit_y = sub_hc * (2 - frame_mbs_only_flag);\n            }\n\n            var codec_width = (pic_width_in_mbs_minus1 + 1) * 16;\n            var codec_height = (2 - frame_mbs_only_flag) * ((pic_height_in_map_units_minus1 + 1) * 16);\n\n            codec_width -= (frame_crop_left_offset + frame_crop_right_offset) * crop_unit_x;\n            codec_height -= (frame_crop_top_offset + frame_crop_bottom_offset) * crop_unit_y;\n\n            var present_width = Math.ceil(codec_width * sarScale);\n\n            gb.destroy();\n            gb = null;\n\n            return {\n                profile_string: profile_string, // baseline, high, high10, ...\n                level_string: level_string, // 3, 3.1, 4, 4.1, 5, 5.1, ...\n                bit_depth: bit_depth, // 8bit, 10bit, ...\n                chroma_format: chroma_format, // 4:2:0, 4:2:2, ...\n                chroma_format_string: SPSParser.getChromaFormatString(chroma_format),\n\n                frame_rate: {\n                    fixed: fps_fixed,\n                    fps: fps,\n                    fps_den: fps_den,\n                    fps_num: fps_num\n                },\n\n                sar_ratio: {\n                    width: sar_width,\n                    height: sar_height\n                },\n\n                codec_size: {\n                    width: codec_width,\n                    height: codec_height\n                },\n\n                present_size: {\n                    width: present_width,\n                    height: codec_height\n                }\n            };\n        }\n    }, {\n        key: '_skipScalingList',\n        value: function _skipScalingList(gb, count) {\n            var last_scale = 8,\n                next_scale = 8;\n            var delta_scale = 0;\n            for (var i = 0; i < count; i++) {\n                if (next_scale !== 0) {\n                    delta_scale = gb.readSEG();\n                    next_scale = (last_scale + delta_scale + 256) % 256;\n                }\n                last_scale = next_scale === 0 ? last_scale : next_scale;\n            }\n        }\n    }, {\n        key: 'getProfileString',\n        value: function getProfileString(profile_idc) {\n            switch (profile_idc) {\n                case 66:\n                    return 'Baseline';\n                case 77:\n                    return 'Main';\n                case 88:\n                    return 'Extended';\n                case 100:\n                    return 'High';\n                case 110:\n                    return 'High10';\n                case 122:\n                    return 'High422';\n                case 244:\n                    return 'High444';\n                default:\n                    return 'Unknown';\n            }\n        }\n    }, {\n        key: 'getLevelString',\n        value: function getLevelString(level_idc) {\n            return (level_idc / 10).toFixed(1);\n        }\n    }, {\n        key: 'getChromaFormatString',\n        value: function getChromaFormatString(chroma) {\n            switch (chroma) {\n                case 420:\n                    return '4:2:0';\n                case 422:\n                    return '4:2:2';\n                case 444:\n                    return '4:4:4';\n                default:\n                    return 'Unknown';\n            }\n        }\n    }]);\n\n    return SPSParser;\n}();\n\nexports.default = SPSParser;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvc3BzLXBhcnNlci5qcz82ZWE1Il0sIm5hbWVzIjpbIlNQU1BhcnNlciIsInVpbnQ4YXJyYXkiLCJzcmMiLCJzcmNfbGVuZ3RoIiwiYnl0ZUxlbmd0aCIsImRzdCIsIlVpbnQ4QXJyYXkiLCJkc3RfaWR4IiwiaSIsImJ1ZmZlciIsInJic3AiLCJfZWJzcDJyYnNwIiwiZ2IiLCJyZWFkQnl0ZSIsInByb2ZpbGVfaWRjIiwibGV2ZWxfaWRjIiwicmVhZFVFRyIsInByb2ZpbGVfc3RyaW5nIiwiZ2V0UHJvZmlsZVN0cmluZyIsImxldmVsX3N0cmluZyIsImdldExldmVsU3RyaW5nIiwiY2hyb21hX2Zvcm1hdF9pZGMiLCJjaHJvbWFfZm9ybWF0IiwiY2hyb21hX2Zvcm1hdF90YWJsZSIsImJpdF9kZXB0aCIsInJlYWRCaXRzIiwicmVhZEJvb2wiLCJzY2FsaW5nX2xpc3RfY291bnQiLCJfc2tpcFNjYWxpbmdMaXN0IiwicGljX29yZGVyX2NudF90eXBlIiwicmVhZFNFRyIsIm51bV9yZWZfZnJhbWVzX2luX3BpY19vcmRlcl9jbnRfY3ljbGUiLCJwaWNfd2lkdGhfaW5fbWJzX21pbnVzMSIsInBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSIsImZyYW1lX21ic19vbmx5X2ZsYWciLCJmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0IiwiZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQiLCJmcmFtZV9jcm9wX3RvcF9vZmZzZXQiLCJmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQiLCJmcmFtZV9jcm9wcGluZ19mbGFnIiwic2FyX3dpZHRoIiwic2FyX2hlaWdodCIsImZwcyIsImZwc19maXhlZCIsImZwc19udW0iLCJmcHNfZGVuIiwidnVpX3BhcmFtZXRlcnNfcHJlc2VudF9mbGFnIiwiYXNwZWN0X3JhdGlvX2lkYyIsInNhcl93X3RhYmxlIiwic2FyX2hfdGFibGUiLCJudW1fdW5pdHNfaW5fdGljayIsInRpbWVfc2NhbGUiLCJzYXJTY2FsZSIsImNyb3BfdW5pdF94IiwiY3JvcF91bml0X3kiLCJzdWJfd2MiLCJzdWJfaGMiLCJjb2RlY193aWR0aCIsImNvZGVjX2hlaWdodCIsInByZXNlbnRfd2lkdGgiLCJNYXRoIiwiY2VpbCIsImRlc3Ryb3kiLCJjaHJvbWFfZm9ybWF0X3N0cmluZyIsImdldENocm9tYUZvcm1hdFN0cmluZyIsImZyYW1lX3JhdGUiLCJmaXhlZCIsInNhcl9yYXRpbyIsIndpZHRoIiwiaGVpZ2h0IiwiY29kZWNfc2l6ZSIsInByZXNlbnRfc2l6ZSIsImNvdW50IiwibGFzdF9zY2FsZSIsIm5leHRfc2NhbGUiLCJkZWx0YV9zY2FsZSIsInRvRml4ZWQiLCJjaHJvbWEiXSwibWFwcGluZ3MiOiI7Ozs7OztxakJBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBOzs7QUFDQTs7Ozs7Ozs7SUFFTUEsUzs7Ozs7OzttQ0FFZ0JDLFUsRUFBWTtBQUMxQixnQkFBTUMsTUFBTUQsVUFBWjtBQUNBLGdCQUFNRSxhQUFhRCxJQUFJRSxVQUF2QjtBQUNBLGdCQUFNQyxNQUFNLElBQUlDLFVBQUosQ0FBZUgsVUFBZixDQUFaO0FBQ0EsZ0JBQUlJLFVBQVUsQ0FBZDs7QUFFQSxpQkFBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUlMLFVBQXBCLEVBQWdDSyxHQUFoQyxFQUFxQztBQUNqQyxvQkFBSUEsS0FBSyxDQUFULEVBQVk7QUFDUjtBQUNBLHdCQUFJTixJQUFJTSxDQUFKLE1BQVcsSUFBWCxJQUFtQk4sSUFBSU0sSUFBSSxDQUFSLE1BQWUsSUFBbEMsSUFBMENOLElBQUlNLElBQUksQ0FBUixNQUFlLElBQTdELEVBQW1FO0FBQy9EO0FBQ0g7QUFDSjtBQUNESCxvQkFBSUUsT0FBSixJQUFlTCxJQUFJTSxDQUFKLENBQWY7QUFDQUQ7QUFDSDs7QUFFRCxtQkFBTyxJQUFJRCxVQUFKLENBQWVELElBQUlJLE1BQW5CLEVBQTJCLENBQTNCLEVBQThCRixPQUE5QixDQUFQO0FBQ0g7OztpQ0FFZU4sVSxFQUFZO0FBQ3hCLGdCQUFN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QWFFLFdBQWIsR0FBMkIsR0FBNUIsSUFBbUMsR0FBaEQ7QUFDSDtBQUNERiw2QkFBY0MsZUFBZSxDQUFoQixHQUFxQkQsVUFBckIsR0FBa0NDLFVBQS9DO0FBQ0g7QUFDSjs7O3lDQUV1QjVELFcsRUFBYTtBQUNqQyxvQkFBUUEsV0FBUjtBQUNJLHFCQUFLLEVBQUw7QUFDSSwyQkFBTyxVQUFQO0FBQ0oscUJBQUssRUFBTDtBQUNJLDJCQUFPLE1BQVA7QUFDSixxQkFBSyxFQUFMO0FBQ0ksMkJBQU8sVUFBUDtBQUNKLHFCQUFLLEdBQUw7QUFDSSwyQkFBTyxNQUFQO0FBQ0oscUJBQUssR0FBTDtBQUNJLDJCQUFPLFFBQVA7QUFDSixxQkFBSyxHQUFMO0FBQ0ksMkJBQU8sU0FBUDtBQUNKLHFCQUFLLEdBQUw7QUFDSSwyQkFBTyxTQUFQO0FBQ0o7QUFDSSwyQkFBTyxTQUFQO0FBaEJSO0FBa0JIOzs7dUNBRXFCQyxTLEVBQVc7QUFDN0IsbUJBQU8sQ0FBQ0EsWUFBWSxFQUFiLEVBQWlCNkQsT0FBakIsQ0FBeUIsQ0FBekIsQ0FBUDtBQUNIOzs7OENBRTRCQyxNLEVBQVE7QUFDakMsb0JBQVFBLE1BQVI7QUFDSSxxQkFBSyxHQUFMO0FBQ0ksMkJBQU8sT0FBUDtBQUNKLHFCQUFLLEdBQUw7QUFDSSwyQkFBTyxPQUFQO0FBQ0oscUJBQUssR0FBTDtBQUNJLDJCQUFPLE9BQVA7QUFDSjtBQUNJLDJCQUFPLFNBQVA7QUFSUjtBQVVIOzs7Ozs7a0JBSVU3RSxTIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgRXhwR29sb21iIGZyb20gJy4vZXhwLWdvbG9tYi5qcyc7XG5cbmNsYXNzIFNQU1BhcnNlciB7XG5cbiAgICBzdGF0aWMgX2Vic3AycmJzcCh1aW50OGFycmF5KSB7XG4gICAgICAgIGNvbnN0IHNyYyA9IHVpbnQ4YXJyYXk7XG4gICAgICAgIGNvbnN0IHNyY19sZW5ndGggPSBzcmMuYnl0ZUxlbmd0aDtcbiAgICAgICAgY29uc3QgZHN0ID0gbmV3IFVpbnQ4QXJyYXkoc3JjX2xlbmd0aCk7XG4gICAgICAgIGxldCBkc3RfaWR4ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNyY19sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPj0gMikge1xuICAgICAgICAgICAgICAgIC8vIFVuZXNjYXBlOiBTa2lwIDB4MDMgYWZ0ZXIgMDAgMDBcbiAgICAgICAgICAgICAgICBpZiAoc3JjW2ldID09PSAweDAzICYmIHNyY1tpIC0gMV0gPT09IDB4MDAgJiYgc3JjW2kgLSAyXSA9PT0gMHgwMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkc3RbZHN0X2lkeF0gPSBzcmNbaV07XG4gICAgICAgICAgICBkc3RfaWR4Kys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZHN0LmJ1ZmZlciwgMCwgZHN0X2lkeCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlU1BTKHVpbnQ4YXJyYXkpIHtcbiAgICAgICAgY29uc3QgcmJzcCA9IFNQU1BhcnNlci5fZWJzcDJyYnNwKHVpbnQ4YXJyYXkpO1xuICAgICAgICBsZXQgZ2IgPSBuZXcgRXhwR29sb21iKHJic3ApO1xuXG4gICAgICAgIGdiLnJlYWRCeXRlKCk7XG4gICAgICAgIGNvbnN0IHByb2ZpbGVfaWRjID0gZ2IucmVhZEJ5dGUoKTsgLy8gcHJvZmlsZV9pZGNcbiAgICAgICAgZ2IucmVhZEJ5dGUoKTsgLy8gY29uc3RyYWludF9zZXRfZmxhZ3NbNV0gKyByZXNlcnZlZF96ZXJvWzNdXG4gICAgICAgIGNvbnN0IGxldmVsX2lkYyA9IGdiLnJlYWRCeXRlKCk7IC8vIGxldmVsX2lkY1xuICAgICAgICBnYi5yZWFkVUVHKCk7IC8vIHNlcV9wYXJhbWV0ZXJfc2V0X2lkXG5cbiAgICAgICAgY29uc3QgcHJvZmlsZV9zdHJpbmcgPSBTUFNQYXJzZXIuZ2V0UHJvZmlsZVN0cmluZyhwcm9maWxlX2lkYyk7XG4gICAgICAgIGNvbnN0IGxldmVsX3N0cmluZyA9IFNQU1BhcnNlci5nZXRMZXZlbFN0cmluZyhsZXZlbF9pZGMpO1xuICAgICAgICBsZXQgY2hyb21hX2Zvcm1hdF9pZGMgPSAxO1xuICAgICAgICBsZXQgY2hyb21hX2Zvcm1hdCA9IDQyMDtcbiAgICAgICAgY29uc3QgY2hyb21hX2Zvcm1hdF90YWJsZSA9IFswLCA0MjAsIDQyMiwgNDQ0XTtcbiAgICAgICAgbGV0IGJpdF9kZXB0aCA9IDg7XG5cbiAgICAgICAgaWYgKHByb2ZpbGVfaWRjID09PSAxMDAgfHwgcHJvZmlsZV9pZGMgPT09IDExMCB8fCBwcm9maWxlX2lkYyA9PT0gMTIyIHx8XG4gICAgICAgICAgICBwcm9maWxlX2lkYyA9PT0gMjQ0IHx8IHByb2ZpbGVfaWRjID09PSA0NCB8fCBwcm9maWxlX2lkYyA9PT0gODMgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSA4NiB8fCBwcm9maWxlX2lkYyA9PT0gMTE4IHx8IHByb2ZpbGVfaWRjID09PSAxMjggfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMzggfHwgcHJvZmlsZV9pZGMgPT09IDE0NCkge1xuXG4gICAgICAgICAgICBjaHJvbWFfZm9ybWF0X2lkYyA9IGdiLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGlmIChjaHJvbWFfZm9ybWF0X2lkYyA9PT0gMykge1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDEpOyAvLyBzZXBhcmF0ZV9jb2xvdXJfcGxhbmVfZmxhZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNocm9tYV9mb3JtYXRfaWRjIDw9IDMpIHtcbiAgICAgICAgICAgICAgICBjaHJvbWFfZm9ybWF0ID0gY2hyb21hX2Zvcm1hdF90YWJsZVtjaHJvbWFfZm9ybWF0X2lkY107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJpdF9kZXB0aCA9IGdiLnJlYWRVRUcoKSArIDg7IC8vIGJpdF9kZXB0aF9sdW1hX21pbnVzOFxuICAgICAgICAgICAgZ2IucmVhZFVFRygpOyAvLyBiaXRfZGVwdGhfY2hyb21hX21pbnVzOFxuICAgICAgICAgICAgZ2IucmVhZEJpdHMoMSk7IC8vIHFwcHJpbWVfeV96ZXJvX3RyYW5zZm9ybV9ieXBhc3NfZmxhZ1xuICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgLy8gc2VxX3NjYWxpbmdfbWF0cml4X3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxpbmdfbGlzdF9jb3VudCA9IChjaHJvbWFfZm9ybWF0X2lkYyAhPT0gMykgPyA4IDogMTI7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2FsaW5nX2xpc3RfY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAvLyBzZXFfc2NhbGluZ19saXN0X3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU1BTUGFyc2VyLl9za2lwU2NhbGluZ0xpc3QoZ2IsIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU1BTUGFyc2VyLl9za2lwU2NhbGluZ0xpc3QoZ2IsIDY0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnYi5yZWFkVUVHKCk7IC8vIGxvZzJfbWF4X2ZyYW1lX251bV9taW51czRcbiAgICAgICAgY29uc3QgcGljX29yZGVyX2NudF90eXBlID0gZ2IucmVhZFVFRygpO1xuICAgICAgICBpZiAocGljX29yZGVyX2NudF90eXBlID09PSAwKSB7XG4gICAgICAgICAgICBnYi5yZWFkVUVHKCk7IC8vIGxvZzJfbWF4X3BpY19vcmRlcl9jbnRfbHNiX21pbnVzXzRcbiAgICAgICAgfSBlbHNlIGlmIChwaWNfb3JkZXJfY250X3R5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIGdiLnJlYWRCaXRzKDEpOyAvLyBkZWx0YV9waWNfb3JkZXJfYWx3YXlzX3plcm9fZmxhZ1xuICAgICAgICAgICAgZ2IucmVhZFNFRygpOyAvLyBvZmZzZXRfZm9yX25vbl9yZWZfcGljXG4gICAgICAgICAgICBnYi5yZWFkU0VHKCk7IC8vIG9mZnNldF9mb3JfdG9wX3RvX2JvdHRvbV9maWVsZFxuICAgICAgICAgICAgY29uc3QgbnVtX3JlZl9mcmFtZXNfaW5fcGljX29yZGVyX2NudF9jeWNsZSA9IGdiLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtX3JlZl9mcmFtZXNfaW5fcGljX29yZGVyX2NudF9jeWNsZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZ2IucmVhZFNFRygpOyAvLyBvZmZzZXRfZm9yX3JlZl9mcmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdiLnJlYWRVRUcoKTsgLy8gbWF4X251bV9yZWZfZnJhbWVzXG4gICAgICAgIGdiLnJlYWRCaXRzKDEpOyAvLyBnYXBzX2luX2ZyYW1lX251bV92YWx1ZV9hbGxvd2VkX2ZsYWdcblxuICAgICAgICBjb25zdCBwaWNfd2lkdGhfaW5fbWJzX21pbnVzMSA9IGdiLnJlYWRVRUcoKTtcbiAgICAgICAgY29uc3QgcGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXMxID0gZ2IucmVhZFVFRygpO1xuXG4gICAgICAgIGNvbnN0IGZyYW1lX21ic19vbmx5X2ZsYWcgPSBnYi5yZWFkQml0cygxKTtcbiAgICAgICAgaWYgKGZyYW1lX21ic19vbmx5X2ZsYWcgPT09IDApIHtcbiAgICAgICAgICAgIGdiLnJlYWRCaXRzKDEpOyAvLyBtYl9hZGFwdGl2ZV9mcmFtZV9maWVsZF9mbGFnXG4gICAgICAgIH1cbiAgICAgICAgZ2IucmVhZEJpdHMoMSk7IC8vIGRpcmVjdF84eDhfaW5mZXJlbmNlX2ZsYWdcblxuICAgICAgICBsZXQgZnJhbWVfY3JvcF9sZWZ0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSAwO1xuICAgICAgICBsZXQgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0ID0gMDtcblxuICAgICAgICBjb25zdCBmcmFtZV9jcm9wcGluZ19mbGFnID0gZ2IucmVhZEJvb2woKTtcbiAgICAgICAgaWYgKGZyYW1lX2Nyb3BwaW5nX2ZsYWcpIHtcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfbGVmdF9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCA9IGdiLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfdG9wX29mZnNldCA9IGdiLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZyYW1lX2Nyb3BfYm90dG9tX29mZnNldCA9IGdiLnJlYWRVRUcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzYXJfd2lkdGggPSAxLFxuICAgICAgICAgICAgc2FyX2hlaWdodCA9IDE7XG4gICAgICAgIGxldCBmcHMgPSAwLFxuICAgICAgICAgICAgZnBzX2ZpeGVkID0gdHJ1ZSxcbiAgICAgICAgICAgIGZwc19udW0gPSAwLFxuICAgICAgICAgICAgZnBzX2RlbiA9IDA7XG5cbiAgICAgICAgY29uc3QgdnVpX3BhcmFtZXRlcnNfcHJlc2VudF9mbGFnID0gZ2IucmVhZEJvb2woKTtcbiAgICAgICAgaWYgKHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZykge1xuICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgLy8gYXNwZWN0X3JhdGlvX2luZm9fcHJlc2VudF9mbGFnXG4gICAgICAgICAgICAgICAgY29uc3QgYXNwZWN0X3JhdGlvX2lkYyA9IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2FyX3dfdGFibGUgPSBbMSwgMTIsIDEwLCAxNiwgNDAsIDI0LCAyMCwgMzIsIDgwLCAxOCwgMTUsIDY0LCAxNjAsIDQsIDMsIDJdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhcl9oX3RhYmxlID0gWzEsIDExLCAxMSwgMTEsIDMzLCAxMSwgMTEsIDExLCAzMywgMTEsIDExLCAzMywgOTksIDMsIDIsIDFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFzcGVjdF9yYXRpb19pZGMgPiAwICYmIGFzcGVjdF9yYXRpb19pZGMgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICBzYXJfd2lkdGggPSBzYXJfd190YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHNhcl9oZWlnaHQgPSBzYXJfaF90YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3BlY3RfcmF0aW9faWRjID09PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FyX3dpZHRoID0gZ2IucmVhZEJ5dGUoKSA8PCA4IHwgZ2IucmVhZEJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2FyX2hlaWdodCA9IGdiLnJlYWRCeXRlKCkgPDwgOCB8IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAvLyBvdmVyc2Nhbl9pbmZvX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCb29sKCk7IC8vIG92ZXJzY2FuX2FwcHJvcHJpYXRlX2ZsYWdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7IC8vIHZpZGVvX3NpZ25hbF90eXBlX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDQpOyAvLyB2aWRlb19mb3JtYXQgJiB2aWRlb19mdWxsX3JhbmdlX2ZsYWdcbiAgICAgICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAvLyBjb2xvdXJfZGVzY3JpcHRpb25fcHJlc2VudF9mbGFnXG4gICAgICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDI0KTsgLy8gY29sb3VyX3ByaW1hcmllcyAmIHRyYW5zZmVyX2NoYXJhY3RlcmlzdGljcyAmIG1hdHJpeF9jb2VmZmljaWVudHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAvLyBjaHJvbWFfbG9jX2luZm9fcHJlc2VudF9mbGFnXG4gICAgICAgICAgICAgICAgZ2IucmVhZFVFRygpOyAvLyBjaHJvbWFfc2FtcGxlX2xvY190eXBlX3RvcF9maWVsZFxuICAgICAgICAgICAgICAgIGdiLnJlYWRVRUcoKTsgLy8gY2hyb21hX3NhbXBsZV9sb2NfdHlwZV9ib3R0b21fZmllbGRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7IC8vIHRpbWluZ19pbmZvX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bV91bml0c19pbl90aWNrID0gZ2IucmVhZEJpdHMoMzIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVfc2NhbGUgPSBnYi5yZWFkQml0cygzMik7XG4gICAgICAgICAgICAgICAgZnBzX2ZpeGVkID0gZ2IucmVhZEJvb2woKTsgLy8gZml4ZWRfZnJhbWVfcmF0ZV9mbGFnXG5cbiAgICAgICAgICAgICAgICBmcHNfbnVtID0gdGltZV9zY2FsZTtcbiAgICAgICAgICAgICAgICBmcHNfZGVuID0gbnVtX3VuaXRzX2luX3RpY2sgKiAyO1xuICAgICAgICAgICAgICAgIGZwcyA9IGZwc19udW0gLyBmcHNfZGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNhclNjYWxlID0gMTtcbiAgICAgICAgaWYgKHNhcl93aWR0aCAhPT0gMSB8fCBzYXJfaGVpZ2h0ICE9PSAxKSB7XG4gICAgICAgICAgICBzYXJTY2FsZSA9IHNhcl93aWR0aCAvIHNhcl9oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3JvcF91bml0X3ggPSAwLFxuICAgICAgICAgICAgY3JvcF91bml0X3kgPSAwO1xuICAgICAgICBpZiAoY2hyb21hX2Zvcm1hdF9pZGMgPT09IDApIHtcbiAgICAgICAgICAgIGNyb3BfdW5pdF94ID0gMTtcbiAgICAgICAgICAgIGNyb3BfdW5pdF95ID0gMiAtIGZyYW1lX21ic19vbmx5X2ZsYWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzdWJfd2MgPSAoY2hyb21hX2Zvcm1hdF9pZGMgPT09IDMpID8gMSA6IDI7XG4gICAgICAgICAgICBjb25zdCBzdWJfaGMgPSAoY2hyb21hX2Zvcm1hdF9pZGMgPT09IDEpID8gMiA6IDE7XG4gICAgICAgICAgICBjcm9wX3VuaXRfeCA9IHN1Yl93YztcbiAgICAgICAgICAgIGNyb3BfdW5pdF95ID0gc3ViX2hjICogKDIgLSBmcmFtZV9tYnNfb25seV9mbGFnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb2RlY193aWR0aCA9IChwaWNfd2lkdGhfaW5fbWJzX21pbnVzMSArIDEpICogMTY7XG4gICAgICAgIGxldCBjb2RlY19oZWlnaHQgPSAoMiAtIGZyYW1lX21ic19vbmx5X2ZsYWcpICogKChwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51czEgKyAxKSAqIDE2KTtcblxuICAgICAgICBjb2RlY193aWR0aCAtPSAoZnJhbWVfY3JvcF9sZWZ0X29mZnNldCArIGZyYW1lX2Nyb3BfcmlnaHRfb2Zmc2V0KSAqIGNyb3BfdW5pdF94O1xuICAgICAgICBjb2RlY19oZWlnaHQgLT0gKGZyYW1lX2Nyb3BfdG9wX29mZnNldCArIGZyYW1lX2Nyb3BfYm90dG9tX29mZnNldCkgKiBjcm9wX3VuaXRfeTtcblxuICAgICAgICBjb25zdCBwcmVzZW50X3dpZHRoID0gTWF0aC5jZWlsKGNvZGVjX3dpZHRoICogc2FyU2NhbGUpO1xuXG4gICAgICAgIGdiLmRlc3Ryb3koKTtcbiAgICAgICAgZ2IgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9maWxlX3N0cmluZywgLy8gYmFzZWxpbmUsIGhpZ2gsIGhpZ2gxMCwgLi4uXG4gICAgICAgICAgICBsZXZlbF9zdHJpbmcsIC8vIDMsIDMuMSwgNCwgNC4xLCA1LCA1LjEsIC4uLlxuICAgICAgICAgICAgYml0X2RlcHRoLCAvLyA4Yml0LCAxMGJpdCwgLi4uXG4gICAgICAgICAgICBjaHJvbWFfZm9ybWF0LCAvLyA0OjI6MCwgNDoyOjIsIC4uLlxuICAgICAgICAgICAgY2hyb21hX2Zvcm1hdF9zdHJpbmc6IFNQU1BhcnNlci5nZXRDaHJvbWFGb3JtYXRTdHJpbmcoY2hyb21hX2Zvcm1hdCksXG5cbiAgICAgICAgICAgIGZyYW1lX3JhdGU6IHtcbiAgICAgICAgICAgICAgICBmaXhlZDogZnBzX2ZpeGVkLFxuICAgICAgICAgICAgICAgIGZwcyxcbiAgICAgICAgICAgICAgICBmcHNfZGVuLFxuICAgICAgICAgICAgICAgIGZwc19udW1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHNhcl9yYXRpbzoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBzYXJfd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzYXJfaGVpZ2h0XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjb2RlY19zaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGNvZGVjX3dpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogY29kZWNfaGVpZ2h0XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBwcmVzZW50X3NpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcHJlc2VudF93aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvZGVjX2hlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBfc2tpcFNjYWxpbmdMaXN0KGdiLCBjb3VudCkge1xuICAgICAgICBsZXQgbGFzdF9zY2FsZSA9IDgsXG4gICAgICAgICAgICBuZXh0X3NjYWxlID0gODtcbiAgICAgICAgbGV0IGRlbHRhX3NjYWxlID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobmV4dF9zY2FsZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGRlbHRhX3NjYWxlID0gZ2IucmVhZFNFRygpO1xuICAgICAgICAgICAgICAgIG5leHRfc2NhbGUgPSAobGFzdF9zY2FsZSArIGRlbHRhX3NjYWxlICsgMjU2KSAlIDI1NjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3Rfc2NhbGUgPSAobmV4dF9zY2FsZSA9PT0gMCkgPyBsYXN0X3NjYWxlIDogbmV4dF9zY2FsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRQcm9maWxlU3RyaW5nKHByb2ZpbGVfaWRjKSB7XG4gICAgICAgIHN3aXRjaCAocHJvZmlsZV9pZGMpIHtcbiAgICAgICAgICAgIGNhc2UgNjY6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdCYXNlbGluZSc7XG4gICAgICAgICAgICBjYXNlIDc3OlxuICAgICAgICAgICAgICAgIHJldHVybiAnTWFpbic7XG4gICAgICAgICAgICBjYXNlIDg4OlxuICAgICAgICAgICAgICAgIHJldHVybiAnRXh0ZW5kZWQnO1xuICAgICAgICAgICAgY2FzZSAxMDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdIaWdoJztcbiAgICAgICAgICAgIGNhc2UgMTEwOlxuICAgICAgICAgICAgICAgIHJldHVybiAnSGlnaDEwJztcbiAgICAgICAgICAgIGNhc2UgMTIyOlxuICAgICAgICAgICAgICAgIHJldHVybiAnSGlnaDQyMic7XG4gICAgICAgICAgICBjYXNlIDI0NDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0hpZ2g0NDQnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1Vua25vd24nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldExldmVsU3RyaW5nKGxldmVsX2lkYykge1xuICAgICAgICByZXR1cm4gKGxldmVsX2lkYyAvIDEwKS50b0ZpeGVkKDEpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDaHJvbWFGb3JtYXRTdHJpbmcoY2hyb21hKSB7XG4gICAgICAgIHN3aXRjaCAoY2hyb21hKSB7XG4gICAgICAgICAgICBjYXNlIDQyMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJzQ6MjowJztcbiAgICAgICAgICAgIGNhc2UgNDIyOlxuICAgICAgICAgICAgICAgIHJldHVybiAnNDoyOjInO1xuICAgICAgICAgICAgY2FzZSA0NDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICc0OjQ6NCc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnVW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU1BTUGFyc2VyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2Zsdi9zcHMtcGFyc2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (C) 2016 Bilibili. All Rights Reserved.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author zheng qian <xqq@xqq.im>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n/* eslint-disable */\n\n\nvar _aacSilent = __webpack_require__(12);\n\nvar _aacSilent2 = _interopRequireDefault(_aacSilent);\n\nvar _browser = __webpack_require__(14);\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _mp4remux = __webpack_require__(1);\n\nvar _mp4remux2 = _interopRequireDefault(_mp4remux);\n\nvar _mediaSegmentInfo = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Fragmented mp4 remuxer\nvar MP4Remuxer = function () {\n    function MP4Remuxer(config) {\n        _classCallCheck(this, MP4Remuxer);\n\n        this.TAG = this.constructor.name;\n\n        this._config = config;\n        this._isLive = config.isLive === true;\n\n        this._dtsBase = -1;\n        this._dtsBaseInited = false;\n        this._audioDtsBase = Infinity;\n        this._videoDtsBase = Infinity;\n        this._audioNextDts = undefined;\n        this._videoNextDts = undefined;\n\n        this._audioMeta = null;\n        this._videoMeta = null;\n\n        this._audioSegmentInfoList = new _mediaSegmentInfo.MediaSegmentInfoList('audio');\n        this._videoSegmentInfoList = new _mediaSegmentInfo.MediaSegmentInfoList('video');\n\n        this._onInitSegment = null;\n        this._onMediaSegment = null;\n\n        // Workaround for chrome < 50: Always force first sample as a Random Access Point in media segment\n        // see https://bugs.chromium.org/p/chromium/issues/detail?id=229412\n        this._forceFirstIDR = !!(_browser2.default.chrome && (_browser2.default.version.major < 50 || _browser2.default.version.major === 50 && _browser2.default.version.build < 2661));\n\n        // Workaround for IE11/Edge: Fill silent aac frame after keyframe-seeking\n        // Make audio beginDts equals with video beginDts, in order to fix seek freeze\n        this._fillSilentAfterSeek = _browser2.default.msedge || _browser2.default.msie;\n    }\n\n    _createClass(MP4Remuxer, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._dtsBase = -1;\n            this._dtsBaseInited = false;\n            this._audioMeta = null;\n            this._videoMeta = null;\n            this._audioSegmentInfoList.clear();\n            this._audioSegmentInfoList = null;\n            this._videoSegmentInfoList.clear();\n            this._videoSegmentInfoList = null;\n            this._onInitSegment = null;\n            this._onMediaSegment = null;\n        }\n    }, {\n        key: 'bindDataSource',\n        value: function bindDataSource(producer) {\n            producer.onDataAvailable = this.remux.bind(this);\n            producer.onTrackMetadata = this._onTrackMetadataReceived.bind(this);\n            return this;\n        }\n\n        /* prototype: function onInitSegment(type: string, initSegment: ArrayBuffer): void\n           InitSegment: {\n               type: string,\n               data: ArrayBuffer,\n               codec: string,\n               container: string\n           }\n        */\n\n    }, {\n        key: 'insertDiscontinuity',\n        value: function insertDiscontinuity() {\n            this._audioNextDts = this._videoNextDts = undefined;\n        }\n    }, {\n        key: 'seek',\n        value: function seek(originalDts) {\n            this._videoSegmentInfoList.clear();\n            this._audioSegmentInfoList.clear();\n        }\n    }, {\n        key: 'remux',\n        value: function remux(audioTrack, videoTrack) {\n            if (!this._onMediaSegment) {\n                throw new IllegalStateException('MP4Remuxer: onMediaSegment callback must be specificed!');\n            }\n            if (!this._dtsBaseInited) {\n                this._calculateDtsBase(audioTrack, videoTrack);\n            }\n            this._remuxVideo(videoTrack);\n            this._remuxAudio(audioTrack);\n        }\n    }, {\n        key: '_onTrackMetadataReceived',\n        value: function _onTrackMetadataReceived(type, metadata) {\n            var metabox = null;\n\n            if (type === 'audio') {\n                this._audioMeta = metadata;\n                metabox = _mp4remux2.default.generateInitSegment(metadata);\n                Log.v('msg+audio', metadata);\n            } else if (type === 'video') {\n                this._videoMeta = metadata;\n                metabox = _mp4remux2.default.generateInitSegment(metadata);\n                Log.v('msg+video', metadata);\n            } else {\n                return;\n            }\n\n            // dispatch metabox (Initialization Segment)\n            if (!this._onInitSegment) {\n                throw new IllegalStateException('MP4Remuxer: onInitSegment callback must be specified!');\n            }\n            this._onInitSegment(type, {\n                type: type,\n                data: metabox.buffer,\n                codec: metadata.codec,\n                container: type + '/mp4'\n            });\n        }\n    }, {\n        key: '_calculateDtsBase',\n        value: function _calculateDtsBase(audioTrack, videoTrack) {\n            if (this._dtsBaseInited) {\n                return;\n            }\n\n            if (audioTrack.samples && audioTrack.samples.length) {\n                this._audioDtsBase = audioTrack.samples[0].dts;\n            }\n            if (videoTrack.samples && videoTrack.samples.length) {\n                this._videoDtsBase = videoTrack.samples[0].dts;\n            }\n\n            this._dtsBase = Math.min(this._audioDtsBase, this._videoDtsBase);\n            this._dtsBaseInited = true;\n        }\n    }, {\n        key: '_remuxAudio',\n        value: function _remuxAudio(audioTrack) {\n            var track = audioTrack;\n            var samples = track.samples;\n            var dtsCorrection = void 0;\n            var firstDts = -1,\n                lastDts = -1,\n                lastPts = -1;\n\n            var remuxSilentFrame = false;\n            var silentFrameDuration = -1;\n\n            if (!samples || samples.length === 0) {\n                return;\n            }\n\n            var bytes = 8 + track.length;\n            var mdatbox = new Uint8Array(bytes);\n            mdatbox[0] = bytes >>> 24 & 0xFF;\n            mdatbox[1] = bytes >>> 16 & 0xFF;\n            mdatbox[2] = bytes >>> 8 & 0xFF;\n            mdatbox[3] = bytes & 0xFF;\n\n            mdatbox.set(_mp4remux2.default.types.mdat, 4);\n\n            var offset = 8; // size + type\n            var mp4Samples = [];\n\n            while (samples.length) {\n                var aacSample = samples.shift();\n                var unit = aacSample.unit;\n                var originalDts = aacSample.dts - this._dtsBase;\n\n                if (dtsCorrection == undefined) {\n                    if (this._audioNextDts == undefined) {\n                        if (this._audioSegmentInfoList.isEmpty()) {\n                            dtsCorrection = 0;\n                            if (this._fillSilentAfterSeek && !this._videoSegmentInfoList.isEmpty()) {\n                                remuxSilentFrame = true;\n                            }\n                        } else {\n                            var lastSample = this._audioSegmentInfoList.getLastSampleBefore(originalDts);\n                            if (lastSample != null) {\n                                var distance = originalDts - (lastSample.originalDts + lastSample.duration);\n                                if (distance <= 3) {\n                                    distance = 0;\n                                }\n                                var expectedDts = lastSample.dts + lastSample.duration + distance;\n                                dtsCorrection = originalDts - expectedDts;\n                            } else {\n                                // lastSample == null\n                                dtsCorrection = 0;\n                            }\n                        }\n                    } else {\n                        dtsCorrection = originalDts - this._audioNextDts;\n                    }\n                }\n\n                var dts = originalDts - dtsCorrection;\n                if (remuxSilentFrame) {\n                    // align audio segment beginDts to match with current video segment's beginDts\n                    var videoSegment = this._videoSegmentInfoList.getLastSegmentBefore(originalDts);\n                    if (videoSegment != null && videoSegment.beginDts < dts) {\n                        silentFrameDuration = dts - videoSegment.beginDts;\n                        dts = videoSegment.beginDts;\n                    } else {\n                        remuxSilentFrame = false;\n                    }\n                }\n                if (firstDts === -1) {\n                    firstDts = dts;\n                }\n\n                if (remuxSilentFrame) {\n                    remuxSilentFrame = false;\n                    samples.unshift(aacSample);\n\n                    var frame = this._generateSilentAudio(dts, silentFrameDuration);\n                    if (frame == null) {\n                        continue;\n                    }\n                    var _mp4Sample = frame.mp4Sample;\n                    var _unit = frame.unit;\n\n                    mp4Samples.push(_mp4Sample);\n\n                    // re-allocate mdatbox buffer with new size, to fit with this silent frame\n                    bytes += _unit.byteLength;\n                    mdatbox = new Uint8Array(bytes);\n                    mdatbox[0] = bytes >>> 24 & 0xFF;\n                    mdatbox[1] = bytes >>> 16 & 0xFF;\n                    mdatbox[2] = bytes >>> 8 & 0xFF;\n                    mdatbox[3] = bytes & 0xFF;\n                    mdatbox.set(_mp4remux2.default.types.mdat, 4);\n\n                    // fill data now\n                    mdatbox.set(_unit, offset);\n                    offset += _unit.byteLength;\n                    continue;\n                }\n\n                var sampleDuration = 0;\n\n                if (samples.length >= 1) {\n                    var nextDts = samples[0].dts - this._dtsBase - dtsCorrection;\n                    sampleDuration = nextDts - dts;\n                } else {\n                    if (mp4Samples.length >= 1) {\n                        // use second last sample duration\n                        sampleDuration = mp4Samples[mp4Samples.length - 1].duration;\n                    } else {\n                        // the only one sample, use reference sample duration\n                        sampleDuration = this._audioMeta.refSampleDuration;\n                    }\n                }\n\n                var mp4Sample = {\n                    dts: dts,\n                    pts: dts,\n                    cts: 0,\n                    size: unit.byteLength,\n                    duration: sampleDuration,\n                    originalDts: originalDts,\n                    flags: {\n                        isLeading: 0,\n                        dependsOn: 1,\n                        isDependedOn: 0,\n                        hasRedundancy: 0\n                    }\n                };\n                mp4Samples.push(mp4Sample);\n                mdatbox.set(unit, offset);\n                offset += unit.byteLength;\n            }\n            var latest = mp4Samples[mp4Samples.length - 1];\n            lastDts = latest.dts + latest.duration;\n            this._audioNextDts = lastDts;\n\n            // fill media segment info & add to info list\n            var info = new _mediaSegmentInfo.MediaSegmentInfo();\n            info.beginDts = firstDts;\n            info.endDts = lastDts;\n            info.beginPts = firstDts;\n            info.endPts = lastDts;\n            info.originalBeginDts = mp4Samples[0].originalDts;\n            info.originalEndDts = latest.originalDts + latest.duration;\n            info.firstSample = new _mediaSegmentInfo.SampleInfo(mp4Samples[0].dts, mp4Samples[0].pts, mp4Samples[0].duration, mp4Samples[0].originalDts, false);\n            info.lastSample = new _mediaSegmentInfo.SampleInfo(latest.dts, latest.pts, latest.duration, latest.originalDts, false);\n            if (!this._isLive) {\n                this._audioSegmentInfoList.append(info);\n            }\n\n            track.samples = mp4Samples;\n            track.sequenceNumber += track.addcoefficient;\n\n            var moofbox = _mp4remux2.default.moof(track, firstDts);\n            track.samples = [];\n            track.length = 0;\n\n            this._onMediaSegment('audio', {\n                type: 'audio',\n                data: this._mergeBoxes(moofbox, mdatbox).buffer,\n                sampleCount: mp4Samples.length,\n                info: info\n            });\n        }\n    }, {\n        key: '_generateSilentAudio',\n        value: function _generateSilentAudio(dts, frameDuration) {\n            Log.v(this.TAG, 'GenerateSilentAudio: dts = ' + dts + ', duration = ' + frameDuration);\n\n            var unit = _aacSilent2.default.getSilentFrame(this._audioMeta.channelCount);\n            if (unit == null) {\n                Log.w(this.TAG, 'Cannot generate silent aac frame for channelCount = ' + this._audioMeta.channelCount);\n                return null;\n            }\n\n            var mp4Sample = {\n                dts: dts,\n                pts: dts,\n                cts: 0,\n                size: unit.byteLength,\n                duration: frameDuration,\n                originalDts: dts,\n                flags: {\n                    isLeading: 0,\n                    dependsOn: 1,\n                    isDependedOn: 0,\n                    hasRedundancy: 0\n                }\n            };\n\n            return {\n                unit: unit,\n                mp4Sample: mp4Sample\n            };\n        }\n    }, {\n        key: '_remuxVideo',\n        value: function _remuxVideo(videoTrack) {\n            var track = videoTrack;\n            var samples = track.samples;\n            var dtsCorrection = void 0;\n            var firstDts = -1,\n                lastDts = -1;\n            var firstPts = -1,\n                lastPts = -1;\n\n            if (!samples || samples.length === 0) {\n                return;\n            }\n\n            var bytes = 8 + videoTrack.length;\n            var mdatbox = new Uint8Array(bytes);\n            mdatbox[0] = bytes >>> 24 & 0xFF;\n            mdatbox[1] = bytes >>> 16 & 0xFF;\n            mdatbox[2] = bytes >>> 8 & 0xFF;\n            mdatbox[3] = bytes & 0xFF;\n            mdatbox.set(_mp4remux2.default.types.mdat, 4);\n\n            var offset = 8;\n            var mp4Samples = [];\n            var info = new _mediaSegmentInfo.MediaSegmentInfo();\n\n            while (samples.length) {\n                var avcSample = samples.shift();\n                var keyframe = avcSample.isKeyframe;\n                var originalDts = avcSample.dts - this._dtsBase;\n\n                if (dtsCorrection == undefined) {\n                    if (this._videoNextDts == undefined) {\n                        if (this._videoSegmentInfoList.isEmpty()) {\n                            dtsCorrection = 0;\n                        } else {\n                            var lastSample = this._videoSegmentInfoList.getLastSampleBefore(originalDts);\n                            if (lastSample != null) {\n                                var distance = originalDts - (lastSample.originalDts + lastSample.duration);\n                                if (distance <= 3) {\n                                    distance = 0;\n                                }\n                                var expectedDts = lastSample.dts + lastSample.duration + distance;\n                                dtsCorrection = originalDts - expectedDts;\n                            } else {\n                                // lastSample == null\n                                dtsCorrection = 0;\n                            }\n                        }\n                    } else {\n                        dtsCorrection = originalDts - this._videoNextDts;\n                    }\n                }\n\n                var dts = originalDts - dtsCorrection;\n                var cts = avcSample.cts;\n                var pts = dts + cts;\n\n                if (firstDts === -1) {\n                    firstDts = dts;\n                    firstPts = pts;\n                }\n\n                // fill mdat box\n                var sampleSize = 0;\n                while (avcSample.units.length) {\n                    var unit = avcSample.units.shift();\n                    var data = unit.data;\n                    mdatbox.set(data, offset);\n                    offset += data.byteLength;\n                    sampleSize += data.byteLength;\n                }\n\n                var sampleDuration = 0;\n\n                if (samples.length >= 1) {\n                    var nextDts = samples[0].dts - this._dtsBase - dtsCorrection;\n                    sampleDuration = nextDts - dts;\n                } else {\n                    if (mp4Samples.length >= 1) {\n                        // lastest sample, use second last duration\n                        sampleDuration = mp4Samples[mp4Samples.length - 1].duration;\n                    } else {\n                        // the only one sample, use reference duration\n                        sampleDuration = this._videoMeta.refSampleDuration;\n                    }\n                }\n\n                if (keyframe) {\n                    var syncPoint = new _mediaSegmentInfo.SampleInfo(dts, pts, sampleDuration, avcSample.dts, true);\n                    syncPoint.fileposition = avcSample.fileposition;\n                    info.appendSyncPoint(syncPoint);\n                }\n\n                var mp4Sample = {\n                    dts: dts,\n                    pts: pts,\n                    cts: cts,\n                    size: sampleSize,\n                    isKeyframe: keyframe,\n                    duration: sampleDuration,\n                    originalDts: originalDts,\n                    flags: {\n                        isLeading: 0,\n                        dependsOn: keyframe ? 2 : 1,\n                        isDependedOn: keyframe ? 1 : 0,\n                        hasRedundancy: 0,\n                        isNonSync: keyframe ? 0 : 1\n                    }\n                };\n\n                mp4Samples.push(mp4Sample);\n            }\n            var latest = mp4Samples[mp4Samples.length - 1];\n            lastDts = latest.dts + latest.duration;\n            lastPts = latest.pts + latest.duration;\n            this._videoNextDts = lastDts;\n\n            // fill media segment info & add to info list\n            info.beginDts = firstDts;\n            info.endDts = lastDts;\n            info.beginPts = firstPts;\n            info.endPts = lastPts;\n            info.originalBeginDts = mp4Samples[0].originalDts;\n            info.originalEndDts = latest.originalDts + latest.duration;\n            info.firstSample = new _mediaSegmentInfo.SampleInfo(mp4Samples[0].dts, mp4Samples[0].pts, mp4Samples[0].duration, mp4Samples[0].originalDts, mp4Samples[0].isKeyframe);\n            info.lastSample = new _mediaSegmentInfo.SampleInfo(latest.dts, latest.pts, latest.duration, latest.originalDts, latest.isKeyframe);\n            if (!this._isLive) {\n                this._videoSegmentInfoList.append(info);\n            }\n\n            track.samples = mp4Samples;\n            track.sequenceNumber += track.addcoefficient;\n\n            // workaround for chrome < 50: force first sample as a random access point\n            // see https://bugs.chromium.org/p/chromium/issues/detail?id=229412\n            if (this._forceFirstIDR) {\n                var flags = mp4Samples[0].flags;\n                flags.dependsOn = 2;\n                flags.isNonSync = 0;\n            }\n\n            var moofbox = _mp4remux2.default.moof(track, firstDts);\n            track.samples = [];\n            track.length = 0;\n\n            this._onMediaSegment('video', {\n                type: 'video',\n                data: this._mergeBoxes(moofbox, mdatbox).buffer,\n                sampleCount: mp4Samples.length,\n                info: info\n            });\n        }\n    }, {\n        key: '_mergeBoxes',\n        value: function _mergeBoxes(moof, mdat) {\n            var result = new Uint8Array(moof.byteLength + mdat.byteLength);\n            result.set(moof, 0);\n            result.set(mdat, moof.byteLength);\n            return result;\n        }\n    }, {\n        key: 'onInitSegment',\n        get: function get() {\n            return this._onInitSegment;\n        },\n        set: function set(callback) {\n            this._onInitSegment = callback;\n        }\n\n        /* prototype: function onMediaSegment(type: string, mediaSegment: MediaSegment): void\n           MediaSegment: {\n               type: string,\n               data: ArrayBuffer,\n               sampleCount: int32\n               info: MediaSegmentInfo\n           }\n        */\n\n    }, {\n        key: 'onMediaSegment',\n        get: function get() {\n            return this._onMediaSegment;\n        },\n        set: function set(callback) {\n            this._onMediaSegment = callback;\n        }\n    }]);\n\n    return MP4Remuxer;\n}();\n\nexports.default = MP4Remuxer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9tcDQvbXA0bW9vZi5qcz9mZGQ0Il0sIm5hbWVzIjpbIk1QNFJlbXV4ZXIiLCJjb25maWciLCJUQUciLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJfY29uZmlnIiwiX2lzTGl2ZSIsImlzTGl2ZSIsIl9kdHNCYXNlIiwiX2R0c0Jhc2VJbml0ZWQiLCJfYXVkaW9EdHNCYXNlIiwiSW5maW5pdHkiLCJfdmlkZW9EdHNCYXNlIiwiX2F1ZGlvTmV4dER0cyIsInVuZGVmaW5lZCIsIl92aWRlb05leHREdHMiLCJfYXVkaW9NZXRhIiwiX3ZpZGVvTWV0YSIsIl9hdWRpb1NlZ21lbnRJbmZvTGlzdCIsIl92aWRlb1NlZ21lbnRJbmZvTGlzdCIsIl9vbkluaXRTZWdtZW50IiwiX29uTWVkaWFTZWdtZW50IiwiX2ZvcmNlRmlyc3RJRFIiLCJjaHJvbWUiLCJ2ZXJzaW9uIiwibWFqb3IiLCJidWlsZCIsIl9maWxsU2lsZW50QWZ0ZXJTZWVrIiwibXNlZGdlIiwibXNpZSIsImNsZWFyIiwicHJvZHVjZXIiLCJvbkRhdGFBdmFpbGFibGUiLCJyZW11eCIsImJpbmQiLCJvblRyYWNrTWV0YWRhdGEiLCJfb25UcmFja01ldGFkYXRhUmVjZWl2ZWQiLCJvcmlnaW5hbER0cyIsImF1ZGlvVHJhY2siLCJ2aWRlb1RyYWNrIiwiSWxsZWdhbFN0YXRlRXhjZXB0aW9uIiwiX2NhbGN1bGF0ZUR0c0Jhc2UiLCJfcmVtdXhWaWRlbyIsIl9yZW11eEF1ZGlvIiwidHlwZSIsIm1ldGFkYXRhIiwibWV0YWJveCIsImdlbmVyYXRlSW5pdFNlZ21lbnQiLCJMb2ciLCJ2IiwiZGF0YSIsImJ1ZmZlciIsImNvZGVjIiwiY29udGFpbmVyIiwic2FtcGxlcyIsImxlbmd0aCIsImR0cyIsIk1hdGgiLCJtaW4iLCJ0cmFjayIsImR0c0NvcnJlY3Rpb24iLCJmaXJzdER0cyIsImxhc3REdHMiLCJsYXN0UHRzIiwicmVtdXhTaWxlbnRGcmFtZSIsInNpbGVudEZyYW1lRHVyYXRpb24iLCJieXRlcyIsIm1kYXRib3giLCJVaW50OEFycmF5Iiwic2V0IiwidHlwZXMiLCJtZGF0Iiwib2Zmc2V0IiwibXA0U2FtcGxlcyIsImFhY1NhbXBsZSIsInNoaWZ0IiwidW5pdCIsImlzRW1wdHkiLCJsYXN0U2FtcGxlIiwiZ2V0TGFzdFNhbXBsZUJlZm9yZSIsImRpc3RhbmNlIiwiZHVyYXRpb24iLCJleHBlY3RlZER0cyIsInZpZGVvU2VnbWVudCIsImdldExhc3RTZWdtZW50QmVmb3JlIiwiYmVnaW5EdHMiLCJ1bnNoaWZ0IiwiZnJhbWUiLCJfZ2VuZXJhdGVTaWxlbnRBdWRpbyIsIm1wNFNhbXBsZSIsInB1c2giLCJieXRlTGVuZ3RoIiwic2FtcGxlRHVyYXRpb24iLCJuZXh0RHRzIiwicmVmU2FtcGxlRHVyYXRpb24iLCJwdHMiLCJjdHMiLCJzaXplIiwiZmxhZ3MiLCJpc0xlYWRpbmciLCJkZXBlbmRzT24iLCJpc0RlcGVuZGVkT24iLCJoYXNSZWR1bmRhbmN5IiwibGF0ZXN0IiwiaW5mbyIsImVuZER0cyIsImJlZ2luUHRzIiwiZW5kUHRzIiwib3JpZ2luYWxCZWdpbkR0cyIsIm9yaWdpbmFsRW5kRHRzIiwiZmlyc3RTYW1wbGUiLCJhcHBlbmQiLCJzZXF1ZW5jZU51bWJlciIsImFkZGNvZWZmaWNpZW50IiwibW9vZmJveCIsIm1vb2YiLCJfbWVyZ2VCb3hlcyIsInNhbXBsZUNvdW50IiwiZnJhbWVEdXJhdGlvbiIsImdldFNpbGVudEZyYW1lIiwiY2hhbm5lbENvdW50IiwidyIsImZpcnN0UHRzIiwiYXZjU2FtcGxlIiwia2V5ZnJhbWUiLCJpc0tleWZyYW1lIiwic2FtcGxlU2l6ZSIsInVuaXRzIiwic3luY1BvaW50IiwiZmlsZXBvc2l0aW9uIiwiYXBwZW5kU3luY1BvaW50IiwiaXNOb25TeW5jIiwicmVzdWx0IiwiY2FsbGJhY2siXSwibWFwcGluZ3MiOiI7Ozs7OztxakJBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBOzs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUE7SUFDTUEsVTtBQUVGLHdCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQ2hCLGFBQUtDLEdBQUwsR0FBVyxLQUFLQyxXQUFMLENBQWlCQyxJQUE1Qjs7QUFFQSxhQUFLQyxPQUFMLEdBQWVKLE1BQWY7QUFDQSxhQUFLSyxPQUFMLEdBQWdCTCxPQUFPTSxNQUFQLEtBQWtCLElBQWxDOztBQUVBLGFBQUtDLFFBQUwsR0FBZ0IsQ0FBQyxDQUFqQjtBQUNBLGFBQUtDLGNBQUwsR0FBc0IsS0FBdEI7QUFDQSxhQUFLQyxhQUFMLEdBQXFCQyxRQUFyQjtBQUNBLGFBQUtDLGFBQUwsR0FBcUJELFFBQXJCO0FBQ0EsYUFBS0UsYUFBTCxHQUFxQkMsU0FBckI7QUFDQSxhQUFLQyxhQUFMLEdBQXFCRCxTQUFyQjs7QUFFQSxhQUFLRSxVQUFMLEdBQWtCLElBQWxCO0FBQ0EsYUFBS0MsVUFBTCxHQUFrQixJQUFsQjs7QUFFQSxhQUFLQyxxQkFBTCxHQUE2QiwyQ0FBeUIsT0FBekIsQ0FBN0I7QUFDQSxhQUFLQyxxQkFBTCxHQUE2QiwyQ0FBeUIsT0FBekIsQ0FBN0I7O0FBRUEsYUFBS0MsY0FBTCxHQUFzQixJQUF0QjtBQUNBLGFBQUtDLGVBQUwsR0FBdUIsSUFBdkI7O0FBRUE7QUFDQTtBQUNBLGFBQUtDLGNBQUwsR0FBc0IsQ0FBQyxFQUFHLGtCQUFRQyxNQUFSLEtBQ3JCLGtCQUFRQyxPQUFSLENBQWdCQyxLQUFoQixHQUF3QixFQUF4QixJQUNJLGtCQUFRRCxPQUFSLENBQWdCQyxLQUFoQixLQUEwQixFQUExQixJQUFnQyxrQkFBUUQsT0FBUixDQUFnQkUsS0FBaEIsR0FBd0IsSUFGdkMsQ0FBSCxDQUF2Qjs7QUFJQTtBQUNBO0FBQ0EsYUFBS0Msb0JBQUwsR0FBNkIsa0JBQVFDLE1BQVIsSUFBa0Isa0JBQVFDLElBQXZEO0FBQ0g7Ozs7a0NBRVM7QUFDTixpQkFBS3JCLFFBQUwsR0FBZ0IsQ0FBQyxDQUFqQjtBQUNBLGlCQUFLQyxjQUFMLEdBQXNCLEtBQXRCO0FBQ0EsaUJBQUtPLFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxpQkFBS0MsVUFBTCxHQUFrQixJQUFsQjtBQUNBLGlCQUFLQyxxQkFBTCxDQUEyQlksS0FBM0I7QUFDQSxpQkFBS1oscUJBQUwsR0FBNkIsSUFBN0I7QUFDQSxpQkFBS0MscUJBQUwsQ0FBMkJXLEtBQTNCO0FBQ0EsaUJBQUtYLHFCQUFMLEdBQTZCLElBQTdCO0FBQ0EsaUJBQUtDLGNBQUwsR0FBc0IsSUFBdEI7QUFDQSxpQkFBS0MsZUFBTCxHQUF1QixJQUF2QjtBQUNIOzs7dUNBRWNVLFEsRUFBVTtBQUNyQkEscUJBQVNDLGVBQVQsR0FBMkIsS0FBS0MsS0FBTCxDQUFXQyxJQUFYLENBQWdCLElBQWhCLENBQTNCO0FBQ0FILHFCQUFTSSxlQUFULEdBQTJCLEtBQUtDLHdCQUFMLENBQThCRixJQUE5QixDQUFtQyxJQUFuQyxDQUEzQjtBQUNBLG1CQUFPLElBQVA7QUFDSDs7QUFFRDs7Ozs7Ozs7Ozs7OENBZ0NzQjtBQUNsQixpQkFBS3JCLGFBQUwsR0FBcUIsS0FBS0UsYUFBTCxHQUFxQkQsU0FBMUM7QUFDSDs7OzZCQUVJdUIsVyxFQUFhO0FBQ2QsaUJBQUtsQixxQkFBTCxDQUEyQlcsS0FBM0I7QUFDQSxpQkFBS1oscUJBQUwsQ0FBMkJZLEtBQTNCO0FBQ0g7Ozs4QkFFS1EsVSxFQUFZQyxVLEVBQVk7QUFDMUIsZ0JBQUksQ0FBQyxLQUFLbEIsZUFBVixFQUEyQjtBQUN2QixzQkFBTSxJQUFJbUIscUJBQUosQ0FBMEIseURBQTFCLENBQU47QUFDSDtBQUNELGdCQUFJLENBQUMsS0FBSy9CLGNBQVYsRUFBMEI7QUFDdEIscUJBQUtnQyxpQkFBTCxDQUF1QkgsVUFBdkIsRUFBbUNDLFVBQW5DO0FBQ0g7QUFDRCxpQkFBS0csV0FBTCxDQUFpQkgsVUFBakI7QUFDQSxpQkFBS0ksV0FBTCxDQUFpQkwsVUFBakI7QUFDSDs7O2lEQUV3Qk0sSSxFQUFNQyxRLEVBQVU7QUFDckMsZ0JBQUlDLFVBQVUsSUFBZDs7QUFFQSxnQkFBSUYsU0FBUyxPQUFiLEVBQXNCO0FBQ2xCLHFCQUFLNUIsVUFBTCxHQUFrQjZCLFFBQWxCO0FBQ0FDLDBCQUFVLG1CQUFJQyxtQkFBSixDQUF3QkYsUUFBeEIsQ0FBVjtBQUNBRyxvQkFBSUMsQ0FBSixDQUFNLFdBQU4sRUFBbUJKLFFBQW5CO0FBQ0gsYUFKRCxNQUlPLElBQUlELFNBQVMsT0FBYixFQUFzQjtBQUN6QixxQkFBSzNCLFVBQUwsR0FBa0I0QixRQUFsQjtBQUNBQywwQkFBVSxtQkFBSUMsbUJBQUosQ0FBd0JGLFFBQXhCLENBQVY7QUFDQUcsb0JBQUlDLENBQUosQ0FBTSxXQUFOLEVBQW1CSixRQUFuQjtBQUNILGFBSk0sTUFJQTtBQUNIO0FBQ0g7O0FBRUQ7QUFDQSxnQkFBSSxDQUFDLEtBQUt6QixjQUFWLEVBQTBCO0FBQ3RCLHNCQUFNLElBQUlvQixxQkFBSixDQUEwQix1REFBMUIsQ0FBTjtBQUNIO0FBQ0QsaUJBQUtwQixjQUFMLENBQW9Cd0IsSUFBcEIsRUFBMEI7QUFDdEJBLDBCQURzQjtBQUV0Qk0sc0JBQU1KLFFBQVFLLE1BRlE7QUFHdEJDLHVCQUFPUCxTQUFTTyxLQUhNO0FBSXRCQywyQkFBY1QsSUFBZDtBQUpzQixhQUExQjtBQU1IOzs7MENBRWlCTixVLEVBQVlDLFUsRUFBWTtBQUN0QyxnQkFBSSxLQUFLOUIsY0FBVCxFQUF5QjtBQUNyQjtBQUNIOztBQUVELGdCQUFJNkIsV0FBV2dCLE9BQVgsSUFBc0JoQixXQUFXZ0IsT0FBWCxDQUFtQkMsTUFBN0MsRUFBcUQ7QUFDakQscUJBQUs3QyxhQUFMLEdBQXFCNEIsV0FBV2dCLE9BQVgsQ0FBbUIsQ0FBbkIsRUFBc0JFLEdBQTNDO0FBQ0g7QUFDRCxnQkFBSWpCLFdBQVdlLE9BQVgsSUFBc0JmLFdBQVdlLE9BQVgsQ0FBbUJDLE1BQTdDLEVBQXFEO0FBQ2pELHFCQUFLM0MsYUFBTCxHQUFxQjJCLFdBQVdlLE9BQVgsQ0FBbUIsQ0FBbkIsRUFBc0JFLEdBQTNDO0FBQ0g7O0FBRUQsaUJBQUtoRCxRQUFMLEdBQWdCaUQsS0FBS0MsR0FBTCxDQUFTLEtBQUtoRCxhQUFkLEVBQTZCLEtBQUtFLGFBQWxDLENBQWhCO0FBQ0EsaUJBQUtILGNBQUwsR0FBc0IsSUFBdEI7QUFDSDs7O29DQUVXNkIsVSxFQUFZO0FBQ3BCLGdCQUFNcUIsUUFBUXJCLFVBQWQ7QUFDQSxnQkFBTWdCLFVBQVVLLE1BQU1MLE9BQXRCO0FBQ0EsZ0JBQUlNLHNCQUFKO0FBQ0EsZ0JBQUlDLFdBQVcsQ0FBQyxDQUFoQjtBQUFBLGdCQUNJQyxVQUFVLENBQUMsQ0FEZjtBQUFBLGdCQUVJQyxVQUFVLENBQUMsQ0FGZjs7QUFJQSxnQkFBSUMsbUJBQW1CLEtBQXZCO0FBQ0EsZ0JBQUlDLHNCQUFzQixDQUFDLENBQTNCOztBQUVBLGdCQUFJLENBQUNYLE9BQUQsSUFBWUEsUUFBUUMsTUFBUixLQUFtQixDQUFuQyxFQUFzQztBQUNsQztBQUNIOztBQUVELGdCQUFJVyxRQUFRLElBQUlQLE1BQU1KLE1BQXRCO0FBQ0EsZ0JBQUlZLFVBQVUsSUFBSUMsVUFBSixDQUFlRixLQUFmLENBQWQ7QUFDQUMsb0JBQVEsQ0FBUixJQUFjRCxVQUFVLEVBQVgsR0FBaUIsSUFBOUI7QUFDQUMsb0JBQVEsQ0FBUixJQUFjRCxVQUFVLEVBQVgsR0FBaUIsSUFBOUI7QUFDQUMsb0JBQVEsQ0FBUixJQUFjRCxVQUFVLENBQVgsR0FBZ0IsSUFBN0I7QUFDQUMsb0JBQVEsQ0FBUixJQUFjRCxLQUFELEdBQVUsSUFBdkI7O0FBRUFDLG9CQUFRRSxHQUFSLENBQVksbUJBQUlDLEtBQUosQ0FBVUMsSUFBdEIsRUFBNEIsQ0FBNUI7O0FBRUEsZ0JBQUlDLFNBQVMsQ0FBYixDQXhCb0IsQ0F3Qko7QUFDaEIsZ0JBQU1DLGFBQWEsRUFBbkI7O0FBRUEsbUJBQU9uQixRQUFRQyxNQUFmLEVBQXVCO0FBQ25CLG9CQUFNbUIsWUFBWXBCLFFBQVFxQixLQUFSLEVBQWxCO0FBQ0Esb0JBQU1DLE9BQU9GLFVBQVVFLElBQXZCO0FBQ0Esb0JBQU12QyxjQUFjcUMsVUFBVWxCLEdBQVYsR0FBZ0IsS0FBS2hELFFBQXpDOztBQUVBLG9CQUFJb0QsaUJBQWlCOUMsU0FBckIsRUFBZ0M7QUFDNUIsd0JBQUksS0FBS0QsYUFBTCxJQUFzQkMsU0FBMUIsRUFBcUM7QUFDakMsNEJBQUksS0FBS0kscUJBQUwsQ0FBMkIyRCxPQUEzQixFQUFKLEVBQTBDO0FBQ3RDakIsNENBQWdCLENBQWhCO0FBQ0EsZ0NBQUksS0FBS2pDLG9CQUFMLElBQTZCLENBQUMsS0FBS1IscUJBQUwsQ0FBMkIwRCxPQUEzQixFQUFsQyxFQUF3RTtBQUNwRWIsbURBQW1CLElBQW5CO0FBQ0g7QUFDSix5QkFMRCxNQUtPO0FBQ0gsZ0NBQU1jLGFBQWEsS0FBSzVELHFCQUFMLENBQTJCNkQsbUJBQTNCLENBQStDMUMsV0FBL0MsQ0FBbkI7QUFDQSxnQ0FBSXlDLGNBQWMsSUFBbEIsRUFBd0I7QUFDcEIsb0NBQUlFLFdBQVkzQyxlQUFleUMsV0FBV3pDLFdBQVgsR0FBeUJ5QyxXQUFXRyxRQUFuRCxDQUFoQjtBQUNBLG9DQUFJRCxZQUFZLENBQWhCLEVBQW1CO0FBQ2ZBLCtDQUFXLENBQVg7QUFDSDtBQUNELG9DQUFNRSxjQUFjSixXQUFXdEIsR0FBWCxHQUFpQnNCLFdBQVdHLFFBQTVCLEdBQXVDRCxRQUEzRDtBQUNBcEIsZ0RBQWdCdkIsY0FBYzZDLFdBQTlCO0FBQ0gsNkJBUEQsTUFPTztBQUFFO0FBQ0x0QixnREFBZ0IsQ0FBaEI7QUFDSDtBQUNKO0FBQ0oscUJBbkJELE1BbUJPO0FBQ0hBLHdDQUFnQnZCLGNBQWMsS0FBS3hCLGFBQW5DO0FBQ0g7QUFDSjs7QUFFRCxvQkFBSTJDLE1BQU1uQixjQUFjdUIsYUFBeEI7QUFDQSxvQkFBSUksZ0JBQUosRUFBc0I7QUFDbEI7QUFDQSx3QkFBTW1CLGVBQWUsS0FBS2hFLHFCQUFMLENBQTJCaUUsb0JBQTNCLENBQWdEL0MsV0FBaEQsQ0FBckI7QUFDQSx3QkFBSThDLGdCQUFnQixJQUFoQixJQUF3QkEsYUFBYUUsUUFBYixHQUF3QjdCLEdBQXBELEVBQXlEO0FBQ3JEUyw4Q0FBc0JULE1BQU0yQixhQUFhRSxRQUF6QztBQUNBN0IsOEJBQU0yQixhQUFhRSxRQUFuQjtBQUNILHFCQUhELE1BR087QUFDSHJCLDJDQUFtQixLQUFuQjtBQUNIO0FBQ0o7QUFDRCxvQkFBSUgsYUFBYSxDQUFDLENBQWxCLEVBQXFCO0FBQ2pCQSwrQkFBV0wsR0FBWDtBQUNIOztBQUVELG9CQUFJUSxnQkFBSixFQUFzQjtBQUNsQkEsdUNBQW1CLEtBQW5CO0FBQ0FWLDRCQUFRZ0MsT0FBUixDQUFnQlosU0FBaEI7O0FBRUEsd0JBQU1hLFFBQVEsS0FBS0Msb0JBQUwsQ0FBMEJoQyxHQUExQixFQUErQlMsbUJBQS9CLENBQWQ7QUFDQSx3QkFBSXNCLFNBQVMsSUFBYixFQUFtQjtBQUNmO0FBQ0g7QUFDRCx3QkFBTUUsYUFBWUYsTUFBTUUsU0FBeEI7QUFDQSx3QkFBTWIsUUFBT1csTUFBTVgsSUFBbkI7O0FBRUFILCtCQUFXaUIsSUFBWCxDQUFnQkQsVUFBaEI7O0FBRUE7QUFDQXZCLDZCQUFTVSxNQUFLZSxVQUFkO0FBQ0F4Qiw4QkFBVSxJQUFJQyxVQUFKLENBQWVGLEtBQWYsQ0FBVjtBQUNBQyw0QkFBUSxDQUFSLElBQWNELFVBQVUsRUFBWCxHQUFpQixJQUE5QjtBQUNBQyw0QkFBUSxDQUFSLElBQWNELFVBQVUsRUFBWCxHQUFpQixJQUE5QjtBQUNBQyw0QkFBUSxDQUFSLElBQWNELFVBQVUsQ0FBWCxHQUFnQixJQUE3QjtBQUNBQyw0QkFBUSxDQUFSLElBQWNELEtBQUQsR0FBVSxJQUF2QjtBQUNBQyw0QkFBUUUsR0FBUixDQUFZLG1CQUFJQyxLQUFKLENBQVVDLElBQXRCLEVBQTRCLENBQTVCOztBQUVBO0FBQ0FKLDRCQUFRRSxHQUFSLENBQVlPLEtBQVosRUFBa0JKLE1BQWxCO0FBQ0FBLDhCQUFVSSxNQUFLZSxVQUFmO0FBQ0E7QUFDSDs7QUFFRCxvQkFBSUMsaUJBQWlCLENBQXJCOztBQUVBLG9CQUFJdEMsUUFBUUMsTUFBUixJQUFrQixDQUF0QixFQUF5QjtBQUNyQix3QkFBTXNDLFVBQVV2QyxRQUFRLENBQVIsRUFBV0UsR0FBWCxHQUFpQixLQUFLaEQsUUFBdEIsR0FBaUNvRCxhQUFqRDtBQUNBZ0MscUNBQWlCQyxVQUFVckMsR0FBM0I7QUFDSCxpQkFIRCxNQUdPO0FBQ0gsd0JBQUlpQixXQUFXbEIsTUFBWCxJQUFxQixDQUF6QixFQUE0QjtBQUFFO0FBQzFCcUMseUNBQWlCbkIsV0FBV0EsV0FBV2xCLE1BQVgsR0FBb0IsQ0FBL0IsRUFBa0MwQixRQUFuRDtBQUNILHFCQUZELE1BRU87QUFBRTtBQUNMVyx5Q0FBaUIsS0FBSzVFLFVBQUwsQ0FBZ0I4RSxpQkFBakM7QUFDSDtBQUNKOztBQUVELG9CQUFNTCxZQUFZO0FBQ2RqQyw0QkFEYztBQUVkdUMseUJBQUt2QyxHQUZTO0FBR2R3Qyx5QkFBSyxDQUhTO0FBSWRDLDBCQUFNckIsS0FBS2UsVUFKRztBQUtkViw4QkFBVVcsY0FMSTtBQU1kdkQsNENBTmM7QUFPZDZELDJCQUFPO0FBQ0hDLG1DQUFXLENBRFI7QUFFSEMsbUNBQVcsQ0FGUjtBQUdIQyxzQ0FBYyxDQUhYO0FBSUhDLHVDQUFlO0FBSlo7QUFQTyxpQkFBbEI7QUFjQTdCLDJCQUFXaUIsSUFBWCxDQUFnQkQsU0FBaEI7QUFDQXRCLHdCQUFRRSxHQUFSLENBQVlPLElBQVosRUFBa0JKLE1BQWxCO0FBQ0FBLDBCQUFVSSxLQUFLZSxVQUFmO0FBQ0g7QUFDRCxnQkFBTVksU0FBUzlCLFdBQVdBLFdBQVdsQixNQUFYLEdBQW9CLENBQS9CLENBQWY7QUFDQU8sc0JBQVV5QyxPQUFPL0MsR0FBUCxHQUFhK0MsT0FBT3RCLFFBQTlCO0FBQ0EsaUJBQUtwRSxhQUFMLEdBQXFCaUQsT0FBckI7O0FBRUE7QUFDQSxnQkFBTTBDLE9BQU8sd0NBQWI7QUFDQUEsaUJBQUtuQixRQUFMLEdBQWdCeEIsUUFBaEI7QUFDQTJDLGlCQUFLQyxNQUFMLEdBQWMzQyxPQUFkO0FBQ0EwQyxpQkFBS0UsUUFBTCxHQUFnQjdDLFFBQWhCO0FBQ0EyQyxpQkFBS0csTUFBTCxHQUFjN0MsT0FBZDtBQUNBMEMsaUJBQUtJLGdCQUFMLEdBQXdCbkMsV0FBVyxDQUFYLEVBQWNwQyxXQUF0QztBQUNBbUUsaUJBQUtLLGNBQUwsR0FBc0JOLE9BQU9sRSxXQUFQLEdBQXFCa0UsT0FBT3RCLFFBQWxEO0FBQ0F1QixpQkFBS00sV0FBTCxHQUFtQixpQ0FBZXJDLFdBQVcsQ0FBWCxFQUFjakIsR0FBN0IsRUFDZmlCLFdBQVcsQ0FBWCxFQUFjc0IsR0FEQyxFQUVmdEIsV0FBVyxDQUFYLEVBQWNRLFFBRkMsRUFHZlIsV0FBVyxDQUFYLEVBQWNwQyxXQUhDLEVBSWYsS0FKZSxDQUFuQjtBQUtBbUUsaUJBQUsxQixVQUFMLEdBQWtCLGlDQUFleUIsT0FBTy9DLEdBQXRCLEVBQ2QrQyxPQUFPUixHQURPLEVBRWRRLE9BQU90QixRQUZPLEVBR2RzQixPQUFPbEUsV0FITyxFQUlkLEtBSmMsQ0FBbEI7QUFLQSxnQkFBSSxDQUFDLEtBQUsvQixPQUFWLEVBQW1CO0FBQ2YscUJBQUtZLHFCQUFMLENBQTJCNkYsTUFBM0IsQ0FBa0NQLElBQWxDO0FBQ0g7O0FBRUQ3QyxrQkFBTUwsT0FBTixHQUFnQm1CLFVBQWhCO0FBQ0FkLGtCQUFNcUQsY0FBTixJQUF3QnJELE1BQU1zRCxjQUE5Qjs7QUFFQSxnQkFBTUMsVUFBVSxtQkFBSUMsSUFBSixDQUFTeEQsS0FBVCxFQUFnQkUsUUFBaEIsQ0FBaEI7QUFDQUYsa0JBQU1MLE9BQU4sR0FBZ0IsRUFBaEI7QUFDQUssa0JBQU1KLE1BQU4sR0FBZSxDQUFmOztBQUVBLGlCQUFLbEMsZUFBTCxDQUFxQixPQUFyQixFQUE4QjtBQUMxQnVCLHNCQUFNLE9BRG9CO0FBRTFCTSxzQkFBTSxLQUFLa0UsV0FBTCxDQUFpQkYsT0FBakIsRUFBMEIvQyxPQUExQixFQUFtQ2hCLE1BRmY7QUFHMUJrRSw2QkFBYTVDLFdBQVdsQixNQUhFO0FBSTFCaUQ7QUFKMEIsYUFBOUI7QUFNSDs7OzZDQUVvQmhELEcsRUFBSzhELGEsRUFBZTtBQUNyQ3RFLGdCQUFJQyxDQUFKLENBQU0sS0FBSy9DLEdBQVgsa0NBQThDc0QsR0FBOUMscUJBQWlFOEQsYUFBakU7O0FBRUEsZ0JBQU0xQyxPQUFPLG9CQUFJMkMsY0FBSixDQUFtQixLQUFLdkcsVUFBTCxDQUFnQndHLFlBQW5DLENBQWI7QUFDQSxnQkFBSTVDLFFBQVEsSUFBWixFQUFrQjtBQUNkNUIsb0JBQUl5RSxDQUFKLENBQU0sS0FBS3ZILEdBQVgsMkRBQXVFLEtBQUtjLFVBQUwsQ0FBZ0J3RyxZQUF2RjtBQUNBLHVCQUFPLElBQVA7QUFDSDs7QUFFRCxnQkFBTS9CLFlBQVk7QUFDZGpDLHdCQURjO0FBRWR1QyxxQkFBS3ZDLEdBRlM7QUFHZHdDLHFCQUFLLENBSFM7QUFJZEMsc0JBQU1yQixLQUFLZSxVQUpHO0FBS2RWLDBCQUFVcUMsYUFMSTtBQU1kakYsNkJBQWFtQixHQU5DO0FBT2QwQyx1QkFBTztBQUNIQywrQkFBVyxDQURSO0FBRUhDLCtCQUFXLENBRlI7QUFHSEMsa0NBQWMsQ0FIWDtBQUlIQyxtQ0FBZTtBQUpaO0FBUE8sYUFBbEI7O0FBZUEsbUJBQU87QUFDSDFCLDBCQURHO0FBRUhhO0FBRkcsYUFBUDtBQUlIOzs7b0NBRVdsRCxVLEVBQVk7QUFDcEIsZ0JBQU1vQixRQUFRcEIsVUFBZDtBQUNBLGdCQUFNZSxVQUFVSyxNQUFNTCxPQUF0QjtBQUNBLGdCQUFJTSxzQkFBSjtBQUNBLGdCQUFJQyxXQUFXLENBQUMsQ0FBaEI7QUFBQSxnQkFDSUMsVUFBVSxDQUFDLENBRGY7QUFFQSxnQkFBSTRELFdBQVcsQ0FBQyxDQUFoQjtBQUFBLGdCQUNJM0QsVUFBVSxDQUFDLENBRGY7O0FBR0EsZ0JBQUksQ0FBQ1QsT0FBRCxJQUFZQSxRQUFRQyxNQUFSLEtBQW1CLENBQW5DLEVBQXNDO0FBQ2xDO0FBQ0g7O0FBRUQsZ0JBQU1XLFFBQVEsSUFBSTNCLFdBQVdnQixNQUE3QjtBQUNBLGdCQUFNWSxVQUFVLElBQUlDLFVBQUosQ0FBZUYsS0FBZixDQUFoQjtBQUNBQyxvQkFBUSxDQUFSLElBQWNELFVBQVUsRUFBWCxHQUFpQixJQUE5QjtBQUNBQyxvQkFBUSxDQUFSLElBQWNELFVBQVUsRUFBWCxHQUFpQixJQUE5QjtBQUNBQyxvQkFBUSxDQUFSLElBQWNELFVBQVUsQ0FBWCxHQUFnQixJQUE3QjtBQUNBQyxvQkFBUSxDQUFSLElBQWNELEtBQUQsR0FBVSxJQUF2QjtBQUNBQyxvQkFBUUUsR0FBUixDQUFZLG1CQUFJQyxLQUFKLENBQVVDLElBQXRCLEVBQTRCLENBQTVCOztBQUVBLGdCQUFJQyxTQUFTLENBQWI7QUFDQSxnQkFBTUMsYUFBYSxFQUFuQjtBQUNBLGdCQUFNK0IsT0FBTyx3Q0FBYjs7QUFFQSxtQkFBT2xELFFBQVFDLE1BQWYsRUFBdUI7QUFDbkIsb0JBQU1vRSxZQUFZckUsUUFBUXFCLEtBQVIsRUFBbEI7QUFDQSxvQkFBTWlELFdBQVdELFVBQVVFLFVBQTNCO0FBQ0Esb0JBQU14RixjQUFjc0YsVUFBVW5FLEdBQVYsR0FBZ0IsS0FBS2hELFFBQXpDOztBQUVBLG9CQUFJb0QsaUJBQWlCOUMsU0FBckIsRUFBZ0M7QUFDNUIsd0JBQUksS0FBS0MsYUFBTCxJQUFzQkQsU0FBMUIsRUFBcUM7QUFDakMsNEJBQUksS0FBS0sscUJBQUwsQ0FBMkIwRCxPQUEzQixFQUFKLEVBQTBDO0FBQ3RDakIsNENBQWdCLENBQWhCO0FBQ0gseUJBRkQsTUFFTztBQUNILGdDQUFNa0IsYUFBYSxLQUFLM0QscUJBQUwsQ0FBMkI0RCxtQkFBM0IsQ0FBK0MxQyxXQUEvQyxDQUFuQjtBQUNBLGdDQUFJeUMsY0FBYyxJQUFsQixFQUF3QjtBQUNwQixvQ0FBSUUsV0FBWTNDLGVBQWV5QyxXQUFXekMsV0FBWCxHQUF5QnlDLFdBQVdHLFFBQW5ELENBQWhCO0FBQ0Esb0NBQUlELFlBQVksQ0FBaEIsRUFBbUI7QUFDZkEsK0NBQVcsQ0FBWDtBQUNIO0FBQ0Qsb0NBQU1FLGNBQWNKLFdBQVd0QixHQUFYLEdBQWlCc0IsV0FBV0csUUFBNUIsR0FBdUNELFFBQTNEO0FBQ0FwQixnREFBZ0J2QixjQUFjNkMsV0FBOUI7QUFDSCw2QkFQRCxNQU9PO0FBQUU7QUFDTHRCLGdEQUFnQixDQUFoQjtBQUNIO0FBQ0o7QUFDSixxQkFoQkQsTUFnQk87QUFDSEEsd0NBQWdCdkIsY0FBYyxLQUFLdEIsYUFBbkM7QUFDSDtBQUNKOztBQUVELG9CQUFNeUMsTUFBTW5CLGNBQWN1QixhQUExQjtBQUNBLG9CQUFNb0MsTUFBTTJCLFVBQVUzQixHQUF0QjtBQUNBLG9CQUFNRCxNQUFNdkMsTUFBTXdDLEdBQWxCOztBQUVBLG9CQUFJbkMsYUFBYSxDQUFDLENBQWxCLEVBQXFCO0FBQ2pCQSwrQkFBV0wsR0FBWDtBQUNBa0UsK0JBQVczQixHQUFYO0FBQ0g7O0FBRUQ7QUFDQSxvQkFBSStCLGFBQWEsQ0FBakI7QUFDQSx1QkFBT0gsVUFBVUksS0FBVixDQUFnQnhFLE1BQXZCLEVBQStCO0FBQzNCLHdCQUFNcUIsT0FBTytDLFVBQVVJLEtBQVYsQ0FBZ0JwRCxLQUFoQixFQUFiO0FBQ0Esd0JBQU16QixPQUFPMEIsS0FBSzFCLElBQWxCO0FBQ0FpQiw0QkFBUUUsR0FBUixDQUFZbkIsSUFBWixFQUFrQnNCLE1BQWxCO0FBQ0FBLDhCQUFVdEIsS0FBS3lDLFVBQWY7QUFDQW1DLGtDQUFjNUUsS0FBS3lDLFVBQW5CO0FBQ0g7O0FBRUQsb0JBQUlDLGlCQUFpQixDQUFyQjs7QUFFQSxvQkFBSXRDLFFBQVFDLE1BQVIsSUFBa0IsQ0FBdEIsRUFBeUI7QUFDckIsd0JBQU1zQyxVQUFVdkMsUUFBUSxDQUFSLEVBQVdFLEdBQVgsR0FBaUIsS0FBS2hELFFBQXRCLEdBQWlDb0QsYUFBakQ7QUFDQWdDLHFDQUFpQkMsVUFBVXJDLEdBQTNCO0FBQ0gsaUJBSEQsTUFHTztBQUNILHdCQUFJaUIsV0FBV2xCLE1BQVgsSUFBcUIsQ0FBekIsRUFBNEI7QUFBRTtBQUMxQnFDLHlDQUFpQm5CLFdBQVdBLFdBQVdsQixNQUFYLEdBQW9CLENBQS9CLEVBQWtDMEIsUUFBbkQ7QUFDSCxxQkFGRCxNQUVPO0FBQUU7QUFDTFcseUNBQWlCLEtBQUszRSxVQUFMLENBQWdCNkUsaUJBQWpDO0FBQ0g7QUFDSjs7QUFFRCxvQkFBSThCLFFBQUosRUFBYztBQUNWLHdCQUFNSSxZQUFZLGlDQUFleEUsR0FBZixFQUFvQnVDLEdBQXBCLEVBQXlCSCxjQUF6QixFQUF5QytCLFVBQVVuRSxHQUFuRCxFQUF3RCxJQUF4RCxDQUFsQjtBQUNBd0UsOEJBQVVDLFlBQVYsR0FBeUJOLFVBQVVNLFlBQW5DO0FBQ0F6Qix5QkFBSzBCLGVBQUwsQ0FBcUJGLFNBQXJCO0FBQ0g7O0FBRUQsb0JBQU12QyxZQUFZO0FBQ2RqQyw0QkFEYztBQUVkdUMsNEJBRmM7QUFHZEMsNEJBSGM7QUFJZEMsMEJBQU02QixVQUpRO0FBS2RELGdDQUFZRCxRQUxFO0FBTWQzQyw4QkFBVVcsY0FOSTtBQU9kdkQsNENBUGM7QUFRZDZELDJCQUFPO0FBQ0hDLG1DQUFXLENBRFI7QUFFSEMsbUNBQVd3QixXQUFXLENBQVgsR0FBZSxDQUZ2QjtBQUdIdkIsc0NBQWN1QixXQUFXLENBQVgsR0FBZSxDQUgxQjtBQUlIdEIsdUNBQWUsQ0FKWjtBQUtINkIsbUNBQVdQLFdBQVcsQ0FBWCxHQUFlO0FBTHZCO0FBUk8saUJBQWxCOztBQWlCQW5ELDJCQUFXaUIsSUFBWCxDQUFnQkQsU0FBaEI7QUFDSDtBQUNELGdCQUFNYyxTQUFTOUIsV0FBV0EsV0FBV2xCLE1BQVgsR0FBb0IsQ0FBL0IsQ0FBZjtBQUNBTyxzQkFBVXlDLE9BQU8vQyxHQUFQLEdBQWErQyxPQUFPdEIsUUFBOUI7QUFDQWxCLHNCQUFVd0MsT0FBT1IsR0FBUCxHQUFhUSxPQUFPdEIsUUFBOUI7QUFDQSxpQkFBS2xFLGFBQUwsR0FBcUIrQyxPQUFyQjs7QUFFQTtBQUNBMEMsaUJBQUtuQixRQUFMLEdBQWdCeEIsUUFBaEI7QUFDQTJDLGlCQUFLQyxNQUFMLEdBQWMzQyxPQUFkO0FBQ0EwQyxpQkFBS0UsUUFBTCxHQUFnQmdCLFFBQWhCO0FBQ0FsQixpQkFBS0csTUFBTCxHQUFjNUMsT0FBZDtBQUNBeUMsaUJBQUtJLGdCQUFMLEdBQXdCbkMsV0FBVyxDQUFYLEVBQWNwQyxXQUF0QztBQUNBbUUsaUJBQUtLLGNBQUwsR0FBc0JOLE9BQU9sRSxXQUFQLEdBQXFCa0UsT0FBT3RCLFFBQWxEO0FBQ0F1QixpQkFBS00sV0FBTCxHQUFtQixpQ0FBZXJDLFdBQVcsQ0FBWCxFQUFjakIsR0FBN0IsRUFDZmlCLFdBQVcsQ0FBWCxFQUFjc0IsR0FEQyxFQUVmdEIsV0FBVyxDQUFYLEVBQWNRLFFBRkMsRUFHZlIsV0FBVyxDQUFYLEVBQWNwQyxXQUhDLEVBSWZvQyxXQUFXLENBQVgsRUFBY29ELFVBSkMsQ0FBbkI7QUFLQXJCLGlCQUFLMUIsVUFBTCxHQUFrQixpQ0FBZXlCLE9BQU8vQyxHQUF0QixFQUNkK0MsT0FBT1IsR0FETyxFQUVkUSxPQUFPdEIsUUFGTyxFQUdkc0IsT0FBT2xFLFdBSE8sRUFJZGtFLE9BQU9zQixVQUpPLENBQWxCO0FBS0EsZ0JBQUksQ0FBQyxLQUFLdkgsT0FBVixFQUFtQjtBQUNmLHFCQUFLYSxxQkFBTCxDQUEyQjRGLE1BQTNCLENBQWtDUCxJQUFsQztBQUNIOztBQUVEN0Msa0JBQU1MLE9BQU4sR0FBZ0JtQixVQUFoQjtBQUNBZCxrQkFBTXFELGNBQU4sSUFBd0JyRCxNQUFNc0QsY0FBOUI7O0FBRUE7QUFDQTtBQUNBLGdCQUFJLEtBQUszRixjQUFULEVBQXlCO0FBQ3JCLG9CQUFNNEUsUUFBUXpCLFdBQVcsQ0FBWCxFQUFjeUIsS0FBNUI7QUFDQUEsc0JBQU1FLFNBQU4sR0FBa0IsQ0FBbEI7QUFDQUYsc0JBQU1pQyxTQUFOLEdBQWtCLENBQWxCO0FBQ0g7O0FBRUQsZ0JBQU1qQixVQUFVLG1CQUFJQyxJQUFKLENBQVN4RCxLQUFULEVBQWdCRSxRQUFoQixDQUFoQjtBQUNBRixrQkFBTUwsT0FBTixHQUFnQixFQUFoQjtBQUNBSyxrQkFBTUosTUFBTixHQUFlLENBQWY7O0FBRUEsaUJBQUtsQyxlQUFMLENBQXFCLE9BQXJCLEVBQThCO0FBQzFCdUIsc0JBQU0sT0FEb0I7QUFFMUJNLHNCQUFNLEtBQUtrRSxXQUFMLENBQWlCRixPQUFqQixFQUEwQi9DLE9BQTFCLEVBQW1DaEIsTUFGZjtBQUcxQmtFLDZCQUFhNUMsV0FBV2xCLE1BSEU7QUFJMUJpRDtBQUowQixhQUE5QjtBQU1IOzs7b0NBRVdXLEksRUFBTTVDLEksRUFBTTtBQUNwQixnQkFBTTZELFNBQVMsSUFBSWhFLFVBQUosQ0FBZStDLEtBQUt4QixVQUFMLEdBQWtCcEIsS0FBS29CLFVBQXRDLENBQWY7QUFDQXlDLG1CQUFPL0QsR0FBUCxDQUFXOEMsSUFBWCxFQUFpQixDQUFqQjtBQUNBaUIsbUJBQU8vRCxHQUFQLENBQVdFLElBQVgsRUFBaUI0QyxLQUFLeEIsVUFBdEI7QUFDQSxtQkFBT3lDLE1BQVA7QUFDSDs7OzRCQXBjbUI7QUFDaEIsbUJBQU8sS0FBS2hILGNBQVo7QUFDSCxTOzBCQUVpQmlILFEsRUFBVTtBQUN4QixpQkFBS2pILGNBQUwsR0FBc0JpSCxRQUF0QjtBQUNIOztBQUVEOzs7Ozs7Ozs7Ozs0QkFRcUI7QUFDakIsbUJBQU8sS0FBS2hILGVBQVo7QUFDSCxTOzBCQUVrQmdILFEsRUFBVTtBQUN6QixpQkFBS2hILGVBQUwsR0FBdUJnSCxRQUF2QjtBQUNIOzs7Ozs7a0JBa2JVckksVSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IEFBQyBmcm9tICcuL2FhYy1zaWxlbnQuanMnO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi4vdXRpbHMvYnJvd3Nlci5qcyc7XG5pbXBvcnQgTVA0IGZyb20gJy4vbXA0cmVtdXgnO1xuaW1wb3J0IHsgU2FtcGxlSW5mbywgTWVkaWFTZWdtZW50SW5mbywgTWVkaWFTZWdtZW50SW5mb0xpc3QgfSBmcm9tICcuL21lZGlhLXNlZ21lbnQtaW5mby5qcyc7XG5cbi8vIEZyYWdtZW50ZWQgbXA0IHJlbXV4ZXJcbmNsYXNzIE1QNFJlbXV4ZXIge1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5faXNMaXZlID0gKGNvbmZpZy5pc0xpdmUgPT09IHRydWUpO1xuXG4gICAgICAgIHRoaXMuX2R0c0Jhc2UgPSAtMTtcbiAgICAgICAgdGhpcy5fZHRzQmFzZUluaXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hdWRpb0R0c0Jhc2UgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5fdmlkZW9EdHNCYXNlID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMuX2F1ZGlvTmV4dER0cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdmlkZW9OZXh0RHRzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRoaXMuX2F1ZGlvTWV0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvTWV0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3QgPSBuZXcgTWVkaWFTZWdtZW50SW5mb0xpc3QoJ2F1ZGlvJyk7XG4gICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0ID0gbmV3IE1lZGlhU2VnbWVudEluZm9MaXN0KCd2aWRlbycpO1xuXG4gICAgICAgIHRoaXMuX29uSW5pdFNlZ21lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbk1lZGlhU2VnbWVudCA9IG51bGw7XG5cbiAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgY2hyb21lIDwgNTA6IEFsd2F5cyBmb3JjZSBmaXJzdCBzYW1wbGUgYXMgYSBSYW5kb20gQWNjZXNzIFBvaW50IGluIG1lZGlhIHNlZ21lbnRcbiAgICAgICAgLy8gc2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTIyOTQxMlxuICAgICAgICB0aGlzLl9mb3JjZUZpcnN0SURSID0gISEoKEJyb3dzZXIuY2hyb21lICYmXG4gICAgICAgICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yIDwgNTAgfHxcbiAgICAgICAgICAgICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yID09PSA1MCAmJiBCcm93c2VyLnZlcnNpb24uYnVpbGQgPCAyNjYxKSkpKTtcblxuICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBJRTExL0VkZ2U6IEZpbGwgc2lsZW50IGFhYyBmcmFtZSBhZnRlciBrZXlmcmFtZS1zZWVraW5nXG4gICAgICAgIC8vIE1ha2UgYXVkaW8gYmVnaW5EdHMgZXF1YWxzIHdpdGggdmlkZW8gYmVnaW5EdHMsIGluIG9yZGVyIHRvIGZpeCBzZWVrIGZyZWV6ZVxuICAgICAgICB0aGlzLl9maWxsU2lsZW50QWZ0ZXJTZWVrID0gKEJyb3dzZXIubXNlZGdlIHx8IEJyb3dzZXIubXNpZSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fZHRzQmFzZSA9IC0xO1xuICAgICAgICB0aGlzLl9kdHNCYXNlSW5pdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2F1ZGlvTWV0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvTWV0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkluaXRTZWdtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25NZWRpYVNlZ21lbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGJpbmREYXRhU291cmNlKHByb2R1Y2VyKSB7XG4gICAgICAgIHByb2R1Y2VyLm9uRGF0YUF2YWlsYWJsZSA9IHRoaXMucmVtdXguYmluZCh0aGlzKTtcbiAgICAgICAgcHJvZHVjZXIub25UcmFja01ldGFkYXRhID0gdGhpcy5fb25UcmFja01ldGFkYXRhUmVjZWl2ZWQuYmluZCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyogcHJvdG90eXBlOiBmdW5jdGlvbiBvbkluaXRTZWdtZW50KHR5cGU6IHN0cmluZywgaW5pdFNlZ21lbnQ6IEFycmF5QnVmZmVyKTogdm9pZFxuICAgICAgIEluaXRTZWdtZW50OiB7XG4gICAgICAgICAgIHR5cGU6IHN0cmluZyxcbiAgICAgICAgICAgZGF0YTogQXJyYXlCdWZmZXIsXG4gICAgICAgICAgIGNvZGVjOiBzdHJpbmcsXG4gICAgICAgICAgIGNvbnRhaW5lcjogc3RyaW5nXG4gICAgICAgfVxuICAgICovXG4gICAgZ2V0IG9uSW5pdFNlZ21lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkluaXRTZWdtZW50O1xuICAgIH1cblxuICAgIHNldCBvbkluaXRTZWdtZW50KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uSW5pdFNlZ21lbnQgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvKiBwcm90b3R5cGU6IGZ1bmN0aW9uIG9uTWVkaWFTZWdtZW50KHR5cGU6IHN0cmluZywgbWVkaWFTZWdtZW50OiBNZWRpYVNlZ21lbnQpOiB2b2lkXG4gICAgICAgTWVkaWFTZWdtZW50OiB7XG4gICAgICAgICAgIHR5cGU6IHN0cmluZyxcbiAgICAgICAgICAgZGF0YTogQXJyYXlCdWZmZXIsXG4gICAgICAgICAgIHNhbXBsZUNvdW50OiBpbnQzMlxuICAgICAgICAgICBpbmZvOiBNZWRpYVNlZ21lbnRJbmZvXG4gICAgICAgfVxuICAgICovXG4gICAgZ2V0IG9uTWVkaWFTZWdtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25NZWRpYVNlZ21lbnQ7XG4gICAgfVxuXG4gICAgc2V0IG9uTWVkaWFTZWdtZW50KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50ID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgaW5zZXJ0RGlzY29udGludWl0eSgpIHtcbiAgICAgICAgdGhpcy5fYXVkaW9OZXh0RHRzID0gdGhpcy5fdmlkZW9OZXh0RHRzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHNlZWsob3JpZ2luYWxEdHMpIHtcbiAgICAgICAgdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKTtcbiAgICB9XG5cbiAgICByZW11eChhdWRpb1RyYWNrLCB2aWRlb1RyYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5fb25NZWRpYVNlZ21lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ01QNFJlbXV4ZXI6IG9uTWVkaWFTZWdtZW50IGNhbGxiYWNrIG11c3QgYmUgc3BlY2lmaWNlZCEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2R0c0Jhc2VJbml0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUR0c0Jhc2UoYXVkaW9UcmFjaywgdmlkZW9UcmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVtdXhWaWRlbyh2aWRlb1RyYWNrKTtcbiAgICAgICAgdGhpcy5fcmVtdXhBdWRpbyhhdWRpb1RyYWNrKTtcbiAgICB9XG5cbiAgICBfb25UcmFja01ldGFkYXRhUmVjZWl2ZWQodHlwZSwgbWV0YWRhdGEpIHtcbiAgICAgICAgbGV0IG1ldGFib3ggPSBudWxsO1xuXG4gICAgICAgIGlmICh0eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICB0aGlzLl9hdWRpb01ldGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgIG1ldGFib3ggPSBNUDQuZ2VuZXJhdGVJbml0U2VnbWVudChtZXRhZGF0YSk7XG4gICAgICAgICAgICBMb2cudignbXNnK2F1ZGlvJywgbWV0YWRhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvTWV0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgbWV0YWJveCA9IE1QNC5nZW5lcmF0ZUluaXRTZWdtZW50KG1ldGFkYXRhKTtcbiAgICAgICAgICAgIExvZy52KCdtc2crdmlkZW8nLCBtZXRhZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXNwYXRjaCBtZXRhYm94IChJbml0aWFsaXphdGlvbiBTZWdtZW50KVxuICAgICAgICBpZiAoIXRoaXMuX29uSW5pdFNlZ21lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ01QNFJlbXV4ZXI6IG9uSW5pdFNlZ21lbnQgY2FsbGJhY2sgbXVzdCBiZSBzcGVjaWZpZWQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb25Jbml0U2VnbWVudCh0eXBlLCB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZGF0YTogbWV0YWJveC5idWZmZXIsXG4gICAgICAgICAgICBjb2RlYzogbWV0YWRhdGEuY29kZWMsXG4gICAgICAgICAgICBjb250YWluZXI6IGAke3R5cGV9L21wNGBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZUR0c0Jhc2UoYXVkaW9UcmFjaywgdmlkZW9UcmFjaykge1xuICAgICAgICBpZiAodGhpcy5fZHRzQmFzZUluaXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF1ZGlvVHJhY2suc2FtcGxlcyAmJiBhdWRpb1RyYWNrLnNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9hdWRpb0R0c0Jhc2UgPSBhdWRpb1RyYWNrLnNhbXBsZXNbMF0uZHRzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aWRlb1RyYWNrLnNhbXBsZXMgJiYgdmlkZW9UcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9EdHNCYXNlID0gdmlkZW9UcmFjay5zYW1wbGVzWzBdLmR0cztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2R0c0Jhc2UgPSBNYXRoLm1pbih0aGlzLl9hdWRpb0R0c0Jhc2UsIHRoaXMuX3ZpZGVvRHRzQmFzZSk7XG4gICAgICAgIHRoaXMuX2R0c0Jhc2VJbml0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIF9yZW11eEF1ZGlvKGF1ZGlvVHJhY2spIHtcbiAgICAgICAgY29uc3QgdHJhY2sgPSBhdWRpb1RyYWNrO1xuICAgICAgICBjb25zdCBzYW1wbGVzID0gdHJhY2suc2FtcGxlcztcbiAgICAgICAgbGV0IGR0c0NvcnJlY3Rpb247XG4gICAgICAgIGxldCBmaXJzdER0cyA9IC0xLFxuICAgICAgICAgICAgbGFzdER0cyA9IC0xLFxuICAgICAgICAgICAgbGFzdFB0cyA9IC0xO1xuXG4gICAgICAgIGxldCByZW11eFNpbGVudEZyYW1lID0gZmFsc2U7XG4gICAgICAgIGxldCBzaWxlbnRGcmFtZUR1cmF0aW9uID0gLTE7XG5cbiAgICAgICAgaWYgKCFzYW1wbGVzIHx8IHNhbXBsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnl0ZXMgPSA4ICsgdHJhY2subGVuZ3RoO1xuICAgICAgICBsZXQgbWRhdGJveCA9IG5ldyBVaW50OEFycmF5KGJ5dGVzKTtcbiAgICAgICAgbWRhdGJveFswXSA9IChieXRlcyA+Pj4gMjQpICYgMHhGRjtcbiAgICAgICAgbWRhdGJveFsxXSA9IChieXRlcyA+Pj4gMTYpICYgMHhGRjtcbiAgICAgICAgbWRhdGJveFsyXSA9IChieXRlcyA+Pj4gOCkgJiAweEZGO1xuICAgICAgICBtZGF0Ym94WzNdID0gKGJ5dGVzKSAmIDB4RkY7XG5cbiAgICAgICAgbWRhdGJveC5zZXQoTVA0LnR5cGVzLm1kYXQsIDQpO1xuXG4gICAgICAgIGxldCBvZmZzZXQgPSA4OyAvLyBzaXplICsgdHlwZVxuICAgICAgICBjb25zdCBtcDRTYW1wbGVzID0gW107XG5cbiAgICAgICAgd2hpbGUgKHNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBhYWNTYW1wbGUgPSBzYW1wbGVzLnNoaWZ0KCk7XG4gICAgICAgICAgICBjb25zdCB1bml0ID0gYWFjU2FtcGxlLnVuaXQ7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbER0cyA9IGFhY1NhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlO1xuXG4gICAgICAgICAgICBpZiAoZHRzQ29ycmVjdGlvbiA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXVkaW9OZXh0RHRzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3QuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maWxsU2lsZW50QWZ0ZXJTZWVrICYmICF0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW11eFNpbGVudEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTYW1wbGUgPSB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5nZXRMYXN0U2FtcGxlQmVmb3JlKG9yaWdpbmFsRHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2FtcGxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSAob3JpZ2luYWxEdHMgLSAobGFzdFNhbXBsZS5vcmlnaW5hbER0cyArIGxhc3RTYW1wbGUuZHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkRHRzID0gbGFzdFNhbXBsZS5kdHMgKyBsYXN0U2FtcGxlLmR1cmF0aW9uICsgZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IG9yaWdpbmFsRHRzIC0gZXhwZWN0ZWREdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBsYXN0U2FtcGxlID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSBvcmlnaW5hbER0cyAtIHRoaXMuX2F1ZGlvTmV4dER0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkdHMgPSBvcmlnaW5hbER0cyAtIGR0c0NvcnJlY3Rpb247XG4gICAgICAgICAgICBpZiAocmVtdXhTaWxlbnRGcmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIGFsaWduIGF1ZGlvIHNlZ21lbnQgYmVnaW5EdHMgdG8gbWF0Y2ggd2l0aCBjdXJyZW50IHZpZGVvIHNlZ21lbnQncyBiZWdpbkR0c1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvU2VnbWVudCA9IHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmdldExhc3RTZWdtZW50QmVmb3JlKG9yaWdpbmFsRHRzKTtcbiAgICAgICAgICAgICAgICBpZiAodmlkZW9TZWdtZW50ICE9IG51bGwgJiYgdmlkZW9TZWdtZW50LmJlZ2luRHRzIDwgZHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpbGVudEZyYW1lRHVyYXRpb24gPSBkdHMgLSB2aWRlb1NlZ21lbnQuYmVnaW5EdHM7XG4gICAgICAgICAgICAgICAgICAgIGR0cyA9IHZpZGVvU2VnbWVudC5iZWdpbkR0cztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZW11eFNpbGVudEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0RHRzID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGZpcnN0RHRzID0gZHRzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVtdXhTaWxlbnRGcmFtZSkge1xuICAgICAgICAgICAgICAgIHJlbXV4U2lsZW50RnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzYW1wbGVzLnVuc2hpZnQoYWFjU2FtcGxlKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2VuZXJhdGVTaWxlbnRBdWRpbyhkdHMsIHNpbGVudEZyYW1lRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBtcDRTYW1wbGUgPSBmcmFtZS5tcDRTYW1wbGU7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5pdCA9IGZyYW1lLnVuaXQ7XG5cbiAgICAgICAgICAgICAgICBtcDRTYW1wbGVzLnB1c2gobXA0U2FtcGxlKTtcblxuICAgICAgICAgICAgICAgIC8vIHJlLWFsbG9jYXRlIG1kYXRib3ggYnVmZmVyIHdpdGggbmV3IHNpemUsIHRvIGZpdCB3aXRoIHRoaXMgc2lsZW50IGZyYW1lXG4gICAgICAgICAgICAgICAgYnl0ZXMgKz0gdW5pdC5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIG1kYXRib3ggPSBuZXcgVWludDhBcnJheShieXRlcyk7XG4gICAgICAgICAgICAgICAgbWRhdGJveFswXSA9IChieXRlcyA+Pj4gMjQpICYgMHhGRjtcbiAgICAgICAgICAgICAgICBtZGF0Ym94WzFdID0gKGJ5dGVzID4+PiAxNikgJiAweEZGO1xuICAgICAgICAgICAgICAgIG1kYXRib3hbMl0gPSAoYnl0ZXMgPj4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgICAgICBtZGF0Ym94WzNdID0gKGJ5dGVzKSAmIDB4RkY7XG4gICAgICAgICAgICAgICAgbWRhdGJveC5zZXQoTVA0LnR5cGVzLm1kYXQsIDQpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsbCBkYXRhIG5vd1xuICAgICAgICAgICAgICAgIG1kYXRib3guc2V0KHVuaXQsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHNhbXBsZUR1cmF0aW9uID0gMDtcblxuICAgICAgICAgICAgaWYgKHNhbXBsZXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0RHRzID0gc2FtcGxlc1swXS5kdHMgLSB0aGlzLl9kdHNCYXNlIC0gZHRzQ29ycmVjdGlvbjtcbiAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IG5leHREdHMgLSBkdHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtcDRTYW1wbGVzLmxlbmd0aCA+PSAxKSB7IC8vIHVzZSBzZWNvbmQgbGFzdCBzYW1wbGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBtcDRTYW1wbGVzW21wNFNhbXBsZXMubGVuZ3RoIC0gMV0uZHVyYXRpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gdGhlIG9ubHkgb25lIHNhbXBsZSwgdXNlIHJlZmVyZW5jZSBzYW1wbGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSB0aGlzLl9hdWRpb01ldGEucmVmU2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBtcDRTYW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgZHRzLFxuICAgICAgICAgICAgICAgIHB0czogZHRzLFxuICAgICAgICAgICAgICAgIGN0czogMCxcbiAgICAgICAgICAgICAgICBzaXplOiB1bml0LmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHNhbXBsZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRHRzLFxuICAgICAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgZGVwZW5kc09uOiAxLFxuICAgICAgICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbXA0U2FtcGxlcy5wdXNoKG1wNFNhbXBsZSk7XG4gICAgICAgICAgICBtZGF0Ym94LnNldCh1bml0LCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYXRlc3QgPSBtcDRTYW1wbGVzW21wNFNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxhc3REdHMgPSBsYXRlc3QuZHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICB0aGlzLl9hdWRpb05leHREdHMgPSBsYXN0RHRzO1xuXG4gICAgICAgIC8vIGZpbGwgbWVkaWEgc2VnbWVudCBpbmZvICYgYWRkIHRvIGluZm8gbGlzdFxuICAgICAgICBjb25zdCBpbmZvID0gbmV3IE1lZGlhU2VnbWVudEluZm8oKTtcbiAgICAgICAgaW5mby5iZWdpbkR0cyA9IGZpcnN0RHRzO1xuICAgICAgICBpbmZvLmVuZER0cyA9IGxhc3REdHM7XG4gICAgICAgIGluZm8uYmVnaW5QdHMgPSBmaXJzdER0cztcbiAgICAgICAgaW5mby5lbmRQdHMgPSBsYXN0RHRzO1xuICAgICAgICBpbmZvLm9yaWdpbmFsQmVnaW5EdHMgPSBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzO1xuICAgICAgICBpbmZvLm9yaWdpbmFsRW5kRHRzID0gbGF0ZXN0Lm9yaWdpbmFsRHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICBpbmZvLmZpcnN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obXA0U2FtcGxlc1swXS5kdHMsXG4gICAgICAgICAgICBtcDRTYW1wbGVzWzBdLnB0cyxcbiAgICAgICAgICAgIG1wNFNhbXBsZXNbMF0uZHVyYXRpb24sXG4gICAgICAgICAgICBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzLFxuICAgICAgICAgICAgZmFsc2UpO1xuICAgICAgICBpbmZvLmxhc3RTYW1wbGUgPSBuZXcgU2FtcGxlSW5mbyhsYXRlc3QuZHRzLFxuICAgICAgICAgICAgbGF0ZXN0LnB0cyxcbiAgICAgICAgICAgIGxhdGVzdC5kdXJhdGlvbixcbiAgICAgICAgICAgIGxhdGVzdC5vcmlnaW5hbER0cyxcbiAgICAgICAgICAgIGZhbHNlKTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0xpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmFwcGVuZChpbmZvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYWNrLnNhbXBsZXMgPSBtcDRTYW1wbGVzO1xuICAgICAgICB0cmFjay5zZXF1ZW5jZU51bWJlciArPSB0cmFjay5hZGRjb2VmZmljaWVudDtcblxuICAgICAgICBjb25zdCBtb29mYm94ID0gTVA0Lm1vb2YodHJhY2ssIGZpcnN0RHRzKTtcbiAgICAgICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgICB0cmFjay5sZW5ndGggPSAwO1xuXG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50KCdhdWRpbycsIHtcbiAgICAgICAgICAgIHR5cGU6ICdhdWRpbycsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLl9tZXJnZUJveGVzKG1vb2Zib3gsIG1kYXRib3gpLmJ1ZmZlcixcbiAgICAgICAgICAgIHNhbXBsZUNvdW50OiBtcDRTYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZm9cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2dlbmVyYXRlU2lsZW50QXVkaW8oZHRzLCBmcmFtZUR1cmF0aW9uKSB7XG4gICAgICAgIExvZy52KHRoaXMuVEFHLCBgR2VuZXJhdGVTaWxlbnRBdWRpbzogZHRzID0gJHtkdHN9LCBkdXJhdGlvbiA9ICR7ZnJhbWVEdXJhdGlvbn1gKTtcblxuICAgICAgICBjb25zdCB1bml0ID0gQUFDLmdldFNpbGVudEZyYW1lKHRoaXMuX2F1ZGlvTWV0YS5jaGFubmVsQ291bnQpO1xuICAgICAgICBpZiAodW5pdCA9PSBudWxsKSB7XG4gICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgYENhbm5vdCBnZW5lcmF0ZSBzaWxlbnQgYWFjIGZyYW1lIGZvciBjaGFubmVsQ291bnQgPSAke3RoaXMuX2F1ZGlvTWV0YS5jaGFubmVsQ291bnR9YCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1wNFNhbXBsZSA9IHtcbiAgICAgICAgICAgIGR0cyxcbiAgICAgICAgICAgIHB0czogZHRzLFxuICAgICAgICAgICAgY3RzOiAwLFxuICAgICAgICAgICAgc2l6ZTogdW5pdC5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgZHVyYXRpb246IGZyYW1lRHVyYXRpb24sXG4gICAgICAgICAgICBvcmlnaW5hbER0czogZHRzLFxuICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICBpc0xlYWRpbmc6IDAsXG4gICAgICAgICAgICAgICAgZGVwZW5kc09uOiAxLFxuICAgICAgICAgICAgICAgIGlzRGVwZW5kZWRPbjogMCxcbiAgICAgICAgICAgICAgICBoYXNSZWR1bmRhbmN5OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVuaXQsXG4gICAgICAgICAgICBtcDRTYW1wbGVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfcmVtdXhWaWRlbyh2aWRlb1RyYWNrKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gdmlkZW9UcmFjaztcbiAgICAgICAgY29uc3Qgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXM7XG4gICAgICAgIGxldCBkdHNDb3JyZWN0aW9uO1xuICAgICAgICBsZXQgZmlyc3REdHMgPSAtMSxcbiAgICAgICAgICAgIGxhc3REdHMgPSAtMTtcbiAgICAgICAgbGV0IGZpcnN0UHRzID0gLTEsXG4gICAgICAgICAgICBsYXN0UHRzID0gLTE7XG5cbiAgICAgICAgaWYgKCFzYW1wbGVzIHx8IHNhbXBsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBieXRlcyA9IDggKyB2aWRlb1RyYWNrLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbWRhdGJveCA9IG5ldyBVaW50OEFycmF5KGJ5dGVzKTtcbiAgICAgICAgbWRhdGJveFswXSA9IChieXRlcyA+Pj4gMjQpICYgMHhGRjtcbiAgICAgICAgbWRhdGJveFsxXSA9IChieXRlcyA+Pj4gMTYpICYgMHhGRjtcbiAgICAgICAgbWRhdGJveFsyXSA9IChieXRlcyA+Pj4gOCkgJiAweEZGO1xuICAgICAgICBtZGF0Ym94WzNdID0gKGJ5dGVzKSAmIDB4RkY7XG4gICAgICAgIG1kYXRib3guc2V0KE1QNC50eXBlcy5tZGF0LCA0KTtcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gODtcbiAgICAgICAgY29uc3QgbXA0U2FtcGxlcyA9IFtdO1xuICAgICAgICBjb25zdCBpbmZvID0gbmV3IE1lZGlhU2VnbWVudEluZm8oKTtcblxuICAgICAgICB3aGlsZSAoc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGF2Y1NhbXBsZSA9IHNhbXBsZXMuc2hpZnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGtleWZyYW1lID0gYXZjU2FtcGxlLmlzS2V5ZnJhbWU7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbER0cyA9IGF2Y1NhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlO1xuXG4gICAgICAgICAgICBpZiAoZHRzQ29ycmVjdGlvbiA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmlkZW9OZXh0RHRzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTYW1wbGUgPSB0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdC5nZXRMYXN0U2FtcGxlQmVmb3JlKG9yaWdpbmFsRHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2FtcGxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UgPSAob3JpZ2luYWxEdHMgLSAobGFzdFNhbXBsZS5vcmlnaW5hbER0cyArIGxhc3RTYW1wbGUuZHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkRHRzID0gbGFzdFNhbXBsZS5kdHMgKyBsYXN0U2FtcGxlLmR1cmF0aW9uICsgZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IG9yaWdpbmFsRHRzIC0gZXhwZWN0ZWREdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBsYXN0U2FtcGxlID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSBvcmlnaW5hbER0cyAtIHRoaXMuX3ZpZGVvTmV4dER0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGR0cyA9IG9yaWdpbmFsRHRzIC0gZHRzQ29ycmVjdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGN0cyA9IGF2Y1NhbXBsZS5jdHM7XG4gICAgICAgICAgICBjb25zdCBwdHMgPSBkdHMgKyBjdHM7XG5cbiAgICAgICAgICAgIGlmIChmaXJzdER0cyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBmaXJzdER0cyA9IGR0cztcbiAgICAgICAgICAgICAgICBmaXJzdFB0cyA9IHB0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmlsbCBtZGF0IGJveFxuICAgICAgICAgICAgbGV0IHNhbXBsZVNpemUgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGF2Y1NhbXBsZS51bml0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1bml0ID0gYXZjU2FtcGxlLnVuaXRzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHVuaXQuZGF0YTtcbiAgICAgICAgICAgICAgICBtZGF0Ym94LnNldChkYXRhLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgc2FtcGxlU2l6ZSArPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzYW1wbGVEdXJhdGlvbiA9IDA7XG5cbiAgICAgICAgICAgIGlmIChzYW1wbGVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dER0cyA9IHNhbXBsZXNbMF0uZHRzIC0gdGhpcy5fZHRzQmFzZSAtIGR0c0NvcnJlY3Rpb247XG4gICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBuZXh0RHRzIC0gZHRzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobXA0U2FtcGxlcy5sZW5ndGggPj0gMSkgeyAvLyBsYXN0ZXN0IHNhbXBsZSwgdXNlIHNlY29uZCBsYXN0IGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbXA0U2FtcGxlc1ttcDRTYW1wbGVzLmxlbmd0aCAtIDFdLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHRoZSBvbmx5IG9uZSBzYW1wbGUsIHVzZSByZWZlcmVuY2UgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSB0aGlzLl92aWRlb01ldGEucmVmU2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoa2V5ZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzeW5jUG9pbnQgPSBuZXcgU2FtcGxlSW5mbyhkdHMsIHB0cywgc2FtcGxlRHVyYXRpb24sIGF2Y1NhbXBsZS5kdHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIHN5bmNQb2ludC5maWxlcG9zaXRpb24gPSBhdmNTYW1wbGUuZmlsZXBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGluZm8uYXBwZW5kU3luY1BvaW50KHN5bmNQb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1wNFNhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICBkdHMsXG4gICAgICAgICAgICAgICAgcHRzLFxuICAgICAgICAgICAgICAgIGN0cyxcbiAgICAgICAgICAgICAgICBzaXplOiBzYW1wbGVTaXplLFxuICAgICAgICAgICAgICAgIGlzS2V5ZnJhbWU6IGtleWZyYW1lLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzYW1wbGVEdXJhdGlvbixcbiAgICAgICAgICAgICAgICBvcmlnaW5hbER0cyxcbiAgICAgICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgICAgICBpc0xlYWRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZHNPbjoga2V5ZnJhbWUgPyAyIDogMSxcbiAgICAgICAgICAgICAgICAgICAgaXNEZXBlbmRlZE9uOiBrZXlmcmFtZSA/IDEgOiAwLFxuICAgICAgICAgICAgICAgICAgICBoYXNSZWR1bmRhbmN5OiAwLFxuICAgICAgICAgICAgICAgICAgICBpc05vblN5bmM6IGtleWZyYW1lID8gMCA6IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBtcDRTYW1wbGVzLnB1c2gobXA0U2FtcGxlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYXRlc3QgPSBtcDRTYW1wbGVzW21wNFNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxhc3REdHMgPSBsYXRlc3QuZHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICBsYXN0UHRzID0gbGF0ZXN0LnB0cyArIGxhdGVzdC5kdXJhdGlvbjtcbiAgICAgICAgdGhpcy5fdmlkZW9OZXh0RHRzID0gbGFzdER0cztcblxuICAgICAgICAvLyBmaWxsIG1lZGlhIHNlZ21lbnQgaW5mbyAmIGFkZCB0byBpbmZvIGxpc3RcbiAgICAgICAgaW5mby5iZWdpbkR0cyA9IGZpcnN0RHRzO1xuICAgICAgICBpbmZvLmVuZER0cyA9IGxhc3REdHM7XG4gICAgICAgIGluZm8uYmVnaW5QdHMgPSBmaXJzdFB0cztcbiAgICAgICAgaW5mby5lbmRQdHMgPSBsYXN0UHRzO1xuICAgICAgICBpbmZvLm9yaWdpbmFsQmVnaW5EdHMgPSBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzO1xuICAgICAgICBpbmZvLm9yaWdpbmFsRW5kRHRzID0gbGF0ZXN0Lm9yaWdpbmFsRHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICBpbmZvLmZpcnN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obXA0U2FtcGxlc1swXS5kdHMsXG4gICAgICAgICAgICBtcDRTYW1wbGVzWzBdLnB0cyxcbiAgICAgICAgICAgIG1wNFNhbXBsZXNbMF0uZHVyYXRpb24sXG4gICAgICAgICAgICBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzLFxuICAgICAgICAgICAgbXA0U2FtcGxlc1swXS5pc0tleWZyYW1lKTtcbiAgICAgICAgaW5mby5sYXN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obGF0ZXN0LmR0cyxcbiAgICAgICAgICAgIGxhdGVzdC5wdHMsXG4gICAgICAgICAgICBsYXRlc3QuZHVyYXRpb24sXG4gICAgICAgICAgICBsYXRlc3Qub3JpZ2luYWxEdHMsXG4gICAgICAgICAgICBsYXRlc3QuaXNLZXlmcmFtZSk7XG4gICAgICAgIGlmICghdGhpcy5faXNMaXZlKSB7XG4gICAgICAgICAgICB0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdC5hcHBlbmQoaW5mbyk7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFjay5zYW1wbGVzID0gbXA0U2FtcGxlcztcbiAgICAgICAgdHJhY2suc2VxdWVuY2VOdW1iZXIgKz0gdHJhY2suYWRkY29lZmZpY2llbnQ7XG5cbiAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgY2hyb21lIDwgNTA6IGZvcmNlIGZpcnN0IHNhbXBsZSBhcyBhIHJhbmRvbSBhY2Nlc3MgcG9pbnRcbiAgICAgICAgLy8gc2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTIyOTQxMlxuICAgICAgICBpZiAodGhpcy5fZm9yY2VGaXJzdElEUikge1xuICAgICAgICAgICAgY29uc3QgZmxhZ3MgPSBtcDRTYW1wbGVzWzBdLmZsYWdzO1xuICAgICAgICAgICAgZmxhZ3MuZGVwZW5kc09uID0gMjtcbiAgICAgICAgICAgIGZsYWdzLmlzTm9uU3luYyA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb29mYm94ID0gTVA0Lm1vb2YodHJhY2ssIGZpcnN0RHRzKTtcbiAgICAgICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgICB0cmFjay5sZW5ndGggPSAwO1xuXG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50KCd2aWRlbycsIHtcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLl9tZXJnZUJveGVzKG1vb2Zib3gsIG1kYXRib3gpLmJ1ZmZlcixcbiAgICAgICAgICAgIHNhbXBsZUNvdW50OiBtcDRTYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZm9cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX21lcmdlQm94ZXMobW9vZiwgbWRhdCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShtb29mLmJ5dGVMZW5ndGggKyBtZGF0LmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXN1bHQuc2V0KG1vb2YsIDApO1xuICAgICAgICByZXN1bHQuc2V0KG1kYXQsIG1vb2YuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1QNFJlbXV4ZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbXA0L21wNG1vb2YuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _flvParse = __webpack_require__(2);\n\nvar _flvParse2 = _interopRequireDefault(_flvParse);\n\nvar _tagdemux = __webpack_require__(0);\n\nvar _tagdemux2 = _interopRequireDefault(_tagdemux);\n\nvar _mp4remux = __webpack_require__(1);\n\nvar _mp4remux2 = _interopRequireDefault(_mp4remux);\n\nvar _mp4moof = __webpack_require__(4);\n\nvar _mp4moof2 = _interopRequireDefault(_mp4moof);\n\nvar _flv2fmp = __webpack_require__(11);\n\nvar _flv2fmp2 = _interopRequireDefault(_flv2fmp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar temp = new _flv2fmp2.default(); /* eslint-disable */\n\n\nwindow.flvParse = {\n    mp4File: null,\n    succ: null,\n    // ftyp_moov:null,\n    tracks: [],\n    baseTime: 0,\n    setFlv: function setFlv(uint8, baseTime) {\n        if (flvParse.baseTime != baseTime) {\n            flvParse.baseTime = baseTime;\n            temp.seek(baseTime);\n        }\n        if (window.mp4Init) {\n            temp.onInitSegment = window.mp4Init;\n        }\n        if (window.onMediaSegment) {\n            temp.onMediaSegment = window.onMediaSegment;\n        }\n        if (window.seekCallBack) {\n            // temp.seekCallBack = window.se\n            temp.seekCallBack = window.seekCallBack;\n        }\n        if (window.onMediaInfo) {\n            temp.onMediaInfo = window.onMediaInfo;\n        }\n        return temp.setflv(uint8.buffer, baseTime);\n\n        // 用来获取moov\n    },\n    setLocFlv: function setLocFlv(uin8) {\n        return temp.setflvloc(uin8);\n    }\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHZFbnRlci5qcz9iZGJiIl0sIm5hbWVzIjpbInRlbXAiLCJ3aW5kb3ciLCJmbHZQYXJzZSIsIm1wNEZpbGUiLCJzdWNjIiwidHJhY2tzIiwiYmFzZVRpbWUiLCJzZXRGbHYiLCJ1aW50OCIsInNlZWsiLCJtcDRJbml0Iiwib25Jbml0U2VnbWVudCIsIm9uTWVkaWFTZWdtZW50Iiwic2Vla0NhbGxCYWNrIiwib25NZWRpYUluZm8iLCJzZXRmbHYiLCJidWZmZXIiLCJzZXRMb2NGbHYiLCJ1aW44Iiwic2V0Zmx2bG9jIl0sIm1hcHBpbmdzIjoiOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLE9BQU8sdUJBQWIsQyxDQVBBOzs7QUFTQUMsT0FBT0MsUUFBUCxHQUFrQjtBQUNkQyxhQUFTLElBREs7QUFFZEMsVUFBTSxJQUZRO0FBR2Q7QUFDQUMsWUFBUSxFQUpNO0FBS2RDLGNBQVUsQ0FMSTtBQU1kQyxVQU5jLGtCQU1QQyxLQU5PLEVBTUFGLFFBTkEsRUFNVTtBQUNwQixZQUFJSixTQUFTSSxRQUFULElBQXFCQSxRQUF6QixFQUFtQztBQUMvQkoscUJBQVNJLFFBQVQsR0FBb0JBLFFBQXBCO0FBQ0FOLGlCQUFLUyxJQUFMLENBQVVILFFBQVY7QUFDSDtBQUNELFlBQUlMLE9BQU9TLE9BQVgsRUFBb0I7QUFDaEJWLGlCQUFLVyxhQUFMLEdBQXFCVixPQUFPUyxPQUE1QjtBQUNIO0FBQ0QsWUFBSVQsT0FBT1csY0FBWCxFQUEyQjtBQUN2QlosaUJBQUtZLGNBQUwsR0FBc0JYLE9BQU9XLGNBQTdCO0FBQ0g7QUFDRCxZQUFJWCxPQUFPWSxZQUFYLEVBQXlCO0FBQ3JCO0FBQ0FiLGlCQUFLYSxZQUFMLEdBQW9CWixPQUFPWSxZQUEzQjtBQUNIO0FBQ0QsWUFBSVosT0FBT2EsV0FBWCxFQUF3QjtBQUNwQmQsaUJBQUtjLFdBQUwsR0FBbUJiLE9BQU9hLFdBQTFCO0FBQ0g7QUFDRCxlQUFPZCxLQUFLZSxNQUFMLENBQVlQLE1BQU1RLE1BQWxCLEVBQTBCVixRQUExQixDQUFQOztBQUVBO0FBRUgsS0E1QmE7QUE2QmRXLGFBN0JjLHFCQTZCSkMsSUE3QkksRUE2QkU7QUFDWixlQUFPbEIsS0FBS21CLFNBQUwsQ0FBZUQsSUFBZixDQUFQO0FBQ0g7QUEvQmEsQ0FBbEIiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgZmx2cGFyc2UgZnJvbSAnLi9mbHYvZmx2UGFyc2UnO1xuaW1wb3J0IHRhZ2RlbXV4IGZyb20gJy4vZmx2L3RhZ2RlbXV4JztcbmltcG9ydCBtcDRyZW11eCBmcm9tICcuL21wNC9tcDRyZW11eCc7XG5pbXBvcnQgbXA0bW9vZiBmcm9tICcuL21wNC9tcDRtb29mJztcbmltcG9ydCBmMm0gZnJvbSAnLi9mbHYyZm1wNCc7XG5cbmNvbnN0IHRlbXAgPSBuZXcgZjJtKCk7XG5cbndpbmRvdy5mbHZQYXJzZSA9IHtcbiAgICBtcDRGaWxlOiBudWxsLFxuICAgIHN1Y2M6IG51bGwsXG4gICAgLy8gZnR5cF9tb292Om51bGwsXG4gICAgdHJhY2tzOiBbXSxcbiAgICBiYXNlVGltZTogMCxcbiAgICBzZXRGbHYodWludDgsIGJhc2VUaW1lKSB7XG4gICAgICAgIGlmIChmbHZQYXJzZS5iYXNlVGltZSAhPSBiYXNlVGltZSkge1xuICAgICAgICAgICAgZmx2UGFyc2UuYmFzZVRpbWUgPSBiYXNlVGltZTtcbiAgICAgICAgICAgIHRlbXAuc2VlayhiYXNlVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbmRvdy5tcDRJbml0KSB7XG4gICAgICAgICAgICB0ZW1wLm9uSW5pdFNlZ21lbnQgPSB3aW5kb3cubXA0SW5pdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93Lm9uTWVkaWFTZWdtZW50KSB7XG4gICAgICAgICAgICB0ZW1wLm9uTWVkaWFTZWdtZW50ID0gd2luZG93Lm9uTWVkaWFTZWdtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuc2Vla0NhbGxCYWNrKSB7XG4gICAgICAgICAgICAvLyB0ZW1wLnNlZWtDYWxsQmFjayA9IHdpbmRvdy5zZVxuICAgICAgICAgICAgdGVtcC5zZWVrQ2FsbEJhY2sgPSB3aW5kb3cuc2Vla0NhbGxCYWNrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cub25NZWRpYUluZm8pIHtcbiAgICAgICAgICAgIHRlbXAub25NZWRpYUluZm8gPSB3aW5kb3cub25NZWRpYUluZm87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRlbXAuc2V0Zmx2KHVpbnQ4LmJ1ZmZlciwgYmFzZVRpbWUpO1xuXG4gICAgICAgIC8vIOeUqOadpeiOt+WPlm1vb3ZcblxuICAgIH0sXG4gICAgc2V0TG9jRmx2KHVpbjgpIHtcbiAgICAgICAgcmV0dXJuIHRlbXAuc2V0Zmx2bG9jKHVpbjgpO1xuICAgIH1cbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvZmx2RW50ZXIuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/* eslint-disable */\nfunction decodeUTF8(uint8array) {\n    var out = [];\n    var input = uint8array;\n    var i = 0;\n    var length = uint8array.length;\n\n    while (i < length) {\n        if (input[i] < 0x80) {\n            out.push(String.fromCharCode(input[i]));\n            ++i;\n            continue;\n        } else if (input[i] < 0xC0) {\n            // fallthrough\n        } else if (input[i] < 0xE0) {\n            if (checkContinuation(input, i, 1)) {\n                var ucs4 = (input[i] & 0x1F) << 6 | input[i + 1] & 0x3F;\n                if (ucs4 >= 0x80) {\n                    out.push(String.fromCharCode(ucs4 & 0xFFFF));\n                    i += 2;\n                    continue;\n                }\n            }\n        } else if (input[i] < 0xF0) {\n            if (checkContinuation(input, i, 2)) {\n                var _ucs = (input[i] & 0xF) << 12 | (input[i + 1] & 0x3F) << 6 | input[i + 2] & 0x3F;\n                if (_ucs >= 0x800 && (_ucs & 0xF800) !== 0xD800) {\n                    out.push(String.fromCharCode(_ucs & 0xFFFF));\n                    i += 3;\n                    continue;\n                }\n            }\n        } else if (input[i] < 0xF8) {\n            if (checkContinuation(input, i, 3)) {\n                var _ucs2 = (input[i] & 0x7) << 18 | (input[i + 1] & 0x3F) << 12 | (input[i + 2] & 0x3F) << 6 | input[i + 3] & 0x3F;\n                if (_ucs2 > 0x10000 && _ucs2 < 0x110000) {\n                    _ucs2 -= 0x10000;\n                    out.push(String.fromCharCode(_ucs2 >>> 10 | 0xD800));\n                    out.push(String.fromCharCode(_ucs2 & 0x3FF | 0xDC00));\n                    i += 4;\n                    continue;\n                }\n            }\n        }\n        out.push(String.fromCharCode(0xFFFD));\n        ++i;\n    }\n\n    return out.join('');\n}\n\nfunction checkContinuation(uint8array, start, checkLength) {\n    var array = uint8array;\n    if (start + checkLength < array.length) {\n        while (checkLength--) {\n            if ((array[++start] & 0xC0) !== 0x80) return false;\n        }\n        return true;\n    } else {\n        return false;\n    }\n}\nexports.default = decodeUTF8;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9kZWNvZGVVVEY4LmpzPzQ3ZWQiXSwibmFtZXMiOlsiZGVjb2RlVVRGOCIsInVpbnQ4YXJyYXkiLCJvdXQiLCJpbnB1dCIsImkiLCJsZW5ndGgiLCJwdXNoIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hlY2tDb250aW51YXRpb24iLCJ1Y3M0Iiwiam9pbiIsInN0YXJ0IiwiY2hlY2tMZW5ndGgiLCJhcnJheSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBLFNBQVNBLFVBQVQsQ0FBb0JDLFVBQXBCLEVBQWdDO0FBQzVCLFFBQU1DLE1BQU0sRUFBWjtBQUNBLFFBQU1DLFFBQVFGLFVBQWQ7QUFDQSxRQUFJRyxJQUFJLENBQVI7QUFDQSxRQUFNQyxTQUFTSixXQUFXSSxNQUExQjs7QUFFQSxXQUFPRCxJQUFJQyxNQUFYLEVBQW1CO0FBQ2YsWUFBSUYsTUFBTUMsQ0FBTixJQUFXLElBQWYsRUFBcUI7QUFDakJGLGdCQUFJSSxJQUFKLENBQVNDLE9BQU9DLFlBQVAsQ0FBb0JMLE1BQU1DLENBQU4sQ0FBcEIsQ0FBVDtBQUNBLGNBQUVBLENBQUY7QUFDQTtBQUNILFNBSkQsTUFJTyxJQUFJRCxNQUFNQyxDQUFOLElBQVcsSUFBZixFQUFxQjtBQUN4QjtBQUNILFNBRk0sTUFFQSxJQUFJRCxNQUFNQyxDQUFOLElBQVcsSUFBZixFQUFxQjtBQUN4QixnQkFBSUssa0JBQWtCTixLQUFsQixFQUF5QkMsQ0FBekIsRUFBNEIsQ0FBNUIsQ0FBSixFQUFvQztBQUNoQyxvQkFBTU0sT0FBTyxDQUFDUCxNQUFNQyxDQUFOLElBQVcsSUFBWixLQUFxQixDQUFyQixHQUEwQkQsTUFBTUMsSUFBSSxDQUFWLElBQWUsSUFBdEQ7QUFDQSxvQkFBSU0sUUFBUSxJQUFaLEVBQWtCO0FBQ2RSLHdCQUFJSSxJQUFKLENBQVNDLE9BQU9DLFlBQVAsQ0FBb0JFLE9BQU8sTUFBM0IsQ0FBVDtBQUNBTix5QkFBSyxDQUFMO0FBQ0E7QUFDSDtBQUNKO0FBQ0osU0FUTSxNQVNBLElBQUlELE1BQU1DLENBQU4sSUFBVyxJQUFmLEVBQXFCO0FBQ3hCLGdCQUFJSyxrQkFBa0JOLEtBQWxCLEVBQXlCQyxDQUF6QixFQUE0QixDQUE1QixDQUFKLEVBQW9DO0FBQ2hDLG9CQUFNTSxPQUFPLENBQUNQLE1BQU1DLENBQU4sSUFBVyxHQUFaLEtBQW9CLEVBQXBCLEdBQXlCLENBQUNELE1BQU1DLElBQUksQ0FBVixJQUFlLElBQWhCLEtBQXlCLENBQWxELEdBQXNERCxNQUFNQyxJQUFJLENBQVYsSUFBZSxJQUFsRjtBQUNBLG9CQUFJTSxRQUFRLEtBQVIsSUFBaUIsQ0FBQ0EsT0FBTyxNQUFSLE1BQW9CLE1BQXpDLEVBQWlEO0FBQzdDUix3QkFBSUksSUFBSixDQUFTQyxPQUFPQyxZQUFQLENBQW9CRSxPQUFPLE1BQTNCLENBQVQ7QUFDQU4seUJBQUssQ0FBTDtBQUNBO0FBQ0g7QUFDSjtBQUNKLFNBVE0sTUFTQSxJQUFJRCxNQUFNQyxDQUFOLElBQVcsSUFBZixFQUFxQjtBQUN4QixnQkFBSUssa0JBQWtCTixLQUFsQixFQUF5QkMsQ0FBekIsRUFBNEIsQ0FBNUIsQ0FBSixFQUFvQztBQUNoQyxvQkFBSU0sUUFBTyxDQUFDUCxNQUFNQyxDQUFOLElBQVcsR0FBWixLQUFvQixFQUFwQixHQUF5QixDQUFDRCxNQUFNQyxJQUFJLENBQVYsSUFBZSxJQUFoQixLQUF5QixFQUFsRCxHQUNQLENBQUNELE1BQU1DLElBQUksQ0FBVixJQUFlLElBQWhCLEtBQXlCLENBRGxCLEdBQ3VCRCxNQUFNQyxJQUFJLENBQVYsSUFBZSxJQURqRDtBQUVBLG9CQUFJTSxRQUFPLE9BQVAsSUFBa0JBLFFBQU8sUUFBN0IsRUFBdUM7QUFDbkNBLDZCQUFRLE9BQVI7QUFDQVIsd0JBQUlJLElBQUosQ0FBU0MsT0FBT0MsWUFBUCxDQUFxQkUsVUFBUyxFQUFWLEdBQWdCLE1BQXBDLENBQVQ7QUFDQVIsd0JBQUlJLElBQUosQ0FBU0MsT0FBT0MsWUFBUCxDQUFxQkUsUUFBTyxLQUFSLEdBQWlCLE1BQXJDLENBQVQ7QUFDQU4seUJBQUssQ0FBTDtBQUNBO0FBQ0g7QUFDSjtBQUNKO0FBQ0RGLFlBQUlJLElBQUosQ0FBU0MsT0FBT0MsWUFBUCxDQUFvQixNQUFwQixDQUFUO0FBQ0EsVUFBRUosQ0FBRjtBQUNIOztBQUVELFdBQU9GLElBQUlTLElBQUosQ0FBUyxFQUFULENBQVA7QUFDSDs7QUFFRCxTQUFTRixpQkFBVCxDQUEyQlIsVUFBM0IsRUFBdUNXLEtBQXZDLEVBQThDQyxXQUE5QyxFQUEyRDtBQUN2RCxRQUFJQyxRQUFRYixVQUFaO0FBQ0EsUUFBSVcsUUFBUUMsV0FBUixHQUFzQkMsTUFBTVQsTUFBaEMsRUFBd0M7QUFDcEMsZUFBT1EsYUFBUCxFQUFzQjtBQUNsQixnQkFBSSxDQUFDQyxNQUFNLEVBQUVGLEtBQVIsSUFBaUIsSUFBbEIsTUFBNEIsSUFBaEMsRUFDSSxPQUFPLEtBQVA7QUFDUDtBQUNELGVBQU8sSUFBUDtBQUNILEtBTkQsTUFNTztBQUNILGVBQU8sS0FBUDtBQUNIO0FBQ0o7a0JBQ2NaLFUiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5mdW5jdGlvbiBkZWNvZGVVVEY4KHVpbnQ4YXJyYXkpIHtcbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBjb25zdCBpbnB1dCA9IHVpbnQ4YXJyYXk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGxlbmd0aCA9IHVpbnQ4YXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgaWYgKGlucHV0W2ldIDwgMHg4MCkge1xuICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShpbnB1dFtpXSkpO1xuICAgICAgICAgICAgKytpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPCAweEMwKSB7XG4gICAgICAgICAgICAvLyBmYWxsdGhyb3VnaFxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldIDwgMHhFMCkge1xuICAgICAgICAgICAgaWYgKGNoZWNrQ29udGludWF0aW9uKGlucHV0LCBpLCAxKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVjczQgPSAoaW5wdXRbaV0gJiAweDFGKSA8PCA2IHwgKGlucHV0W2kgKyAxXSAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmICh1Y3M0ID49IDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh1Y3M0ICYgMHhGRkZGKSk7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldIDwgMHhGMCkge1xuICAgICAgICAgICAgaWYgKGNoZWNrQ29udGludWF0aW9uKGlucHV0LCBpLCAyKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVjczQgPSAoaW5wdXRbaV0gJiAweEYpIDw8IDEyIHwgKGlucHV0W2kgKyAxXSAmIDB4M0YpIDw8IDYgfCBpbnB1dFtpICsgMl0gJiAweDNGO1xuICAgICAgICAgICAgICAgIGlmICh1Y3M0ID49IDB4ODAwICYmICh1Y3M0ICYgMHhGODAwKSAhPT0gMHhEODAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUodWNzNCAmIDB4RkZGRikpO1xuICAgICAgICAgICAgICAgICAgICBpICs9IDM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFtpXSA8IDB4RjgpIHtcbiAgICAgICAgICAgIGlmIChjaGVja0NvbnRpbnVhdGlvbihpbnB1dCwgaSwgMykpIHtcbiAgICAgICAgICAgICAgICBsZXQgdWNzNCA9IChpbnB1dFtpXSAmIDB4NykgPDwgMTggfCAoaW5wdXRbaSArIDFdICYgMHgzRikgPDwgMTIgfFxuICAgICAgICAgICAgICAgICAgICAoaW5wdXRbaSArIDJdICYgMHgzRikgPDwgNiB8IChpbnB1dFtpICsgM10gJiAweDNGKTtcbiAgICAgICAgICAgICAgICBpZiAodWNzNCA+IDB4MTAwMDAgJiYgdWNzNCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHVjczQgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgodWNzNCA+Pj4gMTApIHwgMHhEODAwKSk7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKHVjczQgJiAweDNGRikgfCAweERDMDApKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSA0O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgweEZGRkQpKTtcbiAgICAgICAgKytpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQuam9pbignJyk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrQ29udGludWF0aW9uKHVpbnQ4YXJyYXksIHN0YXJ0LCBjaGVja0xlbmd0aCkge1xuICAgIGxldCBhcnJheSA9IHVpbnQ4YXJyYXk7XG4gICAgaWYgKHN0YXJ0ICsgY2hlY2tMZW5ndGggPCBhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgd2hpbGUgKGNoZWNrTGVuZ3RoLS0pIHtcbiAgICAgICAgICAgIGlmICgoYXJyYXlbKytzdGFydF0gJiAweEMwKSAhPT0gMHg4MClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGRlY29kZVVURjg7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvZGVjb2RlVVRGOC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable */\n// Exponential-Golomb buffer decoder\nvar ExpGolomb = function () {\n    function ExpGolomb(uint8array) {\n        _classCallCheck(this, ExpGolomb);\n\n        this.TAG = this.constructor.name;\n\n        this._buffer = uint8array;\n        this._buffer_index = 0;\n        this._total_bytes = uint8array.byteLength;\n        this._total_bits = uint8array.byteLength * 8;\n        this._current_word = 0;\n        this._current_word_bits_left = 0;\n    }\n\n    _createClass(ExpGolomb, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._buffer = null;\n        }\n    }, {\n        key: '_fillCurrentWord',\n        value: function _fillCurrentWord() {\n            var buffer_bytes_left = this._total_bytes - this._buffer_index;\n            if (buffer_bytes_left <= 0) {\n                throw new IllegalStateException('ExpGolomb: _fillCurrentWord() but no bytes available');\n            }\n\n            var bytes_read = Math.min(4, buffer_bytes_left);\n            var word = new Uint8Array(4);\n            word.set(this._buffer.subarray(this._buffer_index, this._buffer_index + bytes_read));\n            this._current_word = new DataView(word.buffer).getUint32(0, false);\n\n            this._buffer_index += bytes_read;\n            this._current_word_bits_left = bytes_read * 8;\n        }\n    }, {\n        key: 'readBits',\n        value: function readBits(bits) {\n            if (bits > 32) {\n                throw new InvalidArgumentException('ExpGolomb: readBits() bits exceeded max 32bits!');\n            }\n\n            if (bits <= this._current_word_bits_left) {\n                var _result = this._current_word >>> 32 - bits;\n                this._current_word <<= bits;\n                this._current_word_bits_left -= bits;\n                return _result;\n            }\n\n            var result = this._current_word_bits_left ? this._current_word : 0;\n            result = result >>> 32 - this._current_word_bits_left;\n            var bits_need_left = bits - this._current_word_bits_left;\n\n            this._fillCurrentWord();\n            var bits_read_next = Math.min(bits_need_left, this._current_word_bits_left);\n\n            var result2 = this._current_word >>> 32 - bits_read_next;\n            this._current_word <<= bits_read_next;\n            this._current_word_bits_left -= bits_read_next;\n\n            result = result << bits_read_next | result2;\n            return result;\n        }\n    }, {\n        key: 'readBool',\n        value: function readBool() {\n            return this.readBits(1) === 1;\n        }\n    }, {\n        key: 'readByte',\n        value: function readByte() {\n            return this.readBits(8);\n        }\n    }, {\n        key: '_skipLeadingZero',\n        value: function _skipLeadingZero() {\n            var zero_count = void 0;\n            for (zero_count = 0; zero_count < this._current_word_bits_left; zero_count++) {\n                if ((this._current_word & 0x80000000 >>> zero_count) !== 0) {\n                    this._current_word <<= zero_count;\n                    this._current_word_bits_left -= zero_count;\n                    return zero_count;\n                }\n            }\n            this._fillCurrentWord();\n            return zero_count + this._skipLeadingZero();\n        }\n    }, {\n        key: 'readUEG',\n        value: function readUEG() {\n            // unsigned exponential golomb\n            var leading_zeros = this._skipLeadingZero();\n            return this.readBits(leading_zeros + 1) - 1;\n        }\n    }, {\n        key: 'readSEG',\n        value: function readSEG() {\n            // signed exponential golomb\n            var value = this.readUEG();\n            if (value & 0x01) {\n                return value + 1 >>> 1;\n            } else {\n                return -1 * (value >>> 1);\n            }\n        }\n    }]);\n\n    return ExpGolomb;\n}();\n\nexports.default = ExpGolomb;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvZXhwLWdvbG9tYi5qcz8zY2M5Il0sIm5hbWVzIjpbIkV4cEdvbG9tYiIsInVpbnQ4YXJyYXkiLCJUQUciLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJfYnVmZmVyIiwiX2J1ZmZlcl9pbmRleCIsIl90b3RhbF9ieXRlcyIsImJ5dGVMZW5ndGgiLCJfdG90YWxfYml0cyIsIl9jdXJyZW50X3dvcmQiLCJfY3VycmVudF93b3JkX2JpdHNfbGVmdCIsImJ1ZmZlcl9ieXRlc19sZWZ0IiwiSWxsZWdhbFN0YXRlRXhjZXB0aW9uIiwiYnl0ZXNfcmVhZCIsIk1hdGgiLCJtaW4iLCJ3b3JkIiwiVWludDhBcnJheSIsInNldCIsInN1YmFycmF5IiwiRGF0YVZpZXciLCJidWZmZXIiLCJnZXRVaW50MzIiLCJiaXRzIiwiSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uIiwicmVzdWx0IiwiYml0c19uZWVkX2xlZnQiLCJfZmlsbEN1cnJlbnRXb3JkIiwiYml0c19yZWFkX25leHQiLCJyZXN1bHQyIiwicmVhZEJpdHMiLCJ6ZXJvX2NvdW50IiwiX3NraXBMZWFkaW5nWmVybyIsImxlYWRpbmdfemVyb3MiLCJ2YWx1ZSIsInJlYWRVRUciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7QUFDQTtJQUNNQSxTO0FBRUYsdUJBQVlDLFVBQVosRUFBd0I7QUFBQTs7QUFDcEIsYUFBS0MsR0FBTCxHQUFXLEtBQUtDLFdBQUwsQ0FBaUJDLElBQTVCOztBQUVBLGFBQUtDLE9BQUwsR0FBZUosVUFBZjtBQUNBLGFBQUtLLGFBQUwsR0FBcUIsQ0FBckI7QUFDQSxhQUFLQyxZQUFMLEdBQW9CTixXQUFXTyxVQUEvQjtBQUNBLGFBQUtDLFdBQUwsR0FBbUJSLFdBQVdPLFVBQVgsR0FBd0IsQ0FBM0M7QUFDQSxhQUFLRSxhQUFMLEdBQXFCLENBQXJCO0FBQ0EsYUFBS0MsdUJBQUwsR0FBK0IsQ0FBL0I7QUFDSDs7Oztr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QUFDZCx1QkFBUUEsUUFBUSxDQUFULEtBQWdCLENBQXZCO0FBQ0gsYUFGRCxNQUVPO0FBQ0gsdUJBQU8sQ0FBQyxDQUFELElBQU1BLFVBQVUsQ0FBaEIsQ0FBUDtBQUNIO0FBQ0o7Ozs7OztrQkFJVW5DLFMiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEV4cG9uZW50aWFsLUdvbG9tYiBidWZmZXIgZGVjb2RlclxuY2xhc3MgRXhwR29sb21iIHtcblxuICAgIGNvbnN0cnVjdG9yKHVpbnQ4YXJyYXkpIHtcbiAgICAgICAgdGhpcy5UQUcgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyID0gdWludDhhcnJheTtcbiAgICAgICAgdGhpcy5fYnVmZmVyX2luZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fdG90YWxfYnl0ZXMgPSB1aW50OGFycmF5LmJ5dGVMZW5ndGg7XG4gICAgICAgIHRoaXMuX3RvdGFsX2JpdHMgPSB1aW50OGFycmF5LmJ5dGVMZW5ndGggKiA4O1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPSAwO1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0ID0gMDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBudWxsO1xuICAgIH1cblxuICAgIF9maWxsQ3VycmVudFdvcmQoKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcl9ieXRlc19sZWZ0ID0gdGhpcy5fdG90YWxfYnl0ZXMgLSB0aGlzLl9idWZmZXJfaW5kZXg7XG4gICAgICAgIGlmIChidWZmZXJfYnl0ZXNfbGVmdCA8PSAwKSB7IHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0V4cEdvbG9tYjogX2ZpbGxDdXJyZW50V29yZCgpIGJ1dCBubyBieXRlcyBhdmFpbGFibGUnKTsgfVxuXG4gICAgICAgIGNvbnN0IGJ5dGVzX3JlYWQgPSBNYXRoLm1pbig0LCBidWZmZXJfYnl0ZXNfbGVmdCk7XG4gICAgICAgIGNvbnN0IHdvcmQgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgd29yZC5zZXQodGhpcy5fYnVmZmVyLnN1YmFycmF5KHRoaXMuX2J1ZmZlcl9pbmRleCwgdGhpcy5fYnVmZmVyX2luZGV4ICsgYnl0ZXNfcmVhZCkpO1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPSBuZXcgRGF0YVZpZXcod29yZC5idWZmZXIpLmdldFVpbnQzMigwLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyX2luZGV4ICs9IGJ5dGVzX3JlYWQ7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgPSBieXRlc19yZWFkICogODtcbiAgICB9XG5cbiAgICByZWFkQml0cyhiaXRzKSB7XG4gICAgICAgIGlmIChiaXRzID4gMzIpIHsgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbignRXhwR29sb21iOiByZWFkQml0cygpIGJpdHMgZXhjZWVkZWQgbWF4IDMyYml0cyEnKTsgfVxuXG4gICAgICAgIGlmIChiaXRzIDw9IHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2N1cnJlbnRfd29yZCA+Pj4gKDMyIC0gYml0cyk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPDw9IGJpdHM7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IC09IGJpdHM7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgPyB0aGlzLl9jdXJyZW50X3dvcmQgOiAwO1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPj4+ICgzMiAtIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQpO1xuICAgICAgICBjb25zdCBiaXRzX25lZWRfbGVmdCA9IGJpdHMgLSB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0O1xuXG4gICAgICAgIHRoaXMuX2ZpbGxDdXJyZW50V29yZCgpO1xuICAgICAgICBjb25zdCBiaXRzX3JlYWRfbmV4dCA9IE1hdGgubWluKGJpdHNfbmVlZF9sZWZ0LCB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0KTtcblxuICAgICAgICBjb25zdCByZXN1bHQyID0gdGhpcy5fY3VycmVudF93b3JkID4+PiAoMzIgLSBiaXRzX3JlYWRfbmV4dCk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA8PD0gYml0c19yZWFkX25leHQ7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgLT0gYml0c19yZWFkX25leHQ7XG5cbiAgICAgICAgcmVzdWx0ID0gKHJlc3VsdCA8PCBiaXRzX3JlYWRfbmV4dCkgfCByZXN1bHQyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlYWRCb29sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cygxKSA9PT0gMTtcbiAgICB9XG5cbiAgICByZWFkQnl0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoOCk7XG4gICAgfVxuXG4gICAgX3NraXBMZWFkaW5nWmVybygpIHtcbiAgICAgICAgbGV0IHplcm9fY291bnQ7XG4gICAgICAgIGZvciAoemVyb19jb3VudCA9IDA7IHplcm9fY291bnQgPCB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0OyB6ZXJvX2NvdW50KyspIHtcbiAgICAgICAgICAgIGlmICgodGhpcy5fY3VycmVudF93b3JkICYgKDB4ODAwMDAwMDAgPj4+IHplcm9fY291bnQpKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZCA8PD0gemVyb19jb3VudDtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IC09IHplcm9fY291bnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHplcm9fY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmlsbEN1cnJlbnRXb3JkKCk7XG4gICAgICAgIHJldHVybiB6ZXJvX2NvdW50ICsgdGhpcy5fc2tpcExlYWRpbmdaZXJvKCk7XG4gICAgfVxuXG4gICAgcmVhZFVFRygpIHsgLy8gdW5zaWduZWQgZXhwb25lbnRpYWwgZ29sb21iXG4gICAgICAgIGNvbnN0IGxlYWRpbmdfemVyb3MgPSB0aGlzLl9za2lwTGVhZGluZ1plcm8oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMobGVhZGluZ196ZXJvcyArIDEpIC0gMTtcbiAgICB9XG5cbiAgICByZWFkU0VHKCkgeyAvLyBzaWduZWQgZXhwb25lbnRpYWwgZ29sb21iXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5yZWFkVUVHKCk7XG4gICAgICAgIGlmICh2YWx1ZSAmIDB4MDEpIHtcbiAgICAgICAgICAgIHJldHVybiAodmFsdWUgKyAxKSA+Pj4gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtMSAqICh2YWx1ZSA+Pj4gMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXhwR29sb21iO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2Zsdi9leHAtZ29sb21iLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable */\nvar FlvTag = function () {\n    function FlvTag() {\n        _classCallCheck(this, FlvTag);\n\n        this.tagType = -1;\n        this.dataSize = -1;\n        this.Timestamp = -1;\n        this.StreamID = -1;\n        this.body = -1;\n        this.time = -1;\n        this.arr = [];\n    }\n\n    _createClass(FlvTag, [{\n        key: 'getTime',\n        value: function getTime() {\n            // this.Timestamp.pop();\n            this.arr = [];\n            for (var i = 0; i < this.Timestamp.length; i++) {\n                this.arr.push(this.Timestamp[i].toString(16).length == 1 ? '0' + this.Timestamp[i].toString(16) : this.Timestamp[i].toString(16));\n            }\n            this.arr.pop();\n            var time = this.arr.join('');\n            this.time = parseInt(time, 16);\n            return parseInt(time, 16);\n        }\n    }]);\n\n    return FlvTag;\n}();\n\nexports.default = FlvTag;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvZmx2VGFnLmpzPzg1OTgiXSwibmFtZXMiOlsiRmx2VGFnIiwidGFnVHlwZSIsImRhdGFTaXplIiwiVGltZXN0YW1wIiwiU3RyZWFtSUQiLCJib2R5IiwidGltZSIsImFyciIsImkiLCJsZW5ndGgiLCJwdXNoIiwidG9TdHJpbmciLCJwb3AiLCJqb2luIiwicGFyc2VJbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtJQUNxQkEsTTtBQUNqQixzQkFBYztBQUFBOztBQUNWLGFBQUtDLE9BQUwsR0FBZSxDQUFDLENBQWhCO0FBQ0EsYUFBS0MsUUFBTCxHQUFnQixDQUFDLENBQWpCO0FBQ0EsYUFBS0MsU0FBTCxHQUFpQixDQUFDLENBQWxCO0FBQ0EsYUFBS0MsUUFBTCxHQUFnQixDQUFDLENBQWpCO0FBQ0EsYUFBS0MsSUFBTCxHQUFZLENBQUMsQ0FBYjtBQUNBLGFBQUtDLElBQUwsR0FBWSxDQUFDLENBQWI7QUFDQSxhQUFLQyxHQUFMLEdBQVcsRUFBWDtBQUNIOzs7O2tDQUNTO0FBQ047QUFDQSxpQkFBS0EsR0FBTCxHQUFXLEVBQVg7QUFDQSxpQkFBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUksS0FBS0wsU0FBTCxDQUFlTSxNQUFuQyxFQUEyQ0QsR0FBM0MsRUFBZ0Q7QUFDNUMscUJBQUtELEdBQUwsQ0FBU0csSUFBVCxDQUFlLEtBQUtQLFNBQUwsQ0FBZUssQ0FBZixFQUFrQkcsUUFBbEIsQ0FBMkIsRUFBM0IsRUFBK0JGLE1BQS9CLElBQXlDLENBQXpDLEdBQTZDLE1BQU0sS0FBS04sU0FBTCxDQUFlSyxDQUFmLEVBQWtCRyxRQUFsQixDQUEyQixFQUEzQixDQUFuRCxHQUFvRixLQUFLUixTQUFMLENBQWVLLENBQWYsRUFBa0JHLFFBQWxCLENBQTJCLEVBQTNCLENBQW5HO0FBQ0g7QUFDRCxpQkFBS0osR0FBTCxDQUFTSyxHQUFUO0FBQ0EsZ0JBQU1OLE9BQU8sS0FBS0MsR0FBTCxDQUFTTSxJQUFULENBQWMsRUFBZCxDQUFiO0FBQ0EsaUJBQUtQLElBQUwsR0FBWVEsU0FBU1IsSUFBVCxFQUFlLEVBQWYsQ0FBWjtBQUNBLG1CQUFPUSxTQUFTUixJQUFULEVBQWUsRUFBZixDQUFQO0FBQ0g7Ozs7OztrQkFwQmdCTixNIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmx2VGFnIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50YWdUeXBlID0gLTE7XG4gICAgICAgIHRoaXMuZGF0YVNpemUgPSAtMTtcbiAgICAgICAgdGhpcy5UaW1lc3RhbXAgPSAtMTtcbiAgICAgICAgdGhpcy5TdHJlYW1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJvZHkgPSAtMTtcbiAgICAgICAgdGhpcy50aW1lID0gLTE7XG4gICAgICAgIHRoaXMuYXJyID0gW107XG4gICAgfVxuICAgIGdldFRpbWUoKSB7XG4gICAgICAgIC8vIHRoaXMuVGltZXN0YW1wLnBvcCgpO1xuICAgICAgICB0aGlzLmFyciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuVGltZXN0YW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmFyci5wdXNoKCh0aGlzLlRpbWVzdGFtcFtpXS50b1N0cmluZygxNikubGVuZ3RoID09IDEgPyAnMCcgKyB0aGlzLlRpbWVzdGFtcFtpXS50b1N0cmluZygxNikgOiB0aGlzLlRpbWVzdGFtcFtpXS50b1N0cmluZygxNikpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyci5wb3AoKTtcbiAgICAgICAgY29uc3QgdGltZSA9IHRoaXMuYXJyLmpvaW4oJycpO1xuICAgICAgICB0aGlzLnRpbWUgPSBwYXJzZUludCh0aW1lLCAxNik7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh0aW1lLCAxNik7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2Zsdi9mbHZUYWcuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* eslint-disable */\n\n\nvar _decodeUTF = __webpack_require__(6);\n\nvar _decodeUTF2 = _interopRequireDefault(_decodeUTF);\n\nvar _spsParser = __webpack_require__(3);\n\nvar _spsParser2 = _interopRequireDefault(_spsParser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar le = function () {\n    var buf = new ArrayBuffer(2);\n    new DataView(buf).setInt16(0, 256, true); // little-endian write\n    return new Int16Array(buf)[0] === 256; // platform-spec read, if equal then LE\n}();\n\nvar flvDemux = function () {\n    function flvDemux() {\n        _classCallCheck(this, flvDemux);\n    }\n\n    _createClass(flvDemux, null, [{\n        key: 'parseObject',\n        value: function parseObject(arrayBuffer, dataOffset, dataSize) {\n\n            var name = flvDemux.parseString(arrayBuffer, dataOffset, dataSize);\n            var value = flvDemux.parseScript(arrayBuffer, dataOffset + name.size);\n            var isObjectEnd = value.objectEnd;\n\n            return {\n                data: {\n                    name: name.data,\n                    value: value.data\n                },\n                size: value.size,\n                objectEnd: isObjectEnd\n            };\n        }\n    }, {\n        key: 'parseVariable',\n        value: function parseVariable(arrayBuffer, dataOffset, dataSize) {\n            return flvDemux.parseObject(arrayBuffer, dataOffset, dataSize);\n        }\n    }, {\n        key: 'parseLongString',\n        value: function parseLongString(arrayBuffer, dataOffset, dataSize) {\n\n            var v = new DataView(arrayBuffer, dataOffset);\n            var length = v.getUint32(0, !le);\n\n            var str = void 0;\n            if (length > 0) {\n                str = (0, _decodeUTF2.default)(new Uint8Array(arrayBuffer, dataOffset + 4, length));\n            } else {\n                str = '';\n            }\n\n            return {\n                data: str,\n                size: 4 + length\n            };\n        }\n    }, {\n        key: 'parseDate',\n        value: function parseDate(arrayBuffer, dataOffset, dataSize) {\n\n            var v = new DataView(arrayBuffer, dataOffset);\n            var timestamp = v.getFloat64(0, !le);\n            var localTimeOffset = v.getInt16(8, !le);\n            timestamp += localTimeOffset * 60 * 1000; // get UTC time\n\n            return {\n                data: new Date(timestamp),\n                size: 8 + 2\n            };\n        }\n    }, {\n        key: 'parseString',\n        value: function parseString(arrayBuffer, dataOffset, dataSize) {\n            var v = new DataView(arrayBuffer, dataOffset);\n            var length = v.getUint16(0, !le);\n            var str = void 0;\n            if (length > 0) {\n                str = (0, _decodeUTF2.default)(new Uint8Array(arrayBuffer, dataOffset + 2, length));\n            } else {\n                str = '';\n            }\n            return {\n                data: str,\n                size: 2 + length\n            };\n        }\n\n        /**\n         * 解析metadata\n         */\n\n    }, {\n        key: 'parseMetadata',\n        value: function parseMetadata(arr) {\n            var name = flvDemux.parseScript(arr, 0);\n            var value = flvDemux.parseScript(arr, name.size, arr.length - name.size);\n            // return {}\n            var data = {};\n            data[name.data] = value.data;\n            return data;\n        }\n    }, {\n        key: 'parseScript',\n        value: function parseScript(arr, offset, dataSize) {\n            var dataOffset = offset;\n            var object = {};\n            var uint8 = new Uint8Array(arr);\n            var buffer = uint8.buffer;\n            var dv = new DataView(buffer, 0, dataSize);\n            var value = null;\n            var objectEnd = false;\n            var type = dv.getUint8(dataOffset);\n            dataOffset += 1;\n\n            switch (type) {\n                case 0:\n                    // Number(Double) type\n                    value = dv.getFloat64(dataOffset, !le);\n                    dataOffset += 8;\n                    break;\n                case 1:\n                    {\n                        // Boolean type\n                        var b = dv.getUint8(dataOffset);\n                        value = !!b;\n                        dataOffset += 1;\n                        break;\n                    }\n                case 2:\n                    {\n                        // String type\n                        // dataOffset += 1;\n                        var amfstr = flvDemux.parseString(buffer, dataOffset);\n                        value = amfstr.data;\n                        dataOffset += amfstr.size;\n                        break;\n                    }\n                case 3:\n\n                    {\n                        // Object(s) type\n                        value = {};\n                        var terminal = 0; // workaround for malformed Objects which has missing ScriptDataObjectEnd\n                        if ((dv.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {\n                            terminal = 3;\n                        }\n                        while (offset < dataSize - 4) {\n                            // 4 === type(UI8) + ScriptDataObjectEnd(UI24)\n                            var amfobj = flvDemux.parseObject(buffer, dataOffset, dataSize - offset - terminal);\n\n                            if (amfobj.objectEnd) {\n                                break;\n                            }\n                            value[amfobj.data.name] = amfobj.data.value;\n                            // dataOffset += amfobj.size;\n                            dataOffset = amfobj.size;\n                        }\n                        if (offset <= dataSize - 3) {\n                            var marker = v.getUint32(dataOffset - 1, !le) & 0x00FFFFFF;\n                            if (marker === 9) {\n                                dataOffset += 3;\n                            }\n                        }\n                        break;\n                    }\n                case 8:\n                    {\n                        // ECMA array type (Mixed array)\n                        value = {};\n                        // dataOffset += 1;\n                        dataOffset += 4; // ECMAArrayLength(UI32)\n                        var _terminal = 0; // workaround for malformed MixedArrays which has missing ScriptDataObjectEnd\n                        if ((dv.getUint32(dataSize - 4, !le) & 0x00FFFFFF) === 9) {\n                            _terminal = 3;\n                        }\n                        while (dataOffset < dataSize - 8) {\n                            // 8 === type(UI8) + ECMAArrayLength(UI32) + ScriptDataVariableEnd(UI24)\n                            var amfvar = flvDemux.parseVariable(buffer, dataOffset);\n\n                            if (amfvar.objectEnd) {\n                                break;\n                            }\n                            value[amfvar.data.name] = amfvar.data.value;\n                            dataOffset = amfvar.size;\n                        }\n                        if (dataOffset <= dataSize - 3) {\n                            var _marker = dv.getUint32(dataOffset - 1, !le) & 0x00FFFFFF;\n                            if (_marker === 9) {\n                                dataOffset += 3;\n                            }\n                        }\n                        break;\n                    }\n                case 9:\n                    // ScriptDataObjectEnd\n                    value = undefined;\n                    dataOffset = 1;\n                    objectEnd = true;\n                    break;\n                case 10:\n                    {\n                        // Strict array type\n                        // ScriptDataValue[n]. NOTE: according to video_file_format_spec_v10_1.pdf\n                        value = [];\n                        var strictArrayLength = dv.getUint32(dataOffset, !le);\n                        dataOffset += 4;\n                        for (var i = 0; i < strictArrayLength; i++) {\n                            var val = flvDemux.parseScript(buffer, dataOffset);\n                            value.push(val.data);\n                            dataOffset = val.size;\n                        }\n                        break;\n                    }\n                case 11:\n                    {\n                        // Date type\n                        var date = flvDemux.parseDate(buffer, dataOffset + 1, dataSize - 1);\n                        value = date.data;\n                        dataOffset += date.size;\n                        break;\n                    }\n                case 12:\n                    {\n                        // Long string type\n                        var amfLongStr = flvDemux.parseString(buffer, dataOffset + 1, dataSize - 1);\n                        value = amfLongStr.data;\n                        dataOffset += amfLongStr.size;\n                        break;\n                    }\n                default:\n                    // ignore and skip\n                    dataOffset = dataSize;\n                    console.log('AMF', 'Unsupported AMF value type ' + type);\n            }\n            return {\n                data: value,\n                size: dataOffset\n            };\n        }\n    }]);\n\n    return flvDemux;\n}();\n\nexports.default = flvDemux;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvZmx2ZGVtdXguanM/YjdhYSJdLCJuYW1lcyI6WyJsZSIsImJ1ZiIsIkFycmF5QnVmZmVyIiwiRGF0YVZpZXciLCJzZXRJbnQxNiIsIkludDE2QXJyYXkiLCJmbHZEZW11eCIsImFycmF5QnVmZmVyIiwiZGF0YU9mZnNldCIsImRhdGFTaXplIiwibmFtZSIsInBhcnNlU3RyaW5nIiwidmFsdWUiLCJwYXJzZVNjcmlwdCIsInNpemUiLCJpc09iamVjdEVuZCIsIm9iamVjdEVuZCIsImRhdGEiLCJwYXJzZU9iamVjdCIsInYiLCJsZW5ndGgiLCJnZXRVaW50MzIiLCJzdHIiLCJVaW50OEFycmF5IiwidGltZXN0YW1wIiwiZ2V0RmxvYXQ2NCIsImxvY2FsVGltZU9mZnNldCIsImdldEludDE2IiwiRGF0ZSIsImdldFVpbnQxNiIsImFyciIsIm9mZnNldCIsIm9iamVjdCIsInVpbnQ4IiwiYnVmZmVyIiwiZHYiLCJ0eXBlIiwiZ2V0VWludDgiLCJiIiwiYW1mc3RyIiwidGVybWluYWwiLCJhbWZvYmoiLCJtYXJrZXIiLCJhbWZ2YXIiLCJwYXJzZVZhcmlhYmxlIiwidW5kZWZpbmVkIiwic3RyaWN0QXJyYXlMZW5ndGgiLCJpIiwidmFsIiwicHVzaCIsImRhdGUiLCJwYXJzZURhdGUiLCJhbWZMb25nU3RyIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O3FqQkFBQTs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFDQSxJQUFNQSxLQUFNLFlBQVc7QUFDbkIsUUFBTUMsTUFBTSxJQUFJQyxXQUFKLENBQWdCLENBQWhCLENBQVo7QUFDQyxRQUFJQyxRQUFKLENBQWFGLEdBQWIsQ0FBRCxDQUFvQkcsUUFBcEIsQ0FBNkIsQ0FBN0IsRUFBZ0MsR0FBaEMsRUFBcUMsSUFBckMsRUFGbUIsQ0FFeUI7QUFDNUMsV0FBUSxJQUFJQyxVQUFKLENBQWVKLEdBQWYsQ0FBRCxDQUFzQixDQUF0QixNQUE2QixHQUFwQyxDQUhtQixD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QyxXQUFXLENBQXRELENBQWI7QUFDQUcsZ0NBQVFzQyxLQUFLakMsSUFBYjtBQUNBVCxzQ0FBYzBDLEtBQUtwQyxJQUFuQjtBQUNBO0FBQ0g7QUFDTCxxQkFBSyxFQUFMO0FBQ0k7QUFBRTtBQUNFLDRCQUFNc0MsYUFBYTlDLFNBQVNLLFdBQVQsQ0FBcUJ1QixNQUFyQixFQUE2QjFCLGFBQWEsQ0FBMUMsRUFBNkNDLFdBQVcsQ0FBeEQsQ0FBbkI7QUFDQUcsZ0NBQVF3QyxXQUFXbkMsSUFBbkI7QUFDQVQsc0NBQWM0QyxXQUFXdEMsSUFBekI7QUFDQTtBQUNIO0FBQ0w7QUFDSTtBQUNBTixpQ0FBYUMsUUFBYjtBQUNBNEMsNEJBQVFDLEdBQVIsQ0FBWSxLQUFaLEVBQW1CLGdDQUFnQ2xCLElBQW5EO0FBdkdSO0FBeUdBLG1CQUFPO0FBQ0huQixzQkFBTUwsS0FESDtBQUVIRSxzQkFBTU47QUFGSCxhQUFQO0FBSUg7Ozs7OztrQkF4TWdCRixRIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IGRlY29kZVVURjggZnJvbSAnLi4vZGVjb2RlVVRGOCc7XG5pbXBvcnQgU1BTUGFyc2VyIGZyb20gJy4vc3BzLXBhcnNlcic7XG5jb25zdCBsZSA9IChmdW5jdGlvbigpIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMik7XG4gICAgKG5ldyBEYXRhVmlldyhidWYpKS5zZXRJbnQxNigwLCAyNTYsIHRydWUpOyAvLyBsaXR0bGUtZW5kaWFuIHdyaXRlXG4gICAgcmV0dXJuIChuZXcgSW50MTZBcnJheShidWYpKVswXSA9PT0gMjU2OyAvLyBwbGF0Zm9ybS1zcGVjIHJlYWQsIGlmIGVxdWFsIHRoZW4gTEVcbn0pKCk7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBmbHZEZW11eCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIH1cbiAgICBzdGF0aWMgcGFyc2VPYmplY3QoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG5cbiAgICAgICAgY29uc3QgbmFtZSA9IGZsdkRlbXV4LnBhcnNlU3RyaW5nKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZmx2RGVtdXgucGFyc2VTY3JpcHQoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBuYW1lLnNpemUpO1xuICAgICAgICBjb25zdCBpc09iamVjdEVuZCA9IHZhbHVlLm9iamVjdEVuZDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUuZGF0YSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUuZGF0YVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IHZhbHVlLnNpemUsXG4gICAgICAgICAgICBvYmplY3RFbmQ6IGlzT2JqZWN0RW5kXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlVmFyaWFibGUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIHJldHVybiBmbHZEZW11eC5wYXJzZU9iamVjdChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuICAgIH1cbiAgICBzdGF0aWMgcGFyc2VMb25nU3RyaW5nKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuXG4gICAgICAgIGNvbnN0IHYgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQpO1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2LmdldFVpbnQzMigwLCAhbGUpO1xuXG4gICAgICAgIGxldCBzdHI7XG4gICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdHIgPSBkZWNvZGVVVEY4KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgNCwgbGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBzdHIsXG4gICAgICAgICAgICBzaXplOiA0ICsgbGVuZ3RoXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZURhdGUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG5cbiAgICAgICAgY29uc3QgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCk7XG4gICAgICAgIGxldCB0aW1lc3RhbXAgPSB2LmdldEZsb2F0NjQoMCwgIWxlKTtcbiAgICAgICAgY29uc3QgbG9jYWxUaW1lT2Zmc2V0ID0gdi5nZXRJbnQxNig4LCAhbGUpO1xuICAgICAgICB0aW1lc3RhbXAgKz0gbG9jYWxUaW1lT2Zmc2V0ICogNjAgKiAxMDAwOyAvLyBnZXQgVVRDIHRpbWVcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogbmV3IERhdGUodGltZXN0YW1wKSxcbiAgICAgICAgICAgIHNpemU6IDggKyAyXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZVN0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgY29uc3QgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCk7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHYuZ2V0VWludDE2KDAsICFsZSk7XG4gICAgICAgIGxldCBzdHI7XG4gICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdHIgPSBkZWNvZGVVVEY4KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMiwgbGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogc3RyLFxuICAgICAgICAgICAgc2l6ZTogMiArIGxlbmd0aFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOino+aekG1ldGFkYXRhXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlTWV0YWRhdGEoYXJyKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBmbHZEZW11eC5wYXJzZVNjcmlwdChhcnIsIDApO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGZsdkRlbXV4LnBhcnNlU2NyaXB0KGFyciwgbmFtZS5zaXplLCBhcnIubGVuZ3RoIC0gbmFtZS5zaXplKTtcbiAgICAgICAgLy8gcmV0dXJuIHt9XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YVtuYW1lLmRhdGFdID0gdmFsdWUuZGF0YTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlU2NyaXB0KGFyciwgb2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBsZXQgZGF0YU9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0ge307XG4gICAgICAgIGNvbnN0IHVpbnQ4ID0gbmV3IFVpbnQ4QXJyYXkoYXJyKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gdWludDguYnVmZmVyO1xuICAgICAgICBjb25zdCBkdiA9IG5ldyBEYXRhVmlldyhidWZmZXIsIDAsIGRhdGFTaXplKTtcbiAgICAgICAgbGV0IHZhbHVlID0gbnVsbDtcbiAgICAgICAgbGV0IG9iamVjdEVuZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCB0eXBlID0gKGR2LmdldFVpbnQ4KGRhdGFPZmZzZXQpKTtcbiAgICAgICAgZGF0YU9mZnNldCArPSAxO1xuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAwOiAvLyBOdW1iZXIoRG91YmxlKSB0eXBlXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkdi5nZXRGbG9hdDY0KGRhdGFPZmZzZXQsICFsZSk7XG4gICAgICAgICAgICAgICAgZGF0YU9mZnNldCArPSA4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHsgLy8gQm9vbGVhbiB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGIgPSBkdi5nZXRVaW50OChkYXRhT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAhIWI7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHsgLy8gU3RyaW5nIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgLy8gZGF0YU9mZnNldCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbWZzdHIgPSBmbHZEZW11eC5wYXJzZVN0cmluZyhidWZmZXIsIGRhdGFPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFtZnN0ci5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ICs9IGFtZnN0ci5zaXplO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDM6XG5cbiAgICAgICAgICAgICAgICB7IC8vIE9iamVjdChzKSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtaW5hbCA9IDA7IC8vIHdvcmthcm91bmQgZm9yIG1hbGZvcm1lZCBPYmplY3RzIHdoaWNoIGhhcyBtaXNzaW5nIFNjcmlwdERhdGFPYmplY3RFbmRcbiAgICAgICAgICAgICAgICAgICAgaWYgKChkdi5nZXRVaW50MzIoZGF0YVNpemUgLSA0LCAhbGUpICYgMHgwMEZGRkZGRikgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1pbmFsID0gMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgZGF0YVNpemUgLSA0KSB7IC8vIDQgPT09IHR5cGUoVUk4KSArIFNjcmlwdERhdGFPYmplY3RFbmQoVUkyNClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtZm9iaiA9IGZsdkRlbXV4LnBhcnNlT2JqZWN0KGJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUgLSBvZmZzZXQgLSB0ZXJtaW5hbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbWZvYmoub2JqZWN0RW5kKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVthbWZvYmouZGF0YS5uYW1lXSA9IGFtZm9iai5kYXRhLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGF0YU9mZnNldCArPSBhbWZvYmouc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgPSBhbWZvYmouc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0IDw9IGRhdGFTaXplIC0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya2VyID0gdi5nZXRVaW50MzIoZGF0YU9mZnNldCAtIDEsICFsZSkgJiAweDAwRkZGRkZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlciA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgKz0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgeyAvLyBFQ01BIGFycmF5IHR5cGUgKE1peGVkIGFycmF5KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAvLyBkYXRhT2Zmc2V0ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQgKz0gNDsgLy8gRUNNQUFycmF5TGVuZ3RoKFVJMzIpXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtaW5hbCA9IDA7IC8vIHdvcmthcm91bmQgZm9yIG1hbGZvcm1lZCBNaXhlZEFycmF5cyB3aGljaCBoYXMgbWlzc2luZyBTY3JpcHREYXRhT2JqZWN0RW5kXG4gICAgICAgICAgICAgICAgICAgIGlmICgoZHYuZ2V0VWludDMyKGRhdGFTaXplIC0gNCwgIWxlKSAmIDB4MDBGRkZGRkYpID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRhdGFPZmZzZXQgPCBkYXRhU2l6ZSAtIDgpIHsgLy8gOCA9PT0gdHlwZShVSTgpICsgRUNNQUFycmF5TGVuZ3RoKFVJMzIpICsgU2NyaXB0RGF0YVZhcmlhYmxlRW5kKFVJMjQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbWZ2YXIgPSBmbHZEZW11eC5wYXJzZVZhcmlhYmxlKGJ1ZmZlciwgZGF0YU9mZnNldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbWZ2YXIub2JqZWN0RW5kKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVthbWZ2YXIuZGF0YS5uYW1lXSA9IGFtZnZhci5kYXRhLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCA9IGFtZnZhci5zaXplO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhT2Zmc2V0IDw9IGRhdGFTaXplIC0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya2VyID0gZHYuZ2V0VWludDMyKGRhdGFPZmZzZXQgLSAxLCAhbGUpICYgMHgwMEZGRkZGRjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXJrZXIgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSA5OiAvLyBTY3JpcHREYXRhT2JqZWN0RW5kXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgZGF0YU9mZnNldCA9IDE7XG4gICAgICAgICAgICAgICAgb2JqZWN0RW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgeyAvLyBTdHJpY3QgYXJyYXkgdHlwZVxuICAgICAgICAgICAgICAgICAgICAvLyBTY3JpcHREYXRhVmFsdWVbbl0uIE5PVEU6IGFjY29yZGluZyB0byB2aWRlb19maWxlX2Zvcm1hdF9zcGVjX3YxMF8xLnBkZlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpY3RBcnJheUxlbmd0aCA9IGR2LmdldFVpbnQzMihkYXRhT2Zmc2V0LCAhbGUpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhT2Zmc2V0ICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaWN0QXJyYXlMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZmx2RGVtdXgucGFyc2VTY3JpcHQoYnVmZmVyLCBkYXRhT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2godmFsLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCA9IHZhbC5zaXplO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgeyAvLyBEYXRlIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGZsdkRlbXV4LnBhcnNlRGF0ZShidWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRhdGUuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCArPSBkYXRlLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgeyAvLyBMb25nIHN0cmluZyB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFtZkxvbmdTdHIgPSBmbHZEZW11eC5wYXJzZVN0cmluZyhidWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFtZkxvbmdTdHIuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YU9mZnNldCArPSBhbWZMb25nU3RyLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGFuZCBza2lwXG4gICAgICAgICAgICAgICAgZGF0YU9mZnNldCA9IGRhdGFTaXplO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBTUYnLCAnVW5zdXBwb3J0ZWQgQU1GIHZhbHVlIHR5cGUgJyArIHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB2YWx1ZSxcbiAgICAgICAgICAgIHNpemU6IGRhdGFPZmZzZXQsXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2Zsdi9mbHZkZW11eC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable */\nvar MediaInfo = function () {\n    function MediaInfo() {\n        _classCallCheck(this, MediaInfo);\n\n        this.mimeType = null;\n        this.duration = null;\n\n        this.hasAudio = null;\n        this.hasVideo = null;\n        this.audioCodec = null;\n        this.videoCodec = null;\n        this.audioDataRate = null;\n        this.videoDataRate = null;\n\n        this.audioSampleRate = null;\n        this.audioChannelCount = null;\n\n        this.width = null;\n        this.height = null;\n        this.fps = null;\n        this.profile = null;\n        this.level = null;\n        this.chromaFormat = null;\n        this.sarNum = null;\n        this.sarDen = null;\n\n        this.metadata = null;\n        this.segments = null; // MediaInfo[]\n        this.segmentCount = null;\n        this.hasKeyframesIndex = null;\n        this.keyframesIndex = null;\n    }\n\n    _createClass(MediaInfo, [{\n        key: \"isComplete\",\n        value: function isComplete() {\n            var audioInfoComplete = this.hasAudio === false || this.hasAudio === true && this.audioCodec != null && this.audioSampleRate != null && this.audioChannelCount != null;\n\n            var videoInfoComplete = this.hasVideo === false || this.hasVideo === true && this.videoCodec != null && this.width != null && this.height != null && this.fps != null && this.profile != null && this.level != null && this.chromaFormat != null && this.sarNum != null && this.sarDen != null;\n\n            // keyframesIndex may not be present\n            return this.mimeType != null && this.duration != null && this.metadata != null && this.hasKeyframesIndex != null && audioInfoComplete && videoInfoComplete;\n        }\n    }, {\n        key: \"isSeekable\",\n        value: function isSeekable() {\n            return this.hasKeyframesIndex === true;\n        }\n    }]);\n\n    return MediaInfo;\n}();\n\nexports.default = MediaInfo;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYvbWVkaWEtaW5mby5qcz9lYzg5Il0sIm5hbWVzIjpbIk1lZGlhSW5mbyIsIm1pbWVUeXBlIiwiZHVyYXRpb24iLCJoYXNBdWRpbyIsImhhc1ZpZGVvIiwiYXVkaW9Db2RlYyIsInZpZGVvQ29kZWMiLCJhdWRpb0RhdGFSYXRlIiwidmlkZW9EYXRhUmF0ZSIsImF1ZGlvU2FtcGxlUmF0ZSIsImF1ZGlvQ2hhbm5lbENvdW50Iiwid2lkdGgiLCJoZWlnaHQiLCJmcHMiLCJwcm9maWxlIiwibGV2ZWwiLCJjaHJvbWFGb3JtYXQiLCJzYXJOdW0iLCJzYXJEZW4iLCJtZXRhZGF0YSIsInNlZ21lbnRzIiwic2VnbWVudENvdW50IiwiaGFzS2V5ZnJhbWVzSW5kZXgiLCJrZXlmcmFtZXNJbmRleCIsImF1ZGlvSW5mb0NvbXBsZXRlIiwidmlkZW9JbmZvQ29tcGxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7SUFDTUEsUztBQUVGLHlCQUFjO0FBQUE7O0FBQ1YsYUFBS0MsUUFBTCxHQUFnQixJQUFoQjtBQUNBLGFBQUtDLFFBQUwsR0FBZ0IsSUFBaEI7O0FBRUEsYUFBS0MsUUFBTCxHQUFnQixJQUFoQjtBQUNBLGFBQUtDLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxhQUFLQyxVQUFMLEdBQWtCLElBQWxCO0FBQ0EsYUFBS0MsVUFBTCxHQUFrQixJQUFsQjtBQUNBLGFBQUtDLGFBQUwsR0FBcUIsSUFBckI7QUFDQSxhQUFLQyxhQUFMLEdBQXFCLElBQXJCOztBQUVBLGFBQUtDLGVBQUwsR0FBdUIsSUFBdkI7QUFDQSxhQUFLQyxpQkFBTCxHQUF5QixJQUF6Qjs7QUFFQSxhQUFLQyxLQUFMLEdBQWEsSUFBYjtBQUNBLGFBQUtDLE1BQUwsR0FBYyxJQUFkO0FBQ0EsYUFBS0MsR0FBTCxHQUFXLElBQVg7QUFDQSxhQUFLQyxPQUFMLEdBQWUsSUFBZjtBQUNBLGFBQUtDLEtBQUwsR0FBYSxJQUFiO0FBQ0EsYUFBS0MsWUFBTCxHQUFvQixJQUFwQjtBQUNBLGFBQUtDLE1BQUwsR0FBYyxJQUFkO0FBQ0EsYUFBS0MsTUFBTCxHQUFjLElBQWQ7O0FBRUEsYUFBS0MsUUFBTCxHQUFnQixJQUFoQjtBQUNBLGFBQUtDLFFBQUwsR0FBZ0IsSUFBaEIsQ0F4QlUsQ0F3Qlk7QUFDdEIsYUFBS0MsWUFBTCxHQUFvQixJQUFwQjtBQUNBLGFBQUtDLGlCQUFMLEdBQXlCLElBQXpCO0FBQ0EsYUFBS0MsY0FBTCxHQUFzQixJQUF0QjtBQUNIOzs7O3FDQUVZO0FBQ1QsZ0JBQU1DLG9CQUFxQixLQUFLckIsUUFBTCxLQUFrQixLQUFuQixJQUNyQixLQUFLQSxRQUFMLEtBQWtCLElBQWxCLElBQ0csS0FBS0UsVUFBTCxJQUFtQixJQUR0QixJQUVHLEtBQUtJLGVBQUwsSUFBd0IsSUFGM0IsSUFHRyxLQUFLQyxpQkFBTCxJQUEwQixJQUpsQzs7QUFNQSxnQkFBTWUsb0JBQXFCLEtBQUtyQixRQUFMLEtBQWtCLEtBQW5CLElBQ3JCLEtBQUtBLFFBQUwsS0FBa0IsSUFBbEIsSUFDRyxLQUFLRSxVQUFMLElBQW1CLElBRHRCLElBRUcsS0FBS0ssS0FBTCxJQUFjLElBRmpCLElBR0csS0FBS0MsTUFBTCxJQUFlLElBSGxCLElBSUcsS0FBS0MsR0FBTCxJQUFZLElBSmYsSUFLRyxLQUFLQyxPQUFMLElBQWdCLElBTG5CLElBTUcsS0FBS0MsS0FBTCxJQUFjLElBTmpCLElBT0csS0FBS0MsWUFBTCxJQUFxQixJQVB4QixJQVFHLEtBQUtDLE1BQUwsSUFBZSxJQVJsQixJQVNHLEtBQUtDLE1BQUwsSUFBZSxJQVZ2Qjs7QUFZQTtBQUNBLG1CQUFPLEtBQUtqQixRQUFMLElBQWlCLElBQWpCLElBQ0gsS0FBS0MsUUFBTCxJQUFpQixJQURkLElBRUgsS0FBS2lCLFFBQUwsSUFBaUIsSUFGZCxJQUdILEtBQUtHLGlCQUFMLElBQTBCLElBSHZCLElBSUhFLGlCQUpHLElBS0hDLGlCQUxKO0FBTUg7OztxQ0FFWTtBQUNULG1CQUFPLEtBQUtILGlCQUFMLEtBQTJCLElBQWxDO0FBQ0g7Ozs7OztrQkFHVXRCLFMiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG5jbGFzcyBNZWRpYUluZm8ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWltZVR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gbnVsbDtcblxuICAgICAgICB0aGlzLmhhc0F1ZGlvID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNWaWRlbyA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMudmlkZW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9EYXRhUmF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudmlkZW9EYXRhUmF0ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5hdWRpb1NhbXBsZVJhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvQ2hhbm5lbENvdW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLndpZHRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBudWxsO1xuICAgICAgICB0aGlzLmZwcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZmlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBudWxsO1xuICAgICAgICB0aGlzLmNocm9tYUZvcm1hdCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2FyTnVtID0gbnVsbDtcbiAgICAgICAgdGhpcy5zYXJEZW4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnNlZ21lbnRzID0gbnVsbDsgLy8gTWVkaWFJbmZvW11cbiAgICAgICAgdGhpcy5zZWdtZW50Q291bnQgPSBudWxsO1xuICAgICAgICB0aGlzLmhhc0tleWZyYW1lc0luZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXlmcmFtZXNJbmRleCA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgY29uc3QgYXVkaW9JbmZvQ29tcGxldGUgPSAodGhpcy5oYXNBdWRpbyA9PT0gZmFsc2UpIHx8XG4gICAgICAgICAgICAodGhpcy5oYXNBdWRpbyA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db2RlYyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb1NhbXBsZVJhdGUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9DaGFubmVsQ291bnQgIT0gbnVsbCk7XG5cbiAgICAgICAgY29uc3QgdmlkZW9JbmZvQ29tcGxldGUgPSAodGhpcy5oYXNWaWRlbyA9PT0gZmFsc2UpIHx8XG4gICAgICAgICAgICAodGhpcy5oYXNWaWRlbyA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9Db2RlYyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuZnBzICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnByb2ZpbGUgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWwgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuY2hyb21hRm9ybWF0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnNhck51bSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgdGhpcy5zYXJEZW4gIT0gbnVsbCk7XG5cbiAgICAgICAgLy8ga2V5ZnJhbWVzSW5kZXggbWF5IG5vdCBiZSBwcmVzZW50XG4gICAgICAgIHJldHVybiB0aGlzLm1pbWVUeXBlICE9IG51bGwgJiZcbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gIT0gbnVsbCAmJlxuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YSAhPSBudWxsICYmXG4gICAgICAgICAgICB0aGlzLmhhc0tleWZyYW1lc0luZGV4ICE9IG51bGwgJiZcbiAgICAgICAgICAgIGF1ZGlvSW5mb0NvbXBsZXRlICYmXG4gICAgICAgICAgICB2aWRlb0luZm9Db21wbGV0ZTtcbiAgICB9XG5cbiAgICBpc1NlZWthYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNLZXlmcmFtZXNJbmRleCA9PT0gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lZGlhSW5mbztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9mbHYvbWVkaWEtaW5mby5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* eslint-disable */\n\n\nvar _flvParse = __webpack_require__(2);\n\nvar _flvParse2 = _interopRequireDefault(_flvParse);\n\nvar _tagdemux = __webpack_require__(0);\n\nvar _tagdemux2 = _interopRequireDefault(_tagdemux);\n\nvar _mp4remux = __webpack_require__(1);\n\nvar _mp4remux2 = _interopRequireDefault(_mp4remux);\n\nvar _mp4moof = __webpack_require__(4);\n\nvar _mp4moof2 = _interopRequireDefault(_mp4moof);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar flv2fmp4 = function () {\n\n    /**\n     * Creates an instance of flv2fmp4.\n     * config 里面有_isLive属性,是否是直播\n     * @param {any} config\n     *\n     * @memberof flv2fmp4\n     */\n    function flv2fmp4(config) {\n        _classCallCheck(this, flv2fmp4);\n\n        this._config = { _isLive: false };\n        this._config = Object.assign(this._config, config);\n\n        // 外部方法赋值\n        this.onInitSegment = null;\n        this.onMediaSegment = null;\n        this.onMediaInfo = null;\n        this.seekCallBack = null;\n\n        // 内部使用\n        this.loadmetadata = false;\n        this.ftyp_moov = null;\n        this.metaSuccRun = false;\n        this.metas = [];\n        this.parseChunk = null;\n        this.hasVideo = false;\n        this.hasAudio = false;\n        // 临时记录seek时间\n        this._pendingResolveSeekPoint = -1;\n\n        // 临时记录flv数据起始时间\n        this._tempBaseTime = 0;\n\n        // 处理flv数据入口\n        this.setflvBase = this.setflvBasefrist;\n\n        _tagdemux2.default._onTrackMetadata = this.Metadata.bind(this);\n        _tagdemux2.default._onMediaInfo = this.metaSucc.bind(this);\n        _tagdemux2.default._onDataAvailable = this.onDataAvailable.bind(this);\n        this.m4mof = new _mp4moof2.default(this._config);\n        this.m4mof.onMediaSegment = this.onMdiaSegment.bind(this);\n    }\n\n    _createClass(flv2fmp4, [{\n        key: 'seek',\n        value: function seek(baseTime) {\n            this.setflvBase = this.setflvBasefrist;\n            if (baseTime == undefined || baseTime == 0) {\n                baseTime = 0;\n                this._pendingResolveSeekPoint = -1;\n            }\n            if (this._tempBaseTime != baseTime) {\n                this._tempBaseTime = baseTime;\n                _tagdemux2.default._timestampBase = baseTime;\n                this.m4mof.seek(baseTime);\n                this.m4mof.insertDiscontinuity();\n                this._pendingResolveSeekPoint = baseTime;\n            }\n        }\n\n        /**\n         * 不要主动调用这个接口!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n         * 第一次接受数据,和seek时候接受数据入口,\n         *\n         * @param {any} arraybuff\n         * @param {any} baseTime\n         * @returns\n         *\n         * @memberof flv2fmp4\n         */\n\n    }, {\n        key: 'setflvBasefrist',\n        value: function setflvBasefrist(arraybuff, baseTime) {\n\n            var offset = _flvParse2.default.setFlv(new Uint8Array(arraybuff));\n\n            if (_flvParse2.default.arrTag.length > 0) {\n                this.hasAudio = _flvParse2.default._hasAudio;\n                this.hasVideo = _flvParse2.default._hasVideo;\n                if (this._tempBaseTime != 0 && this._tempBaseTime == _flvParse2.default.arrTag[0].getTime()) {\n                    _tagdemux2.default._timestampBase = 0;\n                }\n                _tagdemux2.default.moofTag(_flvParse2.default.arrTag);\n                this.setflvBase = this.setflvBaseUsually;\n            }\n\n            return offset;\n        }\n\n        /**\n         * 不要主动调用这个接口!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n         * 后续接受数据接口\n         * @param {any} arraybuff\n         * @param {any} baseTime\n         * @returns\n         *\n         * @memberof flv2fmp4\n         */\n\n    }, {\n        key: 'setflvBaseUsually',\n        value: function setflvBaseUsually(arraybuff, baseTime) {\n            var offset = _flvParse2.default.setFlv(new Uint8Array(arraybuff));\n\n            if (_flvParse2.default.arrTag.length > 0) {\n                _tagdemux2.default.moofTag(_flvParse2.default.arrTag);\n            }\n\n            return offset;\n        }\n\n        /**\n         * 不要主动调用这个接口!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n         * moof回调\n         *\n         * @param {any} track\n         * @param {any} value\n         *\n         * @memberof flv2fmp4\n         */\n\n    }, {\n        key: 'onMdiaSegment',\n        value: function onMdiaSegment(track, value) {\n\n            if (this.onMediaSegment) {\n                this.onMediaSegment(new Uint8Array(value.data));\n            }\n            if (this._pendingResolveSeekPoint != -1 && track == 'video') {\n                var seekpoint = this._pendingResolveSeekPoint;\n                this._pendingResolveSeekPoint = -1;\n                if (this.seekCallBack) {\n                    this.seekCallBack(seekpoint);\n                }\n            }\n        }\n\n        /**\n         *\n         * 音频和视频的初始化tag\n         *\n         * @param {any} type\n         * @param {any} meta\n         *\n         * @memberof flv2fmp4\n         */\n\n    }, {\n        key: 'Metadata',\n        value: function Metadata(type, meta) {\n            switch (type) {\n                case 'video':\n                    this.metas.push(meta);\n                    this.m4mof._videoMeta = meta;\n                    if (this.hasVideo && !this.hasAudio) {\n                        this.metaSucc();\n                        return;\n                    }\n                    break;\n                case 'audio':\n                    this.metas.push(meta);\n                    this.m4mof._audioMeta = meta;\n                    if (!this.hasVideo && this.hasAudio) {\n                        this.metaSucc();\n                        return;\n                    }\n                    break;\n            }\n            if (this.hasVideo && this.hasAudio && this.metaSuccRun && this.metas.length > 1) {\n                this.metaSucc();\n            }\n        }\n\n        /**\n         * metadata解读成功后触发及第一个视频tag和第一个音频tag\n         *\n         * @param {any} mi\n         * @returns\n         *\n         * @memberof flv2fmp4\n         */\n\n    }, {\n        key: 'metaSucc',\n        value: function metaSucc(mi) {\n            if (this.onMediaInfo) {\n                this.onMediaInfo(mi, { hasAudio: this.hasAudio, hasVideo: this.hasVideo });\n            }\n            // 获取ftyp和moov\n            if (this.metas.length == 0) {\n                this.metaSuccRun = true;\n                return;\n            }\n\n            this.ftyp_moov = _mp4remux2.default.generateInitSegment(this.metas);\n            if (this.onInitSegment && this.loadmetadata == false) {\n\n                this.onInitSegment(this.ftyp_moov);\n                this.loadmetadata = true;\n            }\n        }\n    }, {\n        key: 'onDataAvailable',\n        value: function onDataAvailable(audiotrack, videotrack) {\n            this.m4mof.remux(audiotrack, videotrack);\n        }\n\n        /**\n         * 传入flv的二进制数据\n         * 统一入口\n         * @param {any} arraybuff\n         * @param {any} baseTime flv数据开始时间\n         * @returns\n         *\n         * @memberof flv2fmp4\n         */\n\n    }, {\n        key: 'setflv',\n        value: function setflv(arraybuff, baseTime) {\n            return this.setflvBase(arraybuff, baseTime);\n        }\n\n        /**\n         *\n         * 本地调试代码,不用理会\n         * @param {any} arraybuff\n         * @returns\n         *\n         * @memberof flv2fmp4\n         */\n\n    }, {\n        key: 'setflvloc',\n        value: function setflvloc(arraybuff) {\n            var offset = _flvParse2.default.setFlv(new Uint8Array(arraybuff));\n\n            if (_flvParse2.default.arrTag.length > 0) {\n                return _flvParse2.default.arrTag;\n            }\n        }\n    }]);\n\n    return flv2fmp4;\n}();\n\n/**\n * 封装的对外类,有些方法不想对外暴露,所以封装这么一个类\n *\n * @class foreign\n */\n\n\nvar foreign = function () {\n    function foreign(config) {\n        _classCallCheck(this, foreign);\n\n        this.f2m = new flv2fmp4(config);\n        // 外部方法赋值\n        this._onInitSegment = null;\n        this._onMediaSegment = null;\n        this._onMediaInfo = null;\n        this._seekCallBack = null;\n    }\n\n    /**\n     *\n     * 跳转\n     * @param {any} basetime  跳转时间\n     *\n     * @memberof foreign\n     */\n\n\n    _createClass(foreign, [{\n        key: 'seek',\n        value: function seek(basetime) {\n            this.f2m.seek(basetime);\n        }\n\n        /**\n         * 传入flv的二进制数据\n         * 统一入口\n         * @param {any} arraybuff\n         * @returns\n         *\n         * @memberof flv2fmp4\n         */\n\n    }, {\n        key: 'setflv',\n        value: function setflv(arraybuff) {\n            return this.f2m.setflv(arraybuff, 0);\n        }\n\n        /**\n         *\n         * 本地调试代码,不用理会\n         * @param {any} arraybuff\n         * @returns\n         *\n         * @memberof flv2fmp4\n         */\n\n    }, {\n        key: 'setflvloc',\n        value: function setflvloc(arraybuff) {\n            return this.f2m.setflvloc(arraybuff);\n        }\n\n        /**\n         * 赋值初始化seg接受方法\n         *\n         *\n         * @memberof foreign\n         */\n\n    }, {\n        key: 'onInitSegment',\n        set: function set(fun) {\n            this._onInitSegment = fun;\n            this.f2m.onInitSegment = fun;\n        }\n\n        /**\n         * 赋值moof接受方法\n         *\n         *\n         * @memberof foreign\n         */\n\n    }, {\n        key: 'onMediaSegment',\n        set: function set(fun) {\n            this._onMediaSegment = fun;\n            this.f2m.onMediaSegment = fun;\n        }\n\n        /**\n         * 赋值metadata接受方法\n         *\n         *\n         * @memberof foreign\n         */\n\n    }, {\n        key: 'onMediaInfo',\n        set: function set(fun) {\n            this._onMediaInfo = fun;\n            this.f2m.onMediaInfo = fun;\n        }\n\n        /**\n         * 赋值是否跳转回调接受方法\n         *\n         *\n         * @memberof foreign\n         */\n\n    }, {\n        key: 'seekCallBack',\n        set: function set(fun) {\n            this._seekCallBack = fun;\n            this.f2m.seekCallBack = fun;\n        }\n    }]);\n\n    return foreign;\n}();\n\nexports.default = foreign;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9mbHYyZm1wNC5qcz84ZTQ3Il0sIm5hbWVzIjpbImZsdjJmbXA0IiwiY29uZmlnIiwiX2NvbmZpZyIsIl9pc0xpdmUiLCJPYmplY3QiLCJhc3NpZ24iLCJvbkluaXRTZWdtZW50Iiwib25NZWRpYVNlZ21lbnQiLCJvbk1lZGlhSW5mbyIsInNlZWtDYWxsQmFjayIsImxvYWRtZXRhZGF0YSIsImZ0eXBfbW9vdiIsIm1ldGFTdWNjUnVuIiwibWV0YXMiLCJwYXJzZUNodW5rIiwiaGFzVmlkZW8iLCJoYXNBdWRpbyIsIl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCIsIl90ZW1wQmFzZVRpbWUiLCJzZXRmbHZCYXNlIiwic2V0Zmx2QmFzZWZyaXN0IiwiX29uVHJhY2tNZXRhZGF0YSIsIk1ldGFkYXRhIiwiYmluZCIsIl9vbk1lZGlhSW5mbyIsIm1ldGFTdWNjIiwiX29uRGF0YUF2YWlsYWJsZSIsIm9uRGF0YUF2YWlsYWJsZSIsIm00bW9mIiwib25NZGlhU2VnbWVudCIsImJhc2VUaW1lIiwidW5kZWZpbmVkIiwiX3RpbWVzdGFtcEJhc2UiLCJzZWVrIiwiaW5zZXJ0RGlzY29udGludWl0eSIsImFycmF5YnVmZiIsIm9mZnNldCIsInNldEZsdiIsIlVpbnQ4QXJyYXkiLCJhcnJUYWciLCJsZW5ndGgiLCJfaGFzQXVkaW8iLCJfaGFzVmlkZW8iLCJnZXRUaW1lIiwibW9vZlRhZyIsInNldGZsdkJhc2VVc3VhbGx5IiwidHJhY2siLCJ2YWx1ZSIsImRhdGEiLCJzZWVrcG9pbnQiLCJ0eXBlIiwibWV0YSIsInB1c2giLCJfdmlkZW9NZXRhIiwiX2F1ZGlvTWV0YSIsIm1pIiwiZ2VuZXJhdGVJbml0U2VnbWVudCIsImF1ZGlvdHJhY2siLCJ2aWRlb3RyYWNrIiwicmVtdXgiLCJmb3JlaWduIiwiZjJtIiwiX29uSW5pdFNlZ21lbnQiLCJfb25NZWRpYVNlZ21lbnQiLCJfc2Vla0NhbGxCYWNrIiwiYmFzZXRpbWUiLCJzZXRmbHYiLCJzZXRm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LENBQVN0RCxjQUFULEdBQTBCNkQsR0FBMUI7QUFDSDs7QUFFRDs7Ozs7Ozs7OzBCQU1nQkEsRyxFQUFLO0FBQ2pCLGlCQUFLNUMsWUFBTCxHQUFvQjRDLEdBQXBCO0FBQ0EsaUJBQUtQLEdBQUwsQ0FBU3JELFdBQVQsR0FBdUI0RCxHQUF2QjtBQUNIOztBQUVEOzs7Ozs7Ozs7MEJBTWlCQSxHLEVBQUs7QUFDbEIsaUJBQUtKLGFBQUwsR0FBcUJJLEdBQXJCO0FBQ0EsaUJBQUtQLEdBQUwsQ0FBU3BELFlBQVQsR0FBd0IyRCxHQUF4QjtBQUNIOzs7Ozs7a0JBR1VSLE8iLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IGZsdnBhcnNlIGZyb20gJy4vZmx2L2ZsdlBhcnNlJztcbmltcG9ydCB0YWdkZW11eCBmcm9tICcuL2Zsdi90YWdkZW11eCc7XG5pbXBvcnQgbXA0cmVtdXggZnJvbSAnLi9tcDQvbXA0cmVtdXgnO1xuaW1wb3J0IG1wNG1vb2YgZnJvbSAnLi9tcDQvbXA0bW9vZic7XG5jbGFzcyBmbHYyZm1wNCB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGZsdjJmbXA0LlxuICAgICAqIGNvbmZpZyDph4zpnaLmnIlfaXNMaXZl5bGe5oCnLOaYr+WQpuaYr+ebtOaSrVxuICAgICAqIEBwYXJhbSB7YW55fSBjb25maWdcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBmbHYyZm1wNFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLl9jb25maWcgPSB7IF9pc0xpdmU6IGZhbHNlIH07XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5fY29uZmlnLCBjb25maWcpO1xuXG4gICAgICAgIC8vIOWklumDqOaWueazlei1i+WAvFxuICAgICAgICB0aGlzLm9uSW5pdFNlZ21lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm9uTWVkaWFTZWdtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbk1lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Vla0NhbGxCYWNrID0gbnVsbDtcblxuICAgICAgICAvLyDlhoXpg6jkvb/nlKhcbiAgICAgICAgdGhpcy5sb2FkbWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mdHlwX21vb3YgPSBudWxsO1xuICAgICAgICB0aGlzLm1ldGFTdWNjUnVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWV0YXMgPSBbXTtcbiAgICAgICAgdGhpcy5wYXJzZUNodW5rID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNWaWRlbyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc0F1ZGlvID0gZmFsc2U7XG4gICAgICAgIC8vIOS4tOaXtuiusOW9lXNlZWvml7bpl7RcbiAgICAgICAgdGhpcy5fcGVuZGluZ1Jlc29sdmVTZWVrUG9pbnQgPSAtMTtcblxuICAgICAgICAvLyDkuLTml7borrDlvZVmbHbmlbDmja7otbflp4vml7bpl7RcbiAgICAgICAgdGhpcy5fdGVtcEJhc2VUaW1lID0gMDtcblxuICAgICAgICAvLyDlpITnkIZmbHbmlbDmja7lhaXlj6NcbiAgICAgICAgdGhpcy5zZXRmbHZCYXNlID0gdGhpcy5zZXRmbHZCYXNlZnJpc3Q7XG5cbiAgICAgICAgdGFnZGVtdXguX29uVHJhY2tNZXRhZGF0YSA9IHRoaXMuTWV0YWRhdGEuYmluZCh0aGlzKTtcbiAgICAgICAgdGFnZGVtdXguX29uTWVkaWFJbmZvID0gdGhpcy5tZXRhU3VjYy5iaW5kKHRoaXMpO1xuICAgICAgICB0YWdkZW11eC5fb25EYXRhQXZhaWxhYmxlID0gdGhpcy5vbkRhdGFBdmFpbGFibGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5tNG1vZiA9IG5ldyBtcDRtb29mKHRoaXMuX2NvbmZpZyk7XG4gICAgICAgIHRoaXMubTRtb2Yub25NZWRpYVNlZ21lbnQgPSB0aGlzLm9uTWRpYVNlZ21lbnQuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgc2VlayhiYXNlVGltZSkge1xuICAgICAgICB0aGlzLnNldGZsdkJhc2UgPSB0aGlzLnNldGZsdkJhc2VmcmlzdDtcbiAgICAgICAgaWYgKGJhc2VUaW1lID09IHVuZGVmaW5lZCB8fCBiYXNlVGltZSA9PSAwKSB7XG4gICAgICAgICAgICBiYXNlVGltZSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90ZW1wQmFzZVRpbWUgIT0gYmFzZVRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBCYXNlVGltZSA9IGJhc2VUaW1lO1xuICAgICAgICAgICAgdGFnZGVtdXguX3RpbWVzdGFtcEJhc2UgPSBiYXNlVGltZTtcbiAgICAgICAgICAgIHRoaXMubTRtb2Yuc2VlayhiYXNlVGltZSk7XG4gICAgICAgICAgICB0aGlzLm00bW9mLmluc2VydERpc2NvbnRpbnVpdHkoKTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ID0gYmFzZVRpbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuI3opoHkuLvliqjosIPnlKjov5nkuKrmjqXlj6MhISEhISEhISEhISEhISEhISEhISEhISEhISEhXG4gICAgICog56ys5LiA5qyh5o6l5Y+X5pWw5o2uLOWSjHNlZWvml7blgJnmjqXlj5fmlbDmja7lhaXlj6MsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gYXJyYXlidWZmXG4gICAgICogQHBhcmFtIHthbnl9IGJhc2VUaW1lXG4gICAgICogQHJldHVybnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBmbHYyZm1wNFxuICAgICAqL1xuICAgIHNldGZsdkJhc2VmcmlzdChhcnJheWJ1ZmYsIGJhc2VUaW1lKSB7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IGZsdnBhcnNlLnNldEZsdihuZXcgVWludDhBcnJheShhcnJheWJ1ZmYpKTtcblxuICAgICAgICBpZiAoZmx2cGFyc2UuYXJyVGFnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaGFzQXVkaW8gPSBmbHZwYXJzZS5faGFzQXVkaW87XG4gICAgICAgICAgICB0aGlzLmhhc1ZpZGVvID0gZmx2cGFyc2UuX2hhc1ZpZGVvO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RlbXBCYXNlVGltZSAhPSAwICYmIHRoaXMuX3RlbXBCYXNlVGltZSA9PSBmbHZwYXJzZS5hcnJUYWdbMF0uZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICAgICAgdGFnZGVtdXguX3RpbWVzdGFtcEJhc2UgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFnZGVtdXgubW9vZlRhZyhmbHZwYXJzZS5hcnJUYWcpO1xuICAgICAgICAgICAgdGhpcy5zZXRmbHZCYXNlID0gdGhpcy5zZXRmbHZCYXNlVXN1YWxseTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LiN6KaB5Li75Yqo6LCD55So6L+Z5Liq5o6l5Y+jISEhISEhISEhISEhISEhISEhISEhISEhISEhIVxuICAgICAqIOWQjue7reaOpeWPl+aVsOaNruaOpeWPo1xuICAgICAqIEBwYXJhbSB7YW55fSBhcnJheWJ1ZmZcbiAgICAgKiBAcGFyYW0ge2FueX0gYmFzZVRpbWVcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqXG4gICAgICogQG1lbWJlcm9mIGZsdjJmbXA0XG4gICAgICovXG4gICAgc2V0Zmx2QmFzZVVzdWFsbHkoYXJyYXlidWZmLCBiYXNlVGltZSkge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBmbHZwYXJzZS5zZXRGbHYobmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmKSk7XG5cbiAgICAgICAgaWYgKGZsdnBhcnNlLmFyclRhZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0YWdkZW11eC5tb29mVGFnKGZsdnBhcnNlLmFyclRhZyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS4jeimgeS4u+WKqOiwg+eUqOi/meS4quaOpeWPoyEhISEhISEhISEhISEhISEhISEhISEhISEhISFcbiAgICAgKiBtb29m5Zue6LCDXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gdHJhY2tcbiAgICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBmbHYyZm1wNFxuICAgICAqL1xuICAgIG9uTWRpYVNlZ21lbnQodHJhY2ssIHZhbHVlKSB7XG5cbiAgICAgICAgaWYgKHRoaXMub25NZWRpYVNlZ21lbnQpIHtcbiAgICAgICAgICAgIHRoaXMub25NZWRpYVNlZ21lbnQobmV3IFVpbnQ4QXJyYXkodmFsdWUuZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCAhPSAtMSAmJiB0cmFjayA9PSAndmlkZW8nKSB7XG4gICAgICAgICAgICBsZXQgc2Vla3BvaW50ID0gdGhpcy5fcGVuZGluZ1Jlc29sdmVTZWVrUG9pbnQ7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludCA9IC0xO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Vla0NhbGxCYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWVrQ2FsbEJhY2soc2Vla3BvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICog6Z+z6aKR5ZKM6KeG6aKR55qE5Yid5aeL5YyWdGFnXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gdHlwZVxuICAgICAqIEBwYXJhbSB7YW55fSBtZXRhXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgZmx2MmZtcDRcbiAgICAgKi9cbiAgICBNZXRhZGF0YSh0eXBlLCBtZXRhKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAndmlkZW8nOlxuICAgICAgICAgICAgICAgIHRoaXMubWV0YXMucHVzaChtZXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLm00bW9mLl92aWRlb01ldGEgPSBtZXRhO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1ZpZGVvICYmICF0aGlzLmhhc0F1ZGlvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YVN1Y2MoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFzLnB1c2gobWV0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tNG1vZi5fYXVkaW9NZXRhID0gbWV0YTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzVmlkZW8gJiYgdGhpcy5oYXNBdWRpbykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFTdWNjKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzVmlkZW8gJiYgdGhpcy5oYXNBdWRpbyAmJiB0aGlzLm1ldGFTdWNjUnVuICYmIHRoaXMubWV0YXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5tZXRhU3VjYygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbWV0YWRhdGHop6Por7vmiJDlip/lkI7op6blj5Hlj4rnrKzkuIDkuKrop4bpopF0YWflkoznrKzkuIDkuKrpn7PpopF0YWdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBtaVxuICAgICAqIEByZXR1cm5zXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgZmx2MmZtcDRcbiAgICAgKi9cbiAgICBtZXRhU3VjYyhtaSkge1xuICAgICAgICBpZiAodGhpcy5vbk1lZGlhSW5mbykge1xuICAgICAgICAgICAgdGhpcy5vbk1lZGlhSW5mbyhtaSwgeyBoYXNBdWRpbzogdGhpcy5oYXNBdWRpbywgaGFzVmlkZW86IHRoaXMuaGFzVmlkZW8gfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8g6I635Y+WZnR5cOWSjG1vb3ZcbiAgICAgICAgaWYgKHRoaXMubWV0YXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRoaXMubWV0YVN1Y2NSdW4gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mdHlwX21vb3YgPSBtcDRyZW11eC5nZW5lcmF0ZUluaXRTZWdtZW50KHRoaXMubWV0YXMpO1xuICAgICAgICBpZiAodGhpcy5vbkluaXRTZWdtZW50ICYmIHRoaXMubG9hZG1ldGFkYXRhID09IGZhbHNlKSB7XG5cbiAgICAgICAgICAgIHRoaXMub25Jbml0U2VnbWVudCh0aGlzLmZ0eXBfbW9vdik7XG4gICAgICAgICAgICB0aGlzLmxvYWRtZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRhdGFBdmFpbGFibGUoYXVkaW90cmFjaywgdmlkZW90cmFjaykge1xuICAgICAgICB0aGlzLm00bW9mLnJlbXV4KGF1ZGlvdHJhY2ssIHZpZGVvdHJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS8oOWFpWZsdueahOS6jOi/m+WItuaVsOaNrlxuICAgICAqIOe7n+S4gOWFpeWPo1xuICAgICAqIEBwYXJhbSB7YW55fSBhcnJheWJ1ZmZcbiAgICAgKiBAcGFyYW0ge2FueX0gYmFzZVRpbWUgZmx25pWw5o2u5byA5aeL5pe26Ze0XG4gICAgICogQHJldHVybnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBmbHYyZm1wNFxuICAgICAqL1xuICAgIHNldGZsdihhcnJheWJ1ZmYsIGJhc2VUaW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldGZsdkJhc2UoYXJyYXlidWZmLCBiYXNlVGltZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiDmnKzlnLDosIPor5Xku6PnoIEs5LiN55So55CG5LyaXG4gICAgICogQHBhcmFtIHthbnl9IGFycmF5YnVmZlxuICAgICAqIEByZXR1cm5zXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgZmx2MmZtcDRcbiAgICAgKi9cbiAgICBzZXRmbHZsb2MoYXJyYXlidWZmKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGZsdnBhcnNlLnNldEZsdihuZXcgVWludDhBcnJheShhcnJheWJ1ZmYpKTtcblxuICAgICAgICBpZiAoZmx2cGFyc2UuYXJyVGFnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmbHZwYXJzZS5hcnJUYWc7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICog5bCB6KOF55qE5a+55aSW57G7LOacieS6m+aWueazleS4jeaDs+WvueWkluaatOmcsizmiYDku6XlsIHoo4Xov5nkuYjkuIDkuKrnsbtcbiAqXG4gKiBAY2xhc3MgZm9yZWlnblxuICovXG5jbGFzcyBmb3JlaWduIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcblxuICAgICAgICB0aGlzLmYybSA9IG5ldyBmbHYyZm1wNChjb25maWcpO1xuICAgICAgICAvLyDlpJbpg6jmlrnms5XotYvlgLxcbiAgICAgICAgdGhpcy5fb25Jbml0U2VnbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25NZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9zZWVrQ2FsbEJhY2sgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICog6Lez6L2sXG4gICAgICogQHBhcmFtIHthbnl9IGJhc2V0aW1lICDot7Povazml7bpl7RcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBmb3JlaWduXG4gICAgICovXG4gICAgc2VlayhiYXNldGltZSkge1xuICAgICAgICB0aGlzLmYybS5zZWVrKGJhc2V0aW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkvKDlhaVmbHbnmoTkuozov5vliLbmlbDmja5cbiAgICAgKiDnu5/kuIDlhaXlj6NcbiAgICAgKiBAcGFyYW0ge2FueX0gYXJyYXlidWZmXG4gICAgICogQHJldHVybnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBmbHYyZm1wNFxuICAgICAqL1xuICAgIHNldGZsdihhcnJheWJ1ZmYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZjJtLnNldGZsdihhcnJheWJ1ZmYsIDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICog5pys5Zyw6LCD6K+V5Luj56CBLOS4jeeUqOeQhuS8mlxuICAgICAqIEBwYXJhbSB7YW55fSBhcnJheWJ1ZmZcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqXG4gICAgICogQG1lbWJlcm9mIGZsdjJmbXA0XG4gICAgICovXG4gICAgc2V0Zmx2bG9jKGFycmF5YnVmZikge1xuICAgICAgICByZXR1cm4gdGhpcy5mMm0uc2V0Zmx2bG9jKGFycmF5YnVmZik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6LWL5YC85Yid5aeL5YyWc2Vn5o6l5Y+X5pa55rOVXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBmb3JlaWduXG4gICAgICovXG4gICAgc2V0IG9uSW5pdFNlZ21lbnQoZnVuKSB7XG4gICAgICAgIHRoaXMuX29uSW5pdFNlZ21lbnQgPSBmdW47XG4gICAgICAgIHRoaXMuZjJtLm9uSW5pdFNlZ21lbnQgPSBmdW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6LWL5YC8bW9vZuaOpeWPl+aWueazlVxuICAgICAqXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgZm9yZWlnblxuICAgICAqL1xuICAgIHNldCBvbk1lZGlhU2VnbWVudChmdW4pIHtcbiAgICAgICAgdGhpcy5fb25NZWRpYVNlZ21lbnQgPSBmdW47XG4gICAgICAgIHRoaXMuZjJtLm9uTWVkaWFTZWdtZW50ID0gZnVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOi1i+WAvG1ldGFkYXRh5o6l5Y+X5pa55rOVXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBmb3JlaWduXG4gICAgICovXG4gICAgc2V0IG9uTWVkaWFJbmZvKGZ1bikge1xuICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyA9IGZ1bjtcbiAgICAgICAgdGhpcy5mMm0ub25NZWRpYUluZm8gPSBmdW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6LWL5YC85piv5ZCm6Lez6L2s5Zue6LCD5o6l5Y+X5pa55rOVXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBmb3JlaWduXG4gICAgICovXG4gICAgc2V0IHNlZWtDYWxsQmFjayhmdW4pIHtcbiAgICAgICAgdGhpcy5fc2Vla0NhbGxCYWNrID0gZnVuO1xuICAgICAgICB0aGlzLmYybS5zZWVrQ2FsbEJhY2sgPSBmdW47XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmb3JlaWduO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2ZsdjJmbXA0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * This file is modified from dailymotion's hls.js library (hls.js/src/helper/aac.js)\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable */\nvar AAC = function () {\n    function AAC() {\n        _classCallCheck(this, AAC);\n    }\n\n    _createClass(AAC, null, [{\n        key: \"getSilentFrame\",\n        value: function getSilentFrame(channelCount) {\n            if (channelCount === 1) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x23, 0x80]);\n            } else if (channelCount === 2) {\n                return new Uint8Array([0x21, 0x00, 0x49, 0x90, 0x02, 0x19, 0x00, 0x23, 0x80]);\n            } else if (channelCount === 3) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x8e]);\n            } else if (channelCount === 4) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x80, 0x2c, 0x80, 0x08, 0x02, 0x38]);\n            } else if (channelCount === 5) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x38]);\n            } else if (channelCount === 6) {\n                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x00, 0xb2, 0x00, 0x20, 0x08, 0xe0]);\n            }\n            return null;\n        }\n    }]);\n\n    return AAC;\n}();\n\nexports.default = AAC;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9tcDQvYWFjLXNpbGVudC5qcz84YWU3Il0sIm5hbWVzIjpbIkFBQyIsImNoYW5uZWxDb3VudCIsIlVpbnQ4QXJyYXkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBO0lBQ01BLEc7Ozs7Ozs7dUNBRW9CQyxZLEVBQWM7QUFDaEMsZ0JBQUlBLGlCQUFpQixDQUFyQixFQUF3QjtBQUNwQix1QkFBTyxJQUFJQyxVQUFKLENBQWUsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkIsRUFBeUIsSUFBekIsRUFBK0IsSUFBL0IsQ0FBZixDQUFQO0FBQ0gsYUFGRCxNQUVPLElBQUlELGlCQUFpQixDQUFyQixFQUF3QjtBQUMzQix1QkFBTyxJQUFJQyxVQUFKLENBQWUsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkIsRUFBeUIsSUFBekIsRUFBK0IsSUFBL0IsRUFBcUMsSUFBckMsRUFBMkMsSUFBM0MsRUFBaUQsSUFBakQsQ0FBZixDQUFQO0FBQ0gsYUFGTSxNQUVBLElBQUlELGlCQUFpQixDQUFyQixFQUF3QjtBQUMzQix1QkFBTyxJQUFJQyxVQUFKLENBQWUsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkIsRUFBeUIsSUFBekIsRUFBK0IsSUFBL0IsRUFBcUMsSUFBckMsRUFBMkMsSUFBM0MsRUFBaUQsSUFBakQsRUFBdUQsSUFBdkQsRUFBNkQsSUFBN0QsRUFBbUUsSUFBbkUsRUFBeUUsSUFBekUsQ0FBZixDQUFQO0FBQ0gsYUFGTSxNQUVBLElBQUlELGlCQUFpQixDQUFyQixFQUF3QjtBQUMzQix1QkFBTyxJQUFJQyxVQUFKLENBQWUsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkIsRUFBeUIsSUFBekIsRUFBK0IsSUFBL0IsRUFBcUMsSUFBckMsRUFBMkMsSUFBM0MsRUFBaUQsSUFBakQsRUFBdUQsSUFBdkQsRUFBNkQsSUFBN0QsRUFBbUUsSUFBbkUsRUFBeUUsSUFBekUsRUFBK0UsSUFBL0UsRUFBcUYsSUFBckYsRUFBMkYsSUFBM0YsRUFBaUcsSUFBakcsRUFBdUcsSUFBdkcsQ0FBZixDQUFQO0FBQ0gsYUFGTSxNQUVBLElBQUlELGlCQUFpQixDQUFyQixFQUF3QjtBQUMzQix1QkFBTyxJQUFJQyxVQUFKLENBQWUsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkIsRUFBeUIsSUFBekIsRUFBK0IsSUFBL0IsRUFBcUMsSUFBckMsRUFBMkMsSUFBM0MsRUFBaUQsSUFBakQsRUFBdUQsSUFBdkQsRUFBNkQsSUFBN0QsRUFBbUUsSUFBbkUsRUFBeUUsSUFBekUsRUFBK0UsSUFBL0UsRUFBcUYsSUFBckYsRUFBMkYsSUFBM0YsRUFBaUcsSUFBakcsRUFBdUcsSUFBdkcsRUFBNkcsSUFBN0csRUFBbUgsSUFBbkgsRUFBeUgsSUFBekgsQ0FBZixDQUFQO0FBQ0gsYUFGTSxNQUVBLElBQUlELGlCQUFpQixDQUFyQixFQUF3QjtBQUMzQix1QkFBTyxJQUFJQyxVQUFKLENBQWUsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkIsRUFBeUIsSUFBekIsRUFBK0IsSUFBL0IsRUFBcUMsSUFBckMsRUFBMkMsSUFBM0MsRUFBaUQsSUFBakQsRUFBdUQsSUFBdkQsRUFBNkQsSUFBN0QsRUFBbUUsSUFBbkUsRUFBeUUsSUFBekUsRUFBK0UsSUFBL0UsRUFBcUYsSUFBckYsRUFBMkYsSUFBM0YsRUFBaUcsSUFBakcsRUFBdUcsSUFBdkcsRUFBNkcsSUFBN0csRUFBbUgsSUFBbkgsRUFBeUgsSUFBekgsRUFBK0gsSUFBL0gsRUFBcUksSUFBckksRUFBMkksSUFBM0ksRUFBaUosSUFBakosRUFBdUosSUFBdkosQ0FBZixDQUFQO0FBQ0g7QUFDRCxtQkFBTyxJQUFQO0FBQ0g7Ozs7OztrQkFJVUYsRyIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBmaWxlIGlzIG1vZGlmaWVkIGZyb20gZGFpbHltb3Rpb24ncyBobHMuanMgbGlicmFyeSAoaGxzLmpzL3NyYy9oZWxwZXIvYWFjLmpzKVxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbmNsYXNzIEFBQyB7XG5cbiAgICBzdGF0aWMgZ2V0U2lsZW50RnJhbWUoY2hhbm5lbENvdW50KSB7XG4gICAgICAgIGlmIChjaGFubmVsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMywgMHg4MF0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDIxLCAweDAwLCAweDQ5LCAweDkwLCAweDAyLCAweDE5LCAweDAwLCAweDIzLCAweDgwXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4OGVdKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MCwgMHgyYywgMHg4MCwgMHgwOCwgMHgwMiwgMHgzOF0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDM4XSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA2KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4ODIsIDB4MzAsIDB4MDQsIDB4OTksIDB4MDAsIDB4MjEsIDB4OTAsIDB4MDIsIDB4MDAsIDB4YjIsIDB4MDAsIDB4MjAsIDB4MDgsIDB4ZTBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQUFDO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL21wNC9hYWMtc2lsZW50LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable */\n// Represents an media sample (audio / video)\nvar SampleInfo = exports.SampleInfo = function SampleInfo(dts, pts, duration, originalDts, isSync) {\n    _classCallCheck(this, SampleInfo);\n\n    this.dts = dts;\n    this.pts = pts;\n    this.duration = duration;\n    this.originalDts = originalDts;\n    this.isSyncPoint = isSync;\n    this.fileposition = null;\n};\n\n// Media Segment concept is defined in Media Source Extensions spec.\n// Particularly in ISO BMFF format, an Media Segment contains a moof box followed by a mdat box.\n\n\nvar MediaSegmentInfo = exports.MediaSegmentInfo = function () {\n    function MediaSegmentInfo() {\n        _classCallCheck(this, MediaSegmentInfo);\n\n        this.beginDts = 0;\n        this.endDts = 0;\n        this.beginPts = 0;\n        this.endPts = 0;\n        this.originalBeginDts = 0;\n        this.originalEndDts = 0;\n        this.syncPoints = []; // SampleInfo[n], for video IDR frames only\n        this.firstSample = null; // SampleInfo\n        this.lastSample = null; // SampleInfo\n    }\n\n    _createClass(MediaSegmentInfo, [{\n        key: \"appendSyncPoint\",\n        value: function appendSyncPoint(sampleInfo) {\n            // also called Random Access Point\n            sampleInfo.isSyncPoint = true;\n            this.syncPoints.push(sampleInfo);\n        }\n    }]);\n\n    return MediaSegmentInfo;\n}();\n\n// Ordered list for recording video IDR frames, sorted by originalDts\n\n\nvar IDRSampleList = exports.IDRSampleList = function () {\n    function IDRSampleList() {\n        _classCallCheck(this, IDRSampleList);\n\n        this._list = [];\n    }\n\n    _createClass(IDRSampleList, [{\n        key: \"clear\",\n        value: function clear() {\n            this._list = [];\n        }\n    }, {\n        key: \"appendArray\",\n        value: function appendArray(syncPoints) {\n            var list = this._list;\n\n            if (syncPoints.length === 0) {\n                return;\n            }\n\n            if (list.length > 0 && syncPoints[0].originalDts < list[list.length - 1].originalDts) {\n                this.clear();\n            }\n\n            Array.prototype.push.apply(list, syncPoints);\n        }\n    }, {\n        key: \"getLastSyncPointBeforeDts\",\n        value: function getLastSyncPointBeforeDts(dts) {\n            if (this._list.length == 0) {\n                return null;\n            }\n\n            var list = this._list;\n            var idx = 0;\n            var last = list.length - 1;\n            var mid = 0;\n            var lbound = 0;\n            var ubound = last;\n\n            if (dts < list[0].dts) {\n                idx = 0;\n                lbound = ubound + 1;\n            }\n\n            while (lbound <= ubound) {\n                mid = lbound + Math.floor((ubound - lbound) / 2);\n                if (mid === last || dts >= list[mid].dts && dts < list[mid + 1].dts) {\n                    idx = mid;\n                    break;\n                } else if (list[mid].dts < dts) {\n                    lbound = mid + 1;\n                } else {\n                    ubound = mid - 1;\n                }\n            }\n            return this._list[idx];\n        }\n    }]);\n\n    return IDRSampleList;\n}();\n\n// Data structure for recording information of media segments in single track.\n\n\nvar MediaSegmentInfoList = exports.MediaSegmentInfoList = function () {\n    function MediaSegmentInfoList(type) {\n        _classCallCheck(this, MediaSegmentInfoList);\n\n        this._type = type;\n        this._list = [];\n        this._lastAppendLocation = -1; // cached last insert location\n    }\n\n    _createClass(MediaSegmentInfoList, [{\n        key: \"isEmpty\",\n        value: function isEmpty() {\n            return this._list.length === 0;\n        }\n    }, {\n        key: \"clear\",\n        value: function clear() {\n            this._list = [];\n            this._lastAppendLocation = -1;\n        }\n    }, {\n        key: \"_searchNearestSegmentBefore\",\n        value: function _searchNearestSegmentBefore(originalBeginDts) {\n            var list = this._list;\n            if (list.length === 0) {\n                return -2;\n            }\n            var last = list.length - 1;\n            var mid = 0;\n            var lbound = 0;\n            var ubound = last;\n\n            var idx = 0;\n\n            if (originalBeginDts < list[0].originalBeginDts) {\n                idx = -1;\n                return idx;\n            }\n\n            while (lbound <= ubound) {\n                mid = lbound + Math.floor((ubound - lbound) / 2);\n                if (mid === last || originalBeginDts > list[mid].lastSample.originalDts && originalBeginDts < list[mid + 1].originalBeginDts) {\n                    idx = mid;\n                    break;\n                } else if (list[mid].originalBeginDts < originalBeginDts) {\n                    lbound = mid + 1;\n                } else {\n                    ubound = mid - 1;\n                }\n            }\n            return idx;\n        }\n    }, {\n        key: \"_searchNearestSegmentAfter\",\n        value: function _searchNearestSegmentAfter(originalBeginDts) {\n            return this._searchNearestSegmentBefore(originalBeginDts) + 1;\n        }\n    }, {\n        key: \"append\",\n        value: function append(mediaSegmentInfo) {\n            var list = this._list;\n            var msi = mediaSegmentInfo;\n            var lastAppendIdx = this._lastAppendLocation;\n            var insertIdx = 0;\n\n            if (lastAppendIdx !== -1 && lastAppendIdx < list.length && msi.originalBeginDts >= list[lastAppendIdx].lastSample.originalDts && (lastAppendIdx === list.length - 1 || lastAppendIdx < list.length - 1 && msi.originalBeginDts < list[lastAppendIdx + 1].originalBeginDts)) {\n                insertIdx = lastAppendIdx + 1; // use cached location idx\n            } else {\n                if (list.length > 0) {\n                    insertIdx = this._searchNearestSegmentBefore(msi.originalBeginDts) + 1;\n                }\n            }\n\n            this._lastAppendLocation = insertIdx;\n            this._list.splice(insertIdx, 0, msi);\n        }\n    }, {\n        key: \"getLastSegmentBefore\",\n        value: function getLastSegmentBefore(originalBeginDts) {\n            var idx = this._searchNearestSegmentBefore(originalBeginDts);\n            if (idx >= 0) {\n                return this._list[idx];\n            } else {\n                // -1\n                return null;\n            }\n        }\n    }, {\n        key: \"getLastSampleBefore\",\n        value: function getLastSampleBefore(originalBeginDts) {\n            var segment = this.getLastSegmentBefore(originalBeginDts);\n            if (segment != null) {\n                return segment.lastSample;\n            } else {\n                return null;\n            }\n        }\n    }, {\n        key: \"getLastSyncPointBefore\",\n        value: function getLastSyncPointBefore(originalBeginDts) {\n            var segmentIdx = this._searchNearestSegmentBefore(originalBeginDts);\n            var syncPoints = this._list[segmentIdx].syncPoints;\n            while (syncPoints.length === 0 && segmentIdx > 0) {\n                segmentIdx--;\n                syncPoints = this._list[segmentIdx].syncPoints;\n            }\n            if (syncPoints.length > 0) {\n                return syncPoints[syncPoints.length - 1];\n            } else {\n                return null;\n            }\n        }\n    }, {\n        key: \"type\",\n        get: function get() {\n            return this._type;\n        }\n    }, {\n        key: \"length\",\n        get: function get() {\n            return this._list.length;\n        }\n    }]);\n\n    return MediaSegmentInfoList;\n}();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9tcDQvbWVkaWEtc2VnbWVudC1pbmZvLmpzP2MyZmIiXSwibmFtZXMiOlsiU2FtcGxlSW5mbyIsImR0cyIsInB0cyIsImR1cmF0aW9uIiwib3JpZ2luYWxEdHMiLCJpc1N5bmMiLCJpc1N5bmNQb2ludCIsImZpbGVwb3NpdGlvbiIsIk1lZGlhU2VnbWVudEluZm8iLCJiZWdpbkR0cyIsImVuZER0cyIsImJlZ2luUHRzIiwiZW5kUHRzIiwib3JpZ2luYWxCZWdpbkR0cyIsIm9yaWdpbmFsRW5kRHRzIiwic3luY1BvaW50cyIsImZpcnN0U2FtcGxlIiwibGFzdFNhbXBsZSIsInNhbXBsZUluZm8iLCJwdXNoIiwiSURSU2FtcGxlTGlzdCIsIl9saXN0IiwibGlzdCIsImxlbmd0aCIsImNsZWFyIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJhcHBseSIsImlkeCIsImxhc3QiLCJtaWQiLCJsYm91bmQiLCJ1Ym91bmQiLCJNYXRoIiwiZmxvb3IiLCJNZWRpYVNlZ21lbnRJbmZvTGlzdCIsInR5cGUiLCJfdHlwZSIsIl9sYXN0QXBwZW5kTG9jYXRpb24iLCJfc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUiLCJtZWRpYVNlZ21lbnRJbmZvIiwibXNpIiwibGFzdEFwcGVuZElkeCIsImluc2VydElkeCIsInNwbGljZSIsInNlZ21lbnQiLCJnZXRMYXN0U2VnbWVudEJlZm9yZSIsInNlZ21lbnRJZHgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7QUFDQTtJQUNhQSxVLFdBQUFBLFUsR0FFVCxvQkFBWUMsR0FBWixFQUFpQkMsR0FBakIsRUFBc0JDLFFBQXRCLEVBQWdDQyxXQUFoQyxFQUE2Q0MsTUFBN0MsRUFBcUQ7QUFBQTs7QUFDakQsU0FBS0osR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0MsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxX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QkFBSWUsT0FBTyxDQUFYLEVBQWM7QUFDVix1QkFBTyxLQUFLUCxLQUFMLENBQVdPLEdBQVgsQ0FBUDtBQUNILGFBRkQsTUFFTztBQUFFO0FBQ0wsdUJBQU8sSUFBUDtBQUNIO0FBQ0o7Ozs0Q0FFbUJmLGdCLEVBQWtCO0FBQ2xDLGdCQUFNZ0MsVUFBVSxLQUFLQyxvQkFBTCxDQUEwQmpDLGdCQUExQixDQUFoQjtBQUNBLGdCQUFJZ0MsV0FBVyxJQUFmLEVBQXFCO0FBQ2pCLHVCQUFPQSxRQUFRNUIsVUFBZjtBQUNILGFBRkQsTUFFTztBQUNILHVCQUFPLElBQVA7QUFDSDtBQUNKOzs7K0NBRXNCSixnQixFQUFrQjtBQUNyQyxnQkFBSWtDLGFBQWEsS0FBS1IsMkJBQUwsQ0FBaUMxQixnQkFBakMsQ0FBakI7QUFDQSxnQkFBSUUsYUFBYSxLQUFLTSxLQUFMLENBQVcwQixVQUFYLEVBQXVCaEMsVUFBeEM7QUFDQSxtQkFBT0EsV0FBV1EsTUFBWCxLQUFzQixDQUF0QixJQUEyQndCLGFBQWEsQ0FBL0MsRUFBa0Q7QUFDOUNBO0FBQ0FoQyw2QkFBYSxLQUFLTSxLQUFMLENBQVcwQixVQUFYLEVBQXVCaEMsVUFBcEM7QUFDSDtBQUNELGdCQUFJQSxXQUFXUSxNQUFYLEdBQW9CLENBQXhCLEVBQTJCO0FBQ3ZCLHVCQUFPUixXQUFXQSxXQUFXUSxNQUFYLEdBQW9CLENBQS9CLENBQVA7QUFDSCxhQUZELE1BRU87QUFDSCx1QkFBTyxJQUFQO0FBQ0g7QUFDSjs7OzRCQXpHVTtBQUNQLG1CQUFPLEtBQUtjLEtBQVo7QUFDSDs7OzRCQUVZO0FBQ1QsbUJBQU8sS0FBS2hCLEtBQUwsQ0FBV0UsTUFBbEI7QUFDSCIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIFJlcHJlc2VudHMgYW4gbWVkaWEgc2FtcGxlIChhdWRpbyAvIHZpZGVvKVxuZXhwb3J0IGNsYXNzIFNhbXBsZUluZm8ge1xuXG4gICAgY29uc3RydWN0b3IoZHRzLCBwdHMsIGR1cmF0aW9uLCBvcmlnaW5hbER0cywgaXNTeW5jKSB7XG4gICAgICAgIHRoaXMuZHRzID0gZHRzO1xuICAgICAgICB0aGlzLnB0cyA9IHB0cztcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRHRzID0gb3JpZ2luYWxEdHM7XG4gICAgICAgIHRoaXMuaXNTeW5jUG9pbnQgPSBpc1N5bmM7XG4gICAgICAgIHRoaXMuZmlsZXBvc2l0aW9uID0gbnVsbDtcbiAgICB9XG5cbn1cblxuLy8gTWVkaWEgU2VnbWVudCBjb25jZXB0IGlzIGRlZmluZWQgaW4gTWVkaWEgU291cmNlIEV4dGVuc2lvbnMgc3BlYy5cbi8vIFBhcnRpY3VsYXJseSBpbiBJU08gQk1GRiBmb3JtYXQsIGFuIE1lZGlhIFNlZ21lbnQgY29udGFpbnMgYSBtb29mIGJveCBmb2xsb3dlZCBieSBhIG1kYXQgYm94LlxuZXhwb3J0IGNsYXNzIE1lZGlhU2VnbWVudEluZm8ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYmVnaW5EdHMgPSAwO1xuICAgICAgICB0aGlzLmVuZER0cyA9IDA7XG4gICAgICAgIHRoaXMuYmVnaW5QdHMgPSAwO1xuICAgICAgICB0aGlzLmVuZFB0cyA9IDA7XG4gICAgICAgIHRoaXMub3JpZ2luYWxCZWdpbkR0cyA9IDA7XG4gICAgICAgIHRoaXMub3JpZ2luYWxFbmREdHMgPSAwO1xuICAgICAgICB0aGlzLnN5bmNQb2ludHMgPSBbXTsgLy8gU2FtcGxlSW5mb1tuXSwgZm9yIHZpZGVvIElEUiBmcmFtZXMgb25seVxuICAgICAgICB0aGlzLmZpcnN0U2FtcGxlID0gbnVsbDsgLy8gU2FtcGxlSW5mb1xuICAgICAgICB0aGlzLmxhc3RTYW1wbGUgPSBudWxsOyAvLyBTYW1wbGVJbmZvXG4gICAgfVxuXG4gICAgYXBwZW5kU3luY1BvaW50KHNhbXBsZUluZm8pIHsgLy8gYWxzbyBjYWxsZWQgUmFuZG9tIEFjY2VzcyBQb2ludFxuICAgICAgICBzYW1wbGVJbmZvLmlzU3luY1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zeW5jUG9pbnRzLnB1c2goc2FtcGxlSW5mbyk7XG4gICAgfVxuXG59XG5cbi8vIE9yZGVyZWQgbGlzdCBmb3IgcmVjb3JkaW5nIHZpZGVvIElEUiBmcmFtZXMsIHNvcnRlZCBieSBvcmlnaW5hbER0c1xuZXhwb3J0IGNsYXNzIElEUlNhbXBsZUxpc3Qge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xuICAgIH1cblxuICAgIGFwcGVuZEFycmF5KHN5bmNQb2ludHMpIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMuX2xpc3Q7XG5cbiAgICAgICAgaWYgKHN5bmNQb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPiAwICYmIHN5bmNQb2ludHNbMF0ub3JpZ2luYWxEdHMgPCBsaXN0W2xpc3QubGVuZ3RoIC0gMV0ub3JpZ2luYWxEdHMpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGxpc3QsIHN5bmNQb2ludHMpO1xuICAgIH1cblxuICAgIGdldExhc3RTeW5jUG9pbnRCZWZvcmVEdHMoZHRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9saXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLl9saXN0O1xuICAgICAgICBsZXQgaWR4ID0gMDtcbiAgICAgICAgY29uc3QgbGFzdCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IG1pZCA9IDA7XG4gICAgICAgIGxldCBsYm91bmQgPSAwO1xuICAgICAgICBsZXQgdWJvdW5kID0gbGFzdDtcblxuICAgICAgICBpZiAoZHRzIDwgbGlzdFswXS5kdHMpIHtcbiAgICAgICAgICAgIGlkeCA9IDA7XG4gICAgICAgICAgICBsYm91bmQgPSB1Ym91bmQgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGxib3VuZCA8PSB1Ym91bmQpIHtcbiAgICAgICAgICAgIG1pZCA9IGxib3VuZCArIE1hdGguZmxvb3IoKHVib3VuZCAtIGxib3VuZCkgLyAyKTtcbiAgICAgICAgICAgIGlmIChtaWQgPT09IGxhc3QgfHwgKGR0cyA+PSBsaXN0W21pZF0uZHRzICYmIGR0cyA8IGxpc3RbbWlkICsgMV0uZHRzKSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IG1pZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdLmR0cyA8IGR0cykge1xuICAgICAgICAgICAgICAgIGxib3VuZCA9IG1pZCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVib3VuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RbaWR4XTtcbiAgICB9XG5cbn1cblxuLy8gRGF0YSBzdHJ1Y3R1cmUgZm9yIHJlY29yZGluZyBpbmZvcm1hdGlvbiBvZiBtZWRpYSBzZWdtZW50cyBpbiBzaW5nbGUgdHJhY2suXG5leHBvcnQgY2xhc3MgTWVkaWFTZWdtZW50SW5mb0xpc3Qge1xuXG4gICAgY29uc3RydWN0b3IodHlwZSkge1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xuICAgICAgICB0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb24gPSAtMTsgLy8gY2FjaGVkIGxhc3QgaW5zZXJ0IGxvY2F0aW9uXG4gICAgfVxuXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cblxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0Lmxlbmd0aDtcbiAgICB9XG5cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdC5sZW5ndGggPT09IDA7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5fbGFzdEFwcGVuZExvY2F0aW9uID0gLTE7XG4gICAgfVxuXG4gICAgX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKG9yaWdpbmFsQmVnaW5EdHMpIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMuX2xpc3Q7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIC0yO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxhc3QgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBtaWQgPSAwO1xuICAgICAgICBsZXQgbGJvdW5kID0gMDtcbiAgICAgICAgbGV0IHVib3VuZCA9IGxhc3Q7XG5cbiAgICAgICAgbGV0IGlkeCA9IDA7XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsQmVnaW5EdHMgPCBsaXN0WzBdLm9yaWdpbmFsQmVnaW5EdHMpIHtcbiAgICAgICAgICAgIGlkeCA9IC0xO1xuICAgICAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChsYm91bmQgPD0gdWJvdW5kKSB7XG4gICAgICAgICAgICBtaWQgPSBsYm91bmQgKyBNYXRoLmZsb29yKCh1Ym91bmQgLSBsYm91bmQpIC8gMik7XG4gICAgICAgICAgICBpZiAobWlkID09PSBsYXN0IHx8IChvcmlnaW5hbEJlZ2luRHRzID4gbGlzdFttaWRdLmxhc3RTYW1wbGUub3JpZ2luYWxEdHMgJiZcbiAgICAgICAgICAgICAgICAgICAgKG9yaWdpbmFsQmVnaW5EdHMgPCBsaXN0W21pZCArIDFdLm9yaWdpbmFsQmVnaW5EdHMpKSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IG1pZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdLm9yaWdpbmFsQmVnaW5EdHMgPCBvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgICAgICAgICAgbGJvdW5kID0gbWlkICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWJvdW5kID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWR4O1xuICAgIH1cblxuICAgIF9zZWFyY2hOZWFyZXN0U2VnbWVudEFmdGVyKG9yaWdpbmFsQmVnaW5EdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKG9yaWdpbmFsQmVnaW5EdHMpICsgMTtcbiAgICB9XG5cbiAgICBhcHBlbmQobWVkaWFTZWdtZW50SW5mbykge1xuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5fbGlzdDtcbiAgICAgICAgY29uc3QgbXNpID0gbWVkaWFTZWdtZW50SW5mbztcbiAgICAgICAgY29uc3QgbGFzdEFwcGVuZElkeCA9IHRoaXMuX2xhc3RBcHBlbmRMb2NhdGlvbjtcbiAgICAgICAgbGV0IGluc2VydElkeCA9IDA7XG5cbiAgICAgICAgaWYgKGxhc3RBcHBlbmRJZHggIT09IC0xICYmIGxhc3RBcHBlbmRJZHggPCBsaXN0Lmxlbmd0aCAmJlxuICAgICAgICAgICAgbXNpLm9yaWdpbmFsQmVnaW5EdHMgPj0gbGlzdFtsYXN0QXBwZW5kSWR4XS5sYXN0U2FtcGxlLm9yaWdpbmFsRHRzICYmXG4gICAgICAgICAgICAoKGxhc3RBcHBlbmRJZHggPT09IGxpc3QubGVuZ3RoIC0gMSkgfHxcbiAgICAgICAgICAgICAgICAobGFzdEFwcGVuZElkeCA8IGxpc3QubGVuZ3RoIC0gMSAmJlxuICAgICAgICAgICAgICAgICAgICBtc2kub3JpZ2luYWxCZWdpbkR0cyA8IGxpc3RbbGFzdEFwcGVuZElkeCArIDFdLm9yaWdpbmFsQmVnaW5EdHMpKSkge1xuICAgICAgICAgICAgaW5zZXJ0SWR4ID0gbGFzdEFwcGVuZElkeCArIDE7IC8vIHVzZSBjYWNoZWQgbG9jYXRpb24gaWR4XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0SWR4ID0gdGhpcy5fc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUobXNpLm9yaWdpbmFsQmVnaW5EdHMpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RBcHBlbmRMb2NhdGlvbiA9IGluc2VydElkeDtcbiAgICAgICAgdGhpcy5fbGlzdC5zcGxpY2UoaW5zZXJ0SWR4LCAwLCBtc2kpO1xuICAgIH1cblxuICAgIGdldExhc3RTZWdtZW50QmVmb3JlKG9yaWdpbmFsQmVnaW5EdHMpIHtcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5fc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cyk7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RbaWR4XTtcbiAgICAgICAgfSBlbHNlIHsgLy8gLTFcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TGFzdFNhbXBsZUJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSB0aGlzLmdldExhc3RTZWdtZW50QmVmb3JlKG9yaWdpbmFsQmVnaW5EdHMpO1xuICAgICAgICBpZiAoc2VnbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VnbWVudC5sYXN0U2FtcGxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRMYXN0U3luY1BvaW50QmVmb3JlKG9yaWdpbmFsQmVnaW5EdHMpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRJZHggPSB0aGlzLl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKTtcbiAgICAgICAgbGV0IHN5bmNQb2ludHMgPSB0aGlzLl9saXN0W3NlZ21lbnRJZHhdLnN5bmNQb2ludHM7XG4gICAgICAgIHdoaWxlIChzeW5jUG9pbnRzLmxlbmd0aCA9PT0gMCAmJiBzZWdtZW50SWR4ID4gMCkge1xuICAgICAgICAgICAgc2VnbWVudElkeC0tO1xuICAgICAgICAgICAgc3luY1BvaW50cyA9IHRoaXMuX2xpc3Rbc2VnbWVudElkeF0uc3luY1BvaW50cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3luY1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3luY1BvaW50c1tzeW5jUG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9tcDQvbWVkaWEtc2VnbWVudC1pbmZvLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable */\nvar Browser = {};\n\nfunction detect() {\n    // modified from jquery-browser-plugin\n\n    var ua = self.navigator.userAgent.toLowerCase();\n\n    var match = /(edge)\\/([\\w.]+)/.exec(ua) || /(opr)[\\/]([\\w.]+)/.exec(ua) || /(chrome)[ \\/]([\\w.]+)/.exec(ua) || /(iemobile)[\\/]([\\w.]+)/.exec(ua) || /(version)(applewebkit)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(ua) || /(webkit)[ \\/]([\\w.]+).*(version)[ \\/]([\\w.]+).*(safari)[ \\/]([\\w.]+)/.exec(ua) || /(webkit)[ \\/]([\\w.]+)/.exec(ua) || /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) || /(msie) ([\\w.]+)/.exec(ua) || ua.indexOf('trident') >= 0 && /(rv)(?::| )([\\w.]+)/.exec(ua) || ua.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) || [];\n\n    var platform_match = /(ipad)/.exec(ua) || /(ipod)/.exec(ua) || /(windows phone)/.exec(ua) || /(iphone)/.exec(ua) || /(kindle)/.exec(ua) || /(android)/.exec(ua) || /(windows)/.exec(ua) || /(mac)/.exec(ua) || /(linux)/.exec(ua) || /(cros)/.exec(ua) || [];\n\n    var matched = {\n        browser: match[5] || match[3] || match[1] || '',\n        version: match[2] || match[4] || '0',\n        majorVersion: match[4] || match[2] || '0',\n        platform: platform_match[0] || ''\n    };\n\n    var browser = {};\n    if (matched.browser) {\n        browser[matched.browser] = true;\n\n        var versionArray = matched.majorVersion.split('.');\n        browser.version = {\n            major: parseInt(matched.majorVersion, 10),\n            string: matched.version\n        };\n        if (versionArray.length > 1) {\n            browser.version.minor = parseInt(versionArray[1], 10);\n        }\n        if (versionArray.length > 2) {\n            browser.version.build = parseInt(versionArray[2], 10);\n        }\n    }\n\n    if (matched.platform) {\n        browser[matched.platform] = true;\n    }\n\n    if (browser.chrome || browser.opr || browser.safari) {\n        browser.webkit = true;\n    }\n\n    // MSIE. IE11 has 'rv' identifer\n    if (browser.rv || browser.iemobile) {\n        if (browser.rv) {\n            delete browser.rv;\n        }\n        var msie = 'msie';\n        matched.browser = msie;\n        browser[msie] = true;\n    }\n\n    // Microsoft Edge\n    if (browser.edge) {\n        delete browser.edge;\n        var msedge = 'msedge';\n        matched.browser = msedge;\n        browser[msedge] = true;\n    }\n\n    // Opera 15+\n    if (browser.opr) {\n        var opera = 'opera';\n        matched.browser = opera;\n        browser[opera] = true;\n    }\n\n    // Stock android browsers are marked as Safari\n    if (browser.safari && browser.android) {\n        var android = 'android';\n        matched.browser = android;\n        browser[android] = true;\n    }\n\n    browser.name = matched.browser;\n    browser.platform = matched.platform;\n\n    for (var key in Browser) {\n        if (Browser.hasOwnProperty(key)) {\n            delete Browser[key];\n        }\n    }\n    Object.assign(Browser, browser);\n}\n\ndetect();\n\nexports.default = Browser;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy91dGlscy9icm93c2VyLmpzPzQ3NTkiXSwibmFtZXMiOlsiQnJvd3NlciIsImRldGVjdCIsInVhIiwic2VsZiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJleGVjIiwiaW5kZXhPZiIsInBsYXRmb3JtX21hdGNoIiwibWF0Y2hlZCIsImJyb3dzZXIiLCJ2ZXJzaW9uIiwibWFqb3JWZXJzaW9uIiwicGxhdGZvcm0iLCJ2ZXJzaW9uQXJyYXkiLCJzcGxpdCIsIm1ham9yIiwicGFyc2VJbnQiLCJzdHJpbmciLCJsZW5ndGgiLCJtaW5vciIsImJ1aWxkIiwiY2hyb21lIiwib3ByIiwic2FmYXJpIiwid2Via2l0IiwicnYiLCJpZW1vYmlsZSIsIm1zaWUiLCJlZGdlIiwibXNlZGdlIiwib3BlcmEiLCJhbmRyb2lkIiwibmFtZSIsImtleSIsImhhc093blByb3BlcnR5IiwiT2JqZWN0IiwiYXNzaWduIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQTtBQUNBLElBQU1BLFVBQVUsRUFBaEI7O0FBRUEsU0FBU0MsTUFBVCxHQUFrQjtBQUNkOztBQUVBLFFBQU1DLEtBQUtDLEtBQUtDLFNBQUwsQ0FBZUMsU0FBZixDQUF5QkMsV0FBekIsRUFBWDs7QUFFQSxRQUFNQyxRQUFRLG1CQUFtQkMsSUFBbkIsQ0FBd0JOLEVBQXhCLEtBQ1Ysb0JBQW9CTSxJQUFwQixDQUF5Qk4sRUFBekIsQ0FEVSxJQUVWLHdCQUF3Qk0sSUFBeEIsQ0FBNkJOLEVBQTdCLENBRlUsSUFHVix5QkFBeUJNLElBQXpCLENBQThCTixFQUE5QixDQUhVLElBSVYsNkRBQTZETSxJQUE3RCxDQUFrRU4sRUFBbEUsQ0FKVSxJQUtWLHVFQUF1RU0sSUFBdkUsQ0FBNEVOLEVBQTVFLENBTFUsSUFNVix3QkFBd0JNLElBQXhCLENBQTZCTixFQUE3QixDQU5VLElBT1YscUNBQXFDTSxJQUFyQyxDQUEwQ04s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O0FBQ0FyQixnQkFBUUMsT0FBUixHQUFrQm9CLE1BQWxCO0FBQ0FwQixnQkFBUW9CLE1BQVIsSUFBa0IsSUFBbEI7QUFDSDs7QUFFRDtBQUNBLFFBQUlwQixRQUFRYSxHQUFaLEVBQWlCO0FBQ2IsWUFBTVEsUUFBUSxPQUFkO0FBQ0F0QixnQkFBUUMsT0FBUixHQUFrQnFCLEtBQWxCO0FBQ0FyQixnQkFBUXFCLEtBQVIsSUFBaUIsSUFBakI7QUFDSDs7QUFFRDtBQUNBLFFBQUlyQixRQUFRYyxNQUFSLElBQWtCZCxRQUFRc0IsT0FBOUIsRUFBdUM7QUFDbkMsWUFBTUEsVUFBVSxTQUFoQjtBQUNBdkIsZ0JBQVFDLE9BQVIsR0FBa0JzQixPQUFsQjtBQUNBdEIsZ0JBQVFzQixPQUFSLElBQW1CLElBQW5CO0FBQ0g7O0FBRUR0QixZQUFRdUIsSUFBUixHQUFleEIsUUFBUUMsT0FBdkI7QUFDQUEsWUFBUUcsUUFBUixHQUFtQkosUUFBUUksUUFBM0I7O0FBRUEsU0FBSyxJQUFNcUIsR0FBWCxJQUFrQnBDLE9BQWxCLEVBQTJCO0FBQ3ZCLFlBQUlBLFFBQVFxQyxjQUFSLENBQXVCRCxHQUF2QixDQUFKLEVBQWlDO0FBQzdCLG1CQUFPcEMsUUFBUW9DLEdBQVIsQ0FBUDtBQUNIO0FBQ0o7QUFDREUsV0FBT0MsTUFBUCxDQUFjdkMsT0FBZCxFQUF1QlksT0FBdkI7QUFDSDs7QUFFRFg7O2tCQUVlRCxPIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgQnJvd3NlciA9IHt9O1xuXG5mdW5jdGlvbiBkZXRlY3QoKSB7XG4gICAgLy8gbW9kaWZpZWQgZnJvbSBqcXVlcnktYnJvd3Nlci1wbHVnaW5cblxuICAgIGNvbnN0IHVhID0gc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICBjb25zdCBtYXRjaCA9IC8oZWRnZSlcXC8oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8ob3ByKVtcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGNocm9tZSlbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oaWVtb2JpbGUpW1xcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8odmVyc2lvbikoYXBwbGV3ZWJraXQpWyBcXC9dKFtcXHcuXSspLiooc2FmYXJpKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspLioodmVyc2lvbilbIFxcL10oW1xcdy5dKykuKihzYWZhcmkpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKHdlYmtpdClbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8ob3BlcmEpKD86Lip2ZXJzaW9ufClbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8obXNpZSkgKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICB1YS5pbmRleE9mKCd0cmlkZW50JykgPj0gMCAmJiAvKHJ2KSg/Ojp8ICkoW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIHVhLmluZGV4T2YoJ2NvbXBhdGlibGUnKSA8IDAgJiYgLyhtb3ppbGxhKSg/Oi4qPyBydjooW1xcdy5dKyl8KS8uZXhlYyh1YSkgfHwgW107XG5cbiAgICBjb25zdCBwbGF0Zm9ybV9tYXRjaCA9IC8oaXBhZCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oaXBvZCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8od2luZG93cyBwaG9uZSkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oaXBob25lKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhraW5kbGUpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGFuZHJvaWQpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKHdpbmRvd3MpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG1hYykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8obGludXgpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGNyb3MpLy5leGVjKHVhKSB8fCBbXTtcblxuICAgIGNvbnN0IG1hdGNoZWQgPSB7XG4gICAgICAgIGJyb3dzZXI6IG1hdGNoWzVdIHx8IG1hdGNoWzNdIHx8IG1hdGNoWzFdIHx8ICcnLFxuICAgICAgICB2ZXJzaW9uOiBtYXRjaFsyXSB8fCBtYXRjaFs0XSB8fCAnMCcsXG4gICAgICAgIG1ham9yVmVyc2lvbjogbWF0Y2hbNF0gfHwgbWF0Y2hbMl0gfHwgJzAnLFxuICAgICAgICBwbGF0Zm9ybTogcGxhdGZvcm1fbWF0Y2hbMF0gfHwgJydcbiAgICB9O1xuXG4gICAgY29uc3QgYnJvd3NlciA9IHt9O1xuICAgIGlmIChtYXRjaGVkLmJyb3dzZXIpIHtcbiAgICAgICAgYnJvd3NlclttYXRjaGVkLmJyb3dzZXJdID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCB2ZXJzaW9uQXJyYXkgPSBtYXRjaGVkLm1ham9yVmVyc2lvbi5zcGxpdCgnLicpO1xuICAgICAgICBicm93c2VyLnZlcnNpb24gPSB7XG4gICAgICAgICAgICBtYWpvcjogcGFyc2VJbnQobWF0Y2hlZC5tYWpvclZlcnNpb24sIDEwKSxcbiAgICAgICAgICAgIHN0cmluZzogbWF0Y2hlZC52ZXJzaW9uXG4gICAgICAgIH07XG4gICAgICAgIGlmICh2ZXJzaW9uQXJyYXkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgYnJvd3Nlci52ZXJzaW9uLm1pbm9yID0gcGFyc2VJbnQodmVyc2lvbkFycmF5WzFdLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZlcnNpb25BcnJheS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBicm93c2VyLnZlcnNpb24uYnVpbGQgPSBwYXJzZUludCh2ZXJzaW9uQXJyYXlbMl0sIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRjaGVkLnBsYXRmb3JtKSB7XG4gICAgICAgIGJyb3dzZXJbbWF0Y2hlZC5wbGF0Zm9ybV0gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChicm93c2VyLmNocm9tZSB8fCBicm93c2VyLm9wciB8fCBicm93c2VyLnNhZmFyaSkge1xuICAgICAgICBicm93c2VyLndlYmtpdCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gTVNJRS4gSUUxMSBoYXMgJ3J2JyBpZGVudGlmZXJcbiAgICBpZiAoYnJvd3Nlci5ydiB8fCBicm93c2VyLmllbW9iaWxlKSB7XG4gICAgICAgIGlmIChicm93c2VyLnJ2KSB7XG4gICAgICAgICAgICBkZWxldGUgYnJvd3Nlci5ydjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtc2llID0gJ21zaWUnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBtc2llO1xuICAgICAgICBicm93c2VyW21zaWVdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBNaWNyb3NvZnQgRWRnZVxuICAgIGlmIChicm93c2VyLmVkZ2UpIHtcbiAgICAgICAgZGVsZXRlIGJyb3dzZXIuZWRnZTtcbiAgICAgICAgY29uc3QgbXNlZGdlID0gJ21zZWRnZSc7XG4gICAgICAgIG1hdGNoZWQuYnJvd3NlciA9IG1zZWRnZTtcbiAgICAgICAgYnJvd3Nlclttc2VkZ2VdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBPcGVyYSAxNStcbiAgICBpZiAoYnJvd3Nlci5vcHIpIHtcbiAgICAgICAgY29uc3Qgb3BlcmEgPSAnb3BlcmEnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBvcGVyYTtcbiAgICAgICAgYnJvd3NlcltvcGVyYV0gPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIFN0b2NrIGFuZHJvaWQgYnJvd3NlcnMgYXJlIG1hcmtlZCBhcyBTYWZhcmlcbiAgICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgYnJvd3Nlci5hbmRyb2lkKSB7XG4gICAgICAgIGNvbnN0IGFuZHJvaWQgPSAnYW5kcm9pZCc7XG4gICAgICAgIG1hdGNoZWQuYnJvd3NlciA9IGFuZHJvaWQ7XG4gICAgICAgIGJyb3dzZXJbYW5kcm9pZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIGJyb3dzZXIubmFtZSA9IG1hdGNoZWQuYnJvd3NlcjtcbiAgICBicm93c2VyLnBsYXRmb3JtID0gbWF0Y2hlZC5wbGF0Zm9ybTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIEJyb3dzZXIpIHtcbiAgICAgICAgaWYgKEJyb3dzZXIuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgZGVsZXRlIEJyb3dzZXJba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKEJyb3dzZXIsIGJyb3dzZXIpO1xufVxuXG5kZXRlY3QoKTtcblxuZXhwb3J0IGRlZmF1bHQgQnJvd3NlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy91dGlscy9icm93c2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(5);


/***/ })
/******/ ]);